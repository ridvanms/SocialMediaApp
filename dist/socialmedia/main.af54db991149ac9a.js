"use strict";(self.webpackChunksocialmedia=self.webpackChunksocialmedia||[]).push([[179],{778:(ec,mi,$t)=>{$t.d(mi,{Z:()=>se});var kt,ht,be=$t(582),S=$t(157),$e=$t(75),rt=$t(83),Bi=((kt={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",kt["bad-app-name"]="Illegal App name: '{$appName}",kt["duplicate-app"]="Firebase App named '{$appName}' already exists",kt["app-deleted"]="Firebase App named '{$appName}' already deleted",kt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",kt["invalid-log-argument"]="First argument to `onLog` must be null or a function.",kt),Ar=new S.LL("app","Firebase",Bi),Vi="@firebase/app",qn="[DEFAULT]",Ge=((ht={})[Vi]="fire-core",ht["@firebase/analytics"]="fire-analytics",ht["@firebase/app-check"]="fire-app-check",ht["@firebase/auth"]="fire-auth",ht["@firebase/database"]="fire-rtdb",ht["@firebase/functions"]="fire-fn",ht["@firebase/installations"]="fire-iid",ht["@firebase/messaging"]="fire-fcm",ht["@firebase/performance"]="fire-perf",ht["@firebase/remote-config"]="fire-rc",ht["@firebase/storage"]="fire-gcs",ht["@firebase/firestore"]="fire-fst",ht["fire-js"]="fire-js",ht["firebase-wrapper"]="fire-js-all",ht),Gt=new rt.Yd("@firebase/app"),Ui=function(){function Y(J,ye,me){var Ie=this;this.firebase_=me,this.isDeleted_=!1,this.name_=ye.name,this.automaticDataCollectionEnabled_=ye.automaticDataCollectionEnabled||!1,this.options_=(0,S.p$)(J),this.container=new $e.H0(ye.name),this._addComponent(new $e.wA("app",function(){return Ie},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Nt){return Ie._addComponent(Nt)})}return Object.defineProperty(Y.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(J){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=J},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Y.prototype.delete=function(){var J=this;return new Promise(function(ye){J.checkDestroyed_(),ye()}).then(function(){return J.firebase_.INTERNAL.removeApp(J.name_),Promise.all(J.container.getProviders().map(function(ye){return ye.delete()}))}).then(function(){J.isDeleted_=!0})},Y.prototype._getService=function(J,ye){var me;void 0===ye&&(ye=qn),this.checkDestroyed_();var Ie=this.container.getProvider(J);return!Ie.isInitialized()&&"EXPLICIT"===(null===(me=Ie.getComponent())||void 0===me?void 0:me.instantiationMode)&&Ie.initialize(),Ie.getImmediate({identifier:ye})},Y.prototype._removeServiceInstance=function(J,ye){void 0===ye&&(ye=qn),this.container.getProvider(J).clearInstance(ye)},Y.prototype._addComponent=function(J){try{this.container.addComponent(J)}catch(ye){Gt.debug("Component "+J.name+" failed to register with FirebaseApp "+this.name,ye)}},Y.prototype._addOrOverwriteComponent=function(J){this.container.addOrOverwriteComponent(J)},Y.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Y.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ar.create("app-deleted",{appName:this.name_})},Y}();Ui.prototype.name&&Ui.prototype.options||Ui.prototype.delete||console.log("dc");var Mr=function Q(){var Y=function to(Y){var J={},ye=new Map,me={__esModule:!0,initializeApp:function Ye(Et,St){void 0===St&&(St={}),("object"!=typeof St||null===St)&&(St={name:St});var nn=St;void 0===nn.name&&(nn.name=qn);var Cn=nn.name;if("string"!=typeof Cn||!Cn)throw Ar.create("bad-app-name",{appName:String(Cn)});if((0,S.r3)(J,Cn))throw Ar.create("duplicate-app",{appName:Cn});var kn=new Y(Et,nn,me);return J[Cn]=kn,kn},app:Nt,registerVersion:function gt(Et,St,Kn){var nn,Cn=null!==(nn=Ge[Et])&&void 0!==nn?nn:Et;Kn&&(Cn+="-"+Kn);var kn=Cn.match(/\s|\//),an=St.match(/\s|\//);if(kn||an){var On=['Unable to register library "'+Cn+'" with version "'+St+'":'];return kn&&On.push('library name "'+Cn+'" contains illegal characters (whitespace or "/")'),kn&&an&&On.push("and"),an&&On.push('version name "'+St+'" contains illegal characters (whitespace or "/")'),void Gt.warn(On.join(" "))}dn(new $e.wA(Cn+"-version",function(){return{library:Cn,version:St}},"VERSION"))},setLogLevel:rt.Ub,onLog:function Vt(Et,St){if(null!==Et&&"function"!=typeof Et)throw Ar.create("invalid-log-argument");(0,rt.Am)(Et,St)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:dn,removeApp:function Ie(Et){delete J[Et]},components:ye,useAsService:function ei(Et,St){return"serverAuth"===St?null:St}}};function Nt(Et){if(!(0,S.r3)(J,Et=Et||qn))throw Ar.create("no-app",{appName:Et});return J[Et]}function dn(Et){var St=Et.name;if(ye.has(St))return Gt.debug("There were multiple attempts to register component "+St+"."),"PUBLIC"===Et.type?me[St]:null;if(ye.set(St,Et),"PUBLIC"===Et.type){var Kn=function(an){if(void 0===an&&(an=Nt()),"function"!=typeof an[St])throw Ar.create("invalid-app-argument",{appName:St});return an[St]()};void 0!==Et.serviceProps&&(0,S.ZB)(Kn,Et.serviceProps),me[St]=Kn,Y.prototype[St]=function(){for(var an=[],On=0;On<arguments.length;On++)an[On]=arguments[On];return this._getService.bind(this,St).apply(this,Et.multipleInstances?an:[])}}for(var nn=0,Cn=Object.keys(J);nn<Cn.length;nn++)J[Cn[nn]]._addComponent(Et);return"PUBLIC"===Et.type?me[St]:null}return me.default=me,Object.defineProperty(me,"apps",{get:function Ke(){return Object.keys(J).map(function(Et){return J[Et]})}}),Nt.App=Y,me}(Ui);return Y.INTERNAL=(0,be.pi)((0,be.pi)({},Y.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function J(ye){(0,S.ZB)(Y,ye)},createSubscribe:S.ne,ErrorFactory:S.LL,deepExtend:S.ZB}),Y}(),Rn=function(){function Y(J){this.container=J}return Y.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(ye){if(function no(Y){var J=Y.getComponent();return"VERSION"===J?.type}(ye)){var me=ye.getImmediate();return me.library+"/"+me.version}return null}).filter(function(ye){return ye}).join(" ")},Y}();if((0,S.jU)()&&void 0!==self.firebase){Gt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Jr=self.firebase.SDK_VERSION;Jr&&Jr.indexOf("LITE")>=0&&Gt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Gn=Mr.initializeApp;Mr.initializeApp=function(){for(var Y=[],J=0;J<arguments.length;J++)Y[J]=arguments[J];return(0,S.UG)()&&Gt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Gn.apply(void 0,Y)};var ce=Mr;!function ft(Y,J){Y.INTERNAL.registerComponent(new $e.wA("platform-logger",function(ye){return new Rn(ye)},"PRIVATE")),Y.registerVersion(Vi,"0.6.30",J),Y.registerVersion("fire-js","")}(ce);const se=ce},75:(ec,mi,$t)=>{$t.d(mi,{H0:()=>Vi,wA:()=>$e});var be=$t(582),S=$t(157),$e=function(){function le($,Ce,ke){this.name=$,this.instanceFactory=Ce,this.type=ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return le.prototype.setInstantiationMode=function($){return this.instantiationMode=$,this},le.prototype.setMultipleInstances=function($){return this.multipleInstances=$,this},le.prototype.setServiceProps=function($){return this.serviceProps=$,this},le.prototype.setInstanceCreatedCallback=function($){return this.onInstanceCreated=$,this},le}(),rt="[DEFAULT]",kt=function(){function le($,Ce){this.name=$,this.container=Ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return le.prototype.get=function($){var Ce=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(Ce)){var ke=new S.BH;if(this.instancesDeferred.set(Ce,ke),this.isInitialized(Ce)||this.shouldAutoInitialize())try{var xe=this.getOrInitializeService({instanceIdentifier:Ce});xe&&ke.resolve(xe)}catch{}}return this.instancesDeferred.get(Ce).promise},le.prototype.getImmediate=function($){var Ce,ke=this.normalizeInstanceIdentifier($?.identifier),xe=null!==(Ce=$?.optional)&&void 0!==Ce&&Ce;if(!this.isInitialized(ke)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:ke})}catch(Fe){if(xe)return null;throw Fe}},le.prototype.getComponent=function(){return this.component},le.prototype.setComponent=function($){var Ce,ke;if($.name!==this.name)throw Error("Mismatching Component "+$.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=$,this.shouldAutoInitialize()){if(function Ar(le){return"EAGER"===le.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:rt})}catch{}try{for(var xe=(0,be.XA)(this.instancesDeferred.entries()),Fe=xe.next();!Fe.done;Fe=xe.next()){var Ft=(0,be.CR)(Fe.value,2),Lt=Ft[1],dt=this.normalizeInstanceIdentifier(Ft[0]);try{var sr=this.getOrInitializeService({instanceIdentifier:dt});Lt.resolve(sr)}catch{}}}catch(qt){Ce={error:qt}}finally{try{Fe&&!Fe.done&&(ke=xe.return)&&ke.call(xe)}finally{if(Ce)throw Ce.error}}}},le.prototype.clearInstance=function($){void 0===$&&($=rt),this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)},le.prototype.delete=function(){return(0,be.mG)(this,void 0,void 0,function(){var $;return(0,be.Jh)(this,function(Ce){switch(Ce.label){case 0:return $=Array.from(this.instances.values()),[4,Promise.all((0,be.ev)((0,be.ev)([],(0,be.CR)($.filter(function(ke){return"INTERNAL"in ke}).map(function(ke){return ke.INTERNAL.delete()}))),(0,be.CR)($.filter(function(ke){return"_delete"in ke}).map(function(ke){return ke._delete()}))))];case 1:return Ce.sent(),[2]}})})},le.prototype.isComponentSet=function(){return null!=this.component},le.prototype.isInitialized=function($){return void 0===$&&($=rt),this.instances.has($)},le.prototype.getOptions=function($){return void 0===$&&($=rt),this.instancesOptions.get($)||{}},le.prototype.initialize=function($){var Ce,ke;void 0===$&&($={});var xe=$.options,Fe=void 0===xe?{}:xe,Ft=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(Ft))throw Error(this.name+"("+Ft+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Ot=this.getOrInitializeService({instanceIdentifier:Ft,options:Fe});try{for(var Lt=(0,be.XA)(this.instancesDeferred.entries()),dt=Lt.next();!dt.done;dt=Lt.next()){var sr=(0,be.CR)(dt.value,2),ar=sr[1];Ft===this.normalizeInstanceIdentifier(sr[0])&&ar.resolve(Ot)}}catch(qn){Ce={error:qn}}finally{try{dt&&!dt.done&&(ke=Lt.return)&&ke.call(Lt)}finally{if(Ce)throw Ce.error}}return Ot},le.prototype.onInit=function($,Ce){var ke,xe=this.normalizeInstanceIdentifier(Ce),Fe=null!==(ke=this.onInitCallbacks.get(xe))&&void 0!==ke?ke:new Set;Fe.add($),this.onInitCallbacks.set(xe,Fe);var Ft=this.instances.get(xe);return Ft&&$(Ft,xe),function(){Fe.delete($)}},le.prototype.invokeOnInitCallbacks=function($,Ce){var ke,xe,Fe=this.onInitCallbacks.get(Ce);if(Fe)try{for(var Ft=(0,be.XA)(Fe),Ot=Ft.next();!Ot.done;Ot=Ft.next()){var Lt=Ot.value;try{Lt($,Ce)}catch{}}}catch(dt){ke={error:dt}}finally{try{Ot&&!Ot.done&&(xe=Ft.return)&&xe.call(Ft)}finally{if(ke)throw ke.error}}},le.prototype.getOrInitializeService=function($){var Ce=$.instanceIdentifier,ke=$.options,xe=void 0===ke?{}:ke,Fe=this.instances.get(Ce);if(!Fe&&this.component&&(Fe=this.component.instanceFactory(this.container,{instanceIdentifier:Bi(Ce),options:xe}),this.instances.set(Ce,Fe),this.instancesOptions.set(Ce,xe),this.invokeOnInitCallbacks(Fe,Ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ce,Fe)}catch{}return Fe||null},le.prototype.normalizeInstanceIdentifier=function($){return void 0===$&&($=rt),this.component?this.component.multipleInstances?$:rt:$},le.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},le}();function Bi(le){return le===rt?void 0:le}var Vi=function(){function le($){this.name=$,this.providers=new Map}return le.prototype.addComponent=function($){var Ce=this.getProvider($.name);if(Ce.isComponentSet())throw new Error("Component "+$.name+" has already been registered with "+this.name);Ce.setComponent($)},le.prototype.addOrOverwriteComponent=function($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)},le.prototype.getProvider=function($){if(this.providers.has($))return this.providers.get($);var Ce=new kt($,this);return this.providers.set($,Ce),Ce},le.prototype.getProviders=function(){return Array.from(this.providers.values())},le}()},83:(ec,mi,$t)=>{function be(){for(var ke=0,xe=0,Fe=arguments.length;xe<Fe;xe++)ke+=arguments[xe].length;var Ft=Array(ke),Ot=0;for(xe=0;xe<Fe;xe++)for(var Lt=arguments[xe],dt=0,sr=Lt.length;dt<sr;dt++,Ot++)Ft[Ot]=Lt[dt];return Ft}$t.d(mi,{Am:()=>Ce,Ub:()=>$,Yd:()=>le,in:()=>rt});var S,$e=[],rt=function(ke){return ke[ke.DEBUG=0]="DEBUG",ke[ke.VERBOSE=1]="VERBOSE",ke[ke.INFO=2]="INFO",ke[ke.WARN=3]="WARN",ke[ke.ERROR=4]="ERROR",ke[ke.SILENT=5]="SILENT",ke}(rt||{}),kt={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},Bi=rt.INFO,Ar=((S={})[rt.DEBUG]="log",S[rt.VERBOSE]="log",S[rt.INFO]="info",S[rt.WARN]="warn",S[rt.ERROR]="error",S),Vi=function(ke,xe){for(var Fe=[],Ft=2;Ft<arguments.length;Ft++)Fe[Ft-2]=arguments[Ft];if(!(xe<ke.logLevel)){var Ot=(new Date).toISOString(),Lt=Ar[xe];if(!Lt)throw new Error("Attempted to log a message with an invalid logType (value: "+xe+")");console[Lt].apply(console,be(["["+Ot+"]  "+ke.name+":"],Fe))}},le=function(){function ke(xe){this.name=xe,this._logLevel=Bi,this._logHandler=Vi,this._userLogHandler=null,$e.push(this)}return Object.defineProperty(ke.prototype,"logLevel",{get:function(){return this._logLevel},set:function(xe){if(!(xe in rt))throw new TypeError('Invalid value "'+xe+'" assigned to `logLevel`');this._logLevel=xe},enumerable:!1,configurable:!0}),ke.prototype.setLogLevel=function(xe){this._logLevel="string"==typeof xe?kt[xe]:xe},Object.defineProperty(ke.prototype,"logHandler",{get:function(){return this._logHandler},set:function(xe){if("function"!=typeof xe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=xe},enumerable:!1,configurable:!0}),Object.defineProperty(ke.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(xe){this._userLogHandler=xe},enumerable:!1,configurable:!0}),ke.prototype.debug=function(){for(var xe=[],Fe=0;Fe<arguments.length;Fe++)xe[Fe]=arguments[Fe];this._userLogHandler&&this._userLogHandler.apply(this,be([this,rt.DEBUG],xe)),this._logHandler.apply(this,be([this,rt.DEBUG],xe))},ke.prototype.log=function(){for(var xe=[],Fe=0;Fe<arguments.length;Fe++)xe[Fe]=arguments[Fe];this._userLogHandler&&this._userLogHandler.apply(this,be([this,rt.VERBOSE],xe)),this._logHandler.apply(this,be([this,rt.VERBOSE],xe))},ke.prototype.info=function(){for(var xe=[],Fe=0;Fe<arguments.length;Fe++)xe[Fe]=arguments[Fe];this._userLogHandler&&this._userLogHandler.apply(this,be([this,rt.INFO],xe)),this._logHandler.apply(this,be([this,rt.INFO],xe))},ke.prototype.warn=function(){for(var xe=[],Fe=0;Fe<arguments.length;Fe++)xe[Fe]=arguments[Fe];this._userLogHandler&&this._userLogHandler.apply(this,be([this,rt.WARN],xe)),this._logHandler.apply(this,be([this,rt.WARN],xe))},ke.prototype.error=function(){for(var xe=[],Fe=0;Fe<arguments.length;Fe++)xe[Fe]=arguments[Fe];this._userLogHandler&&this._userLogHandler.apply(this,be([this,rt.ERROR],xe)),this._logHandler.apply(this,be([this,rt.ERROR],xe))},ke}();function $(ke){$e.forEach(function(xe){xe.setLogLevel(ke)})}function Ce(ke,xe){for(var Fe=function(dt){var sr=null;xe&&xe.level&&(sr=kt[xe.level]),dt.userLogHandler=null===ke?null:function(qt,ar){for(var ht=[],qn=2;qn<arguments.length;qn++)ht[qn-2]=arguments[qn];var Ge=ht.map(function(Gt){if(null==Gt)return null;if("string"==typeof Gt)return Gt;if("number"==typeof Gt||"boolean"==typeof Gt)return Gt.toString();if(Gt instanceof Error)return Gt.message;try{return JSON.stringify(Gt)}catch{return null}}).filter(function(Gt){return Gt}).join(" ");ar>=(sr??qt.logLevel)&&ke({level:rt[ar].toLowerCase(),message:Ge,args:ht,type:qt.name})}},Ft=0,Ot=$e;Ft<Ot.length;Ft++)Fe(Ot[Ft])}},157:(ec,mi,$t)=>{$t.d(mi,{BH:()=>Fe,G6:()=>Ui,LL:()=>ft,Mn:()=>Ge,Sg:()=>Ft,UG:()=>dt,ZB:()=>ke,ZR:()=>no,b$:()=>ar,d:()=>ht,jU:()=>sr,m9:()=>Po,ne:()=>nn,p$:()=>Ce,r3:()=>Nt,ru:()=>qt,uI:()=>Lt,w1:()=>qn,z$:()=>Ot});var be=$t(582),kt=function(G){for(var q=[],ee=0,oe=0;oe<G.length;oe++){var X=G.charCodeAt(oe);X<128?q[ee++]=X:X<2048?(q[ee++]=X>>6|192,q[ee++]=63&X|128):55296==(64512&X)&&oe+1<G.length&&56320==(64512&G.charCodeAt(oe+1))?(X=65536+((1023&X)<<10)+(1023&G.charCodeAt(++oe)),q[ee++]=X>>18|240,q[ee++]=X>>12&63|128,q[ee++]=X>>6&63|128,q[ee++]=63&X|128):(q[ee++]=X>>12|224,q[ee++]=X>>6&63|128,q[ee++]=63&X|128)}return q},Ar={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(G,q){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ee=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,oe=[],X=0;X<G.length;X+=3){var Ae=G[X],at=X+1<G.length,Zt=at?G[X+1]:0,cn=X+2<G.length,Jt=cn?G[X+2]:0,vt=(15&Zt)<<2|Jt>>6,gi=63&Jt;cn||(gi=64,at||(vt=64)),oe.push(ee[Ae>>2],ee[(3&Ae)<<4|Zt>>4],ee[vt],ee[gi])}return oe.join("")},encodeString:function(G,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(G):this.encodeByteArray(kt(G),q)},decodeString:function(G,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(G):function(G){for(var q=[],ee=0,oe=0;ee<G.length;){var X=G[ee++];if(X<128)q[oe++]=String.fromCharCode(X);else if(X>191&&X<224){var Ae=G[ee++];q[oe++]=String.fromCharCode((31&X)<<6|63&Ae)}else if(X>239&&X<365){var cn=((7&X)<<18|(63&(Ae=G[ee++]))<<12|(63&(at=G[ee++]))<<6|63&G[ee++])-65536;q[oe++]=String.fromCharCode(55296+(cn>>10)),q[oe++]=String.fromCharCode(56320+(1023&cn))}else{Ae=G[ee++];var at=G[ee++];q[oe++]=String.fromCharCode((15&X)<<12|(63&Ae)<<6|63&at)}}return q.join("")}(this.decodeStringToByteArray(G,q))},decodeStringToByteArray:function(G,q){this.init_();for(var ee=q?this.charToByteMapWebSafe_:this.charToByteMap_,oe=[],X=0;X<G.length;){var Ae=ee[G.charAt(X++)],Zt=X<G.length?ee[G.charAt(X)]:0,Jt=++X<G.length?ee[G.charAt(X)]:64,Xt=++X<G.length?ee[G.charAt(X)]:64;if(++X,null==Ae||null==Zt||null==Jt||null==Xt)throw Error();oe.push(Ae<<2|Zt>>4),64!==Jt&&(oe.push(Zt<<4&240|Jt>>2),64!==Xt&&oe.push(Jt<<6&192|Xt))}return oe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},le=function(G){return function(G){var q=kt(G);return Ar.encodeByteArray(q,!0)}(G).replace(/\./g,"")};function Ce(G){return ke(void 0,G)}function ke(G,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return q}for(var oe in q)!q.hasOwnProperty(oe)||!xe(oe)||(G[oe]=ke(G[oe],q[oe]));return G}function xe(G){return"__proto__"!==G}var Fe=function(){function G(){var q=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ee,oe){q.resolve=ee,q.reject=oe})}return G.prototype.wrapCallback=function(q){var ee=this;return function(oe,X){oe?ee.reject(oe):ee.resolve(X),"function"==typeof q&&(ee.promise.catch(function(){}),1===q.length?q(oe):q(oe,X))}},G}();function Ft(G,q){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var oe=q||"demo-project",X=G.iat||0,Ae=G.sub||G.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var at=(0,be.pi)({iss:"https://securetoken.google.com/"+oe,aud:oe,iat:X,exp:X+3600,auth_time:X,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},G);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(at)),""].join(".")}function Ot(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Lt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function dt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function sr(){return"object"==typeof self&&self.self===self}function qt(){var G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function ar(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ht(){return Ot().indexOf("Electron/")>=0}function qn(){var G=Ot();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ge(){return Ot().indexOf("MSAppHost/")>=0}function Ui(){return!dt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var no=function(G){function q(ee,oe,X){var Ae=G.call(this,oe)||this;return Ae.code=ee,Ae.customData=X,Ae.name="FirebaseError",Object.setPrototypeOf(Ae,q.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ae,ft.prototype.create),Ae}return(0,be.ZT)(q,G),q}(Error),ft=function(){function G(q,ee,oe){this.service=q,this.serviceName=ee,this.errors=oe}return G.prototype.create=function(q){for(var ee=[],oe=1;oe<arguments.length;oe++)ee[oe-1]=arguments[oe];var X=ee[0]||{},Ae=this.service+"/"+q,at=this.errors[q],Zt=at?function Jr(G,q){return G.replace(Gn,function(ee,oe){var X=q[oe];return null!=X?String(X):"<"+oe+"?>"})}(at,X):"Error";return new no(Ae,this.serviceName+": "+Zt+" ("+Ae+").",X)},G}(),Gn=/\{\$([^}]+)}/g;function Nt(G,q){return Object.prototype.hasOwnProperty.call(G,q)}function nn(G,q){var ee=new Cn(G,q);return ee.subscribe.bind(ee)}!function(){function G(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var q=1;q<this.blockSize;++q)this.pad_[q]=0;this.reset()}G.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},G.prototype.compress_=function(q,ee){ee||(ee=0);var oe=this.W_;if("string"==typeof q)for(var X=0;X<16;X++)oe[X]=q.charCodeAt(ee)<<24|q.charCodeAt(ee+1)<<16|q.charCodeAt(ee+2)<<8|q.charCodeAt(ee+3),ee+=4;else for(X=0;X<16;X++)oe[X]=q[ee]<<24|q[ee+1]<<16|q[ee+2]<<8|q[ee+3],ee+=4;for(X=16;X<80;X++)oe[X]=4294967295&((Ae=oe[X-3]^oe[X-8]^oe[X-14]^oe[X-16])<<1|Ae>>>31);var Xt,vt,at=this.chain_[0],Zt=this.chain_[1],cn=this.chain_[2],Jt=this.chain_[3],kr=this.chain_[4];for(X=0;X<80;X++){X<40?X<20?(Xt=Jt^Zt&(cn^Jt),vt=1518500249):(Xt=Zt^cn^Jt,vt=1859775393):X<60?(Xt=Zt&cn|Jt&(Zt|cn),vt=2400959708):(Xt=Zt^cn^Jt,vt=3395469782);var Ae=(at<<5|at>>>27)+Xt+kr+vt+oe[X]&4294967295;kr=Jt,Jt=cn,cn=4294967295&(Zt<<30|Zt>>>2),Zt=at,at=Ae}this.chain_[0]=this.chain_[0]+at&4294967295,this.chain_[1]=this.chain_[1]+Zt&4294967295,this.chain_[2]=this.chain_[2]+cn&4294967295,this.chain_[3]=this.chain_[3]+Jt&4294967295,this.chain_[4]=this.chain_[4]+kr&4294967295},G.prototype.update=function(q,ee){if(null!=q){void 0===ee&&(ee=q.length);for(var oe=ee-this.blockSize,X=0,Ae=this.buf_,at=this.inbuf_;X<ee;){if(0===at)for(;X<=oe;)this.compress_(q,X),X+=this.blockSize;if("string"==typeof q){for(;X<ee;)if(Ae[at]=q.charCodeAt(X),++X,++at===this.blockSize){this.compress_(Ae),at=0;break}}else for(;X<ee;)if(Ae[at]=q[X],++X,++at===this.blockSize){this.compress_(Ae),at=0;break}}this.inbuf_=at,this.total_+=ee}},G.prototype.digest=function(){var q=[],ee=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var oe=this.blockSize-1;oe>=56;oe--)this.buf_[oe]=255&ee,ee/=256;this.compress_(this.buf_);var X=0;for(oe=0;oe<5;oe++)for(var Ae=24;Ae>=0;Ae-=8)q[X]=this.chain_[oe]>>Ae&255,++X;return q}}();var Cn=function(){function G(q,ee){var oe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(function(){q(oe)}).catch(function(X){oe.error(X)})}return G.prototype.next=function(q){this.forEachObserver(function(ee){ee.next(q)})},G.prototype.error=function(q){this.forEachObserver(function(ee){ee.error(q)}),this.close(q)},G.prototype.complete=function(){this.forEachObserver(function(q){q.complete()}),this.close()},G.prototype.subscribe=function(q,ee,oe){var Ae,X=this;if(void 0===q&&void 0===ee&&void 0===oe)throw new Error("Missing Observer.");Ae=function an(G,q){if("object"!=typeof G||null===G)return!1;for(var ee=0,oe=q;ee<oe.length;ee++){var X=oe[ee];if(X in G&&"function"==typeof G[X])return!0}return!1}(q,["next","error","complete"])?q:{next:q,error:ee,complete:oe},void 0===Ae.next&&(Ae.next=On),void 0===Ae.error&&(Ae.error=On),void 0===Ae.complete&&(Ae.complete=On);var at=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{X.finalError?Ae.error(X.finalError):Ae.complete()}catch{}}),this.observers.push(Ae),at},G.prototype.unsubscribeOne=function(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},G.prototype.forEachObserver=function(q){if(!this.finalized)for(var ee=0;ee<this.observers.length;ee++)this.sendOne(ee,q)},G.prototype.sendOne=function(q,ee){var oe=this;this.task.then(function(){if(void 0!==oe.observers&&void 0!==oe.observers[q])try{ee(oe.observers[q])}catch(X){typeof console<"u"&&console.error&&console.error(X)}})},G.prototype.close=function(q){var ee=this;this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(function(){ee.observers=void 0,ee.onNoObservers=void 0}))},G}();function On(){}function Po(G){return G&&G._delegate?G._delegate:G}},386:(ec,mi,$t)=>{function be(e){return"function"==typeof e}function S(e){const t=e(o=>{Error.call(o),o.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const $e=S(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((o,a)=>`${a+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function rt(e,i){if(e){const t=e.indexOf(i);0<=t&&e.splice(t,1)}}class kt{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const d of t)d.remove(this);else t.remove(this);const{initialTeardown:o}=this;if(be(o))try{o()}catch(d){i=d instanceof $e?d.errors:[d]}const{_finalizers:a}=this;if(a){this._finalizers=null;for(const d of a)try{Vi(d)}catch(p){i=i??[],p instanceof $e?i=[...i,...p.errors]:i.push(p)}}if(i)throw new $e(i)}}add(i){var t;if(i&&i!==this)if(this.closed)Vi(i);else{if(i instanceof kt){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(i)}}_hasParent(i){const{_parentage:t}=this;return t===i||Array.isArray(t)&&t.includes(i)}_addParent(i){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(i),t):t?[t,i]:i}_removeParent(i){const{_parentage:t}=this;t===i?this._parentage=null:Array.isArray(t)&&rt(t,i)}remove(i){const{_finalizers:t}=this;t&&rt(t,i),i instanceof kt&&i._removeParent(this)}}kt.EMPTY=(()=>{const e=new kt;return e.closed=!0,e})();const Bi=kt.EMPTY;function Ar(e){return e instanceof kt||e&&"closed"in e&&be(e.remove)&&be(e.add)&&be(e.unsubscribe)}function Vi(e){be(e)?e():e.unsubscribe()}const le={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$={setTimeout(e,i,...t){const{delegate:o}=$;return o?.setTimeout?o.setTimeout(e,i,...t):setTimeout(e,i,...t)},clearTimeout(e){const{delegate:i}=$;return(i?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ce(e){$.setTimeout(()=>{const{onUnhandledError:i}=le;if(!i)throw e;i(e)})}function ke(){}const xe=Ot("C",void 0,void 0);function Ot(e,i,t){return{kind:e,value:i,error:t}}let Lt=null;function dt(e){if(le.useDeprecatedSynchronousErrorHandling){const i=!Lt;if(i&&(Lt={errorThrown:!1,error:null}),e(),i){const{errorThrown:t,error:o}=Lt;if(Lt=null,t)throw o}}else e()}class qt extends kt{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,Ar(i)&&i.add(this)):this.destination=to}static create(i,t,o){return new Ge(i,t,o)}next(i){this.isStopped?st(function Ft(e){return Ot("N",e,void 0)}(i),this):this._next(i)}error(i){this.isStopped?st(function Fe(e){return Ot("E",void 0,e)}(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?st(xe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ar=Function.prototype.bind;function ht(e,i){return ar.call(e,i)}class qn{constructor(i){this.partialObserver=i}next(i){const{partialObserver:t}=this;if(t.next)try{t.next(i)}catch(o){Gt(o)}}error(i){const{partialObserver:t}=this;if(t.error)try{t.error(i)}catch(o){Gt(o)}else Gt(i)}complete(){const{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(t){Gt(t)}}}class Ge extends qt{constructor(i,t,o){let a;if(super(),be(i)||!i)a={next:i??void 0,error:t??void 0,complete:o??void 0};else{let d;this&&le.useDeprecatedNextContext?(d=Object.create(i),d.unsubscribe=()=>this.unsubscribe(),a={next:i.next&&ht(i.next,d),error:i.error&&ht(i.error,d),complete:i.complete&&ht(i.complete,d)}):a=i}this.destination=new qn(a)}}function Gt(e){le.useDeprecatedSynchronousErrorHandling?function sr(e){le.useDeprecatedSynchronousErrorHandling&&Lt&&(Lt.errorThrown=!0,Lt.error=e)}(e):Ce(e)}function st(e,i){const{onStoppedNotification:t}=le;t&&$.setTimeout(()=>t(e,i))}const to={closed:!0,next:ke,error:function Ui(e){throw e},complete:ke},Q="function"==typeof Symbol&&Symbol.observable||"@@observable";function Mr(e){return e}function no(e){return 0===e.length?Mr:1===e.length?e[0]:function(t){return e.reduce((o,a)=>a(o),t)}}let ft=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const o=new e;return o.source=this,o.operator=t,o}subscribe(t,o,a){const d=function ce(e){return e&&e instanceof qt||function Gn(e){return e&&be(e.next)&&be(e.error)&&be(e.complete)}(e)&&Ar(e)}(t)?t:new Ge(t,o,a);return dt(()=>{const{operator:p,source:g}=this;d.add(p?p.call(d,g):g?this._subscribe(d):this._trySubscribe(d))}),d}_trySubscribe(t){try{return this._subscribe(t)}catch(o){t.error(o)}}forEach(t,o){return new(o=Jr(o))((a,d)=>{const p=new Ge({next:g=>{try{t(g)}catch(_){d(_),p.unsubscribe()}},error:d,complete:a});this.subscribe(p)})}_subscribe(t){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(t)}[Q](){return this}pipe(...t){return no(t)(this)}toPromise(t){return new(t=Jr(t))((o,a)=>{let d;this.subscribe(p=>d=p,p=>a(p),()=>o(d))})}}return e.create=i=>new e(i),e})();function Jr(e){var i;return null!==(i=e??le.Promise)&&void 0!==i?i:Promise}const se=S(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Y=(()=>{class e extends ft{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const o=new J(this,this);return o.operator=t,o}_throwIfClosed(){if(this.closed)throw new se}next(t){dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const o of this.currentObservers)o.next(t)}})}error(t){dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:o}=this;for(;o.length;)o.shift().error(t)}})}complete(){dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:o,isStopped:a,observers:d}=this;return o||a?Bi:(this.currentObservers=null,d.push(t),new kt(()=>{this.currentObservers=null,rt(d,t)}))}_checkFinalizedStatuses(t){const{hasError:o,thrownError:a,isStopped:d}=this;o?t.error(a):d&&t.complete()}asObservable(){const t=new ft;return t.source=this,t}}return e.create=(i,t)=>new J(i,t),e})();class J extends Y{constructor(i,t){super(),this.destination=i,this.source=t}next(i){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===o||o.call(t,i)}error(i){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===o||o.call(t,i)}complete(){var i,t;null===(t=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===t||t.call(i)}_subscribe(i){var t,o;return null!==(o=null===(t=this.source)||void 0===t?void 0:t.subscribe(i))&&void 0!==o?o:Bi}}function ye(e){return be(e?.lift)}function me(e){return i=>{if(ye(i))return i.lift(function(t){try{return e(t,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(e,i,t,o,a){return new Nt(e,i,t,o,a)}class Nt extends qt{constructor(i,t,o,a,d,p){super(i),this.onFinalize=d,this.shouldUnsubscribe=p,this._next=t?function(g){try{t(g)}catch(_){i.error(_)}}:super._next,this._error=a?function(g){try{a(g)}catch(_){i.error(_)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(g){i.error(g)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}}function Ye(e,i){return me((t,o)=>{let a=0;t.subscribe(Ie(o,d=>{o.next(e.call(i,d,a++))}))})}var Ke=$t(582);const dn=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function gt(e){return be(e?.then)}function Vt(e){return be(e[Q])}function ei(e){return Symbol.asyncIterator&&be(e?.[Symbol.asyncIterator])}function Et(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Kn=function St(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function nn(e){return be(e?.[Kn])}function Cn(e){return(0,Ke.FC)(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:o,done:a}=yield(0,Ke.qq)(t.read());if(a)return yield(0,Ke.qq)(void 0);yield yield(0,Ke.qq)(o)}}finally{t.releaseLock()}})}function kn(e){return be(e?.getReader)}function an(e){if(e instanceof ft)return e;if(null!=e){if(Vt(e))return function On(e){return new ft(i=>{const t=e[Q]();if(be(t.subscribe))return t.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(dn(e))return function Ts(e){return new ft(i=>{for(let t=0;t<e.length&&!i.closed;t++)i.next(e[t]);i.complete()})}(e);if(gt(e))return function ro(e){return new ft(i=>{e.then(t=>{i.closed||(i.next(t),i.complete())},t=>i.error(t)).then(null,Ce)})}(e);if(ei(e))return Rr(e);if(nn(e))return function Dd(e){return new ft(i=>{for(const t of e)if(i.next(t),i.closed)return;i.complete()})}(e);if(kn(e))return function ns(e){return Rr(Cn(e))}(e)}throw Et(e)}function Rr(e){return new ft(i=>{(function rf(e,i){var t,o,a,d;return(0,Ke.mG)(this,void 0,void 0,function*(){try{for(t=(0,Ke.KL)(e);!(o=yield t.next()).done;)if(i.next(o.value),i.closed)return}catch(p){a={error:p}}finally{try{o&&!o.done&&(d=t.return)&&(yield d.call(t))}finally{if(a)throw a.error}}i.complete()})})(e,i).catch(t=>i.error(t))})}function xi(e,i,t,o=0,a=!1){const d=i.schedule(function(){t(),a?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(d),!a)return d}function Ct(e,i,t=1/0){return be(i)?Ct((o,a)=>Ye((d,p)=>i(o,d,a,p))(an(e(o,a))),t):("number"==typeof i&&(t=i),me((o,a)=>function Cd(e,i,t,o,a,d,p,g){const _=[];let E=0,I=0,R=!1;const F=()=>{R&&!_.length&&!E&&i.complete()},j=W=>E<o?H(W):_.push(W),H=W=>{d&&i.next(W),E++;let fe=!1;an(t(W,I++)).subscribe(Ie(i,Ee=>{a?.(Ee),d?j(Ee):i.next(Ee)},()=>{fe=!0},void 0,()=>{if(fe)try{for(E--;_.length&&E<o;){const Ee=_.shift();p?xi(i,p,()=>H(Ee)):H(Ee)}F()}catch(Ee){i.error(Ee)}}))};return e.subscribe(Ie(i,j,()=>{R=!0,F()})),()=>{g?.()}}(o,a,e,t)))}function Hi(e=1/0){return Ct(Mr,e)}const cr=new ft(e=>e.complete());function In(e){return e&&be(e.schedule)}function Po(e){return e[e.length-1]}function G(e){return be(Po(e))?e.pop():void 0}function q(e){return In(Po(e))?e.pop():void 0}function oe(e,i=0){return me((t,o)=>{t.subscribe(Ie(o,a=>xi(o,e,()=>o.next(a),i),()=>xi(o,e,()=>o.complete(),i),a=>xi(o,e,()=>o.error(a),i)))})}function X(e,i=0){return me((t,o)=>{o.add(e.schedule(()=>t.subscribe(o),i))})}function Jt(e,i){if(!e)throw new Error("Iterable cannot be null");return new ft(t=>{xi(t,i,()=>{const o=e[Symbol.asyncIterator]();xi(t,i,()=>{o.next().then(a=>{a.done?t.complete():t.next(a.value)})},0,!0)})})}function vt(e,i){return i?function Xt(e,i){if(null!=e){if(Vt(e))return function Ae(e,i){return an(e).pipe(X(i),oe(i))}(e,i);if(dn(e))return function Zt(e,i){return new ft(t=>{let o=0;return i.schedule(function(){o===e.length?t.complete():(t.next(e[o++]),t.closed||this.schedule())})})}(e,i);if(gt(e))return function at(e,i){return an(e).pipe(X(i),oe(i))}(e,i);if(ei(e))return Jt(e,i);if(nn(e))return function cn(e,i){return new ft(t=>{let o;return xi(t,i,()=>{o=e[Kn](),xi(t,i,()=>{let a,d;try{({value:a,done:d}=o.next())}catch(p){return void t.error(p)}d?t.complete():t.next(a)},0,!0)}),()=>be(o?.return)&&o.return()})}(e,i);if(kn(e))return function kr(e,i){return Jt(Cn(e),i)}(e,i)}throw Et(e)}(e,i):an(e)}function gi(...e){const i=q(e),t=function ee(e,i){return"number"==typeof Po(e)?e.pop():i}(e,1/0),o=e;return o.length?1===o.length?an(o[0]):Hi(t)(vt(o,i)):cr}class Or extends Y{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const t=super._subscribe(i);return!t.closed&&i.next(this._value),t}getValue(){const{hasError:i,thrownError:t,_value:o}=this;if(i)throw t;return this._throwIfClosed(),o}next(i){super.next(this._value=i)}}function Je(...e){return vt(e,q(e))}function tl(e={}){const{connector:i=(()=>new Y),resetOnError:t=!0,resetOnComplete:o=!0,resetOnRefCountZero:a=!0}=e;return d=>{let p,g,_,E=0,I=!1,R=!1;const F=()=>{g?.unsubscribe(),g=void 0},j=()=>{F(),p=_=void 0,I=R=!1},H=()=>{const W=p;j(),W?.unsubscribe()};return me((W,fe)=>{E++,!R&&!I&&F();const Ee=_=_??i();fe.add(()=>{E--,0===E&&!R&&!I&&(g=io(H,a))}),Ee.subscribe(fe),!p&&E>0&&(p=new Ge({next:ae=>Ee.next(ae),error:ae=>{R=!0,F(),g=io(j,t,ae),Ee.error(ae)},complete:()=>{I=!0,F(),g=io(j,o),Ee.complete()}}),an(W).subscribe(p))})(d)}}function io(e,i,...t){if(!0===i)return void e();if(!1===i)return;const o=new Ge({next:()=>{o.unsubscribe(),e()}});return an(i(...t)).subscribe(o)}function un(e,i){return me((t,o)=>{let a=null,d=0,p=!1;const g=()=>p&&!a&&o.complete();t.subscribe(Ie(o,_=>{a?.unsubscribe();let E=0;const I=d++;an(e(_,I)).subscribe(a=Ie(o,R=>o.next(i?i(_,R,I,E++):R),()=>{a=null,g()}))},()=>{p=!0,g()}))})}function xs(e,i=Mr){return e=e??Id,me((t,o)=>{let a,d=!0;t.subscribe(Ie(o,p=>{const g=i(p);(d||!e(a,g))&&(d=!1,a=g,o.next(p))}))})}function Id(e,i){return e===i}function hn(e){for(let i in e)if(e[i]===hn)return i;throw Error("Could not find renamed property on target object.")}function Fo(e,i){for(const t in i)i.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=i[t])}function Nn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Nn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const i=e.toString();if(null==i)return""+i;const t=i.indexOf("\n");return-1===t?i:i.substring(0,t)}function tc(e,i){return null==e||""===e?null===i?"":i:null==i||""===i?e:e+" "+i}const qc=hn({__forward_ref__:hn});function aa(e){return e.__forward_ref__=aa,e.toString=function(){return Nn(this())},e}function tt(e){return Gc(e)?e():e}function Gc(e){return"function"==typeof e&&e.hasOwnProperty(qc)&&e.__forward_ref__===aa}function Wc(e){return e&&!!e.\u0275providers}const ca="https://g.co/ng/security#xss";class ge extends Error{constructor(i,t){super(function rs(e,i){return`NG0${Math.abs(e)}${i?": "+i:""}`}(i,t)),this.code=i}}function pt(e){return"string"==typeof e?e:null==e?"":String(e)}function As(e,i){throw new ge(-201,!1)}function Nr(e,i){null==e&&function ct(e,i,t,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${t} ${o} ${i} <=Actual]`))}(i,e,null,"!=")}function Re(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function pn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Zc(e){return ha(e,ic)||ha(e,At)}function ha(e,i){return e.hasOwnProperty(i)?e[i]:null}function os(e){return e&&(e.hasOwnProperty(Xc)||e.hasOwnProperty(Ms))?e[Xc]:null}const ic=hn({\u0275prov:hn}),Xc=hn({\u0275inj:hn}),At=hn({ngInjectableDef:hn}),Ms=hn({ngInjectorDef:hn});var Dt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Dt||{});let ti;function vr(e){const i=ti;return ti=e,i}function jo(e,i,t){const o=Zc(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:t&Dt.Optional?null:void 0!==i?i:void As(Nn(e))}const ut=globalThis,Sn={},yr="__NG_DI_FLAG__",on="ngTempTokenPath",ur=/\n/gm,ni="__source";let zr;function zi(e){const i=zr;return zr=e,i}function sc(e,i=Dt.Default){if(void 0===zr)throw new ge(-203,!1);return null===zr?jo(e,void 0,i):zr.get(e,i&Dt.Optional?null:void 0,i)}function ne(e,i=Dt.Default){return(function oc(){return ti}()||sc)(tt(e),i)}function Oe(e,i=Dt.Default){return ne(e,fa(i))}function fa(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function lf(e){const i=[];for(let t=0;t<e.length;t++){const o=tt(e[t]);if(Array.isArray(o)){if(0===o.length)throw new ge(900,!1);let a,d=Dt.Default;for(let p=0;p<o.length;p++){const g=o[p],_=df(g);"number"==typeof _?-1===_?a=g.token:d|=_:a=g}i.push(ne(a,d))}else i.push(ne(o))}return i}function Rs(e,i){return e[yr]=i,e.prototype[yr]=i,e}function df(e){return e[yr]}function as(e){return{toString:e}.toString()}var Qc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Qc||{}),$i=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}($i||{});const Eo={},Tt=[],ol=hn({\u0275cmp:hn}),pf=hn({\u0275dir:hn}),Jc=hn({\u0275pipe:hn}),oo=hn({\u0275mod:hn}),ks=hn({\u0275fac:hn}),sl=hn({__NG_ELEMENT_ID__:hn}),al=hn({__NG_ENV_ID__:hn});function eu(e,i,t){let o=e.length;for(;;){const a=e.indexOf(i,t);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const d=i.length;if(a+d===o||e.charCodeAt(a+d)<=32)return a}t=a+1}}function cl(e,i,t){let o=0;for(;o<t.length;){const a=t[o];if("number"==typeof a){if(0!==a)break;o++;const d=t[o++],p=t[o++],g=t[o++];e.setAttribute(i,p,g,d)}else{const d=a,p=t[++o];Ad(d)?e.setProperty(i,d,p):e.setAttribute(i,d,p),o++}}return o}function tu(e){return 3===e||4===e||6===e}function Ad(e){return 64===e.charCodeAt(0)}function cs(e,i){if(null!==i&&0!==i.length)if(null===e||0===e.length)e=i.slice();else{let t=-1;for(let o=0;o<i.length;o++){const a=i[o];"number"==typeof a?t=a:0===t||Pr(e,t,a,null,-1===t||2===t?i[++o]:null)}}return e}function Pr(e,i,t,o,a){let d=0,p=e.length;if(-1===i)p=-1;else for(;d<e.length;){const g=e[d++];if("number"==typeof g){if(g===i){p=-1;break}if(g>i){p=d-1;break}}}for(;d<e.length;){const g=e[d];if("number"==typeof g)break;if(g===t){if(null===o)return void(null!==a&&(e[d+1]=a));if(o===e[d+1])return void(e[d+2]=a)}d++,null!==o&&d++,null!==a&&d++}-1!==p&&(e.splice(p,0,i),d=p+1),e.splice(d++,0,t),null!==o&&e.splice(d++,0,o),null!==a&&e.splice(d++,0,a)}const kp="ng-template";function lr(e,i,t){let o=0,a=!0;for(;o<e.length;){let d=e[o++];if("string"==typeof d&&a){const p=e[o++];if(t&&"class"===d&&-1!==eu(p.toLowerCase(),i,0))return!0}else{if(1===d){for(;o<e.length&&"string"==typeof(d=e[o++]);)if(d.toLowerCase()===i)return!0;return!1}"number"==typeof d&&(a=!1)}}return!1}function ul(e){return 4===e.type&&e.value!==kp}function Op(e,i,t){return i===(4!==e.type||t?e.value:kp)}function ll(e,i,t){let o=4;const a=e.attrs||[],d=function mf(e){for(let i=0;i<e.length;i++)if(tu(e[i]))return i;return e.length}(a);let p=!1;for(let g=0;g<i.length;g++){const _=i[g];if("number"!=typeof _){if(!p)if(4&o){if(o=2|1&o,""!==_&&!Op(e,_,t)||""===_&&1===i.length){if(Vo(o))return!1;p=!0}}else{const E=8&o?_:i[++g];if(8&o&&null!==e.attrs){if(!lr(e.attrs,E,t)){if(Vo(o))return!1;p=!0}continue}const R=dg(8&o?"class":_,a,ul(e),t);if(-1===R){if(Vo(o))return!1;p=!0;continue}if(""!==E){let F;F=R>d?"":a[R+1].toLowerCase();const j=8&o?F:null;if(j&&-1!==eu(j,E,0)||2&o&&E!==F){if(Vo(o))return!1;p=!0}}}}else{if(!p&&!Vo(o)&&!Vo(_))return!1;if(p&&Vo(_))continue;p=!1,o=_|1&o}}return Vo(o)||p}function Vo(e){return 0==(1&e)}function dg(e,i,t,o){if(null===i)return-1;let a=0;if(o||!t){let d=!1;for(;a<i.length;){const p=i[a];if(p===e)return a;if(3===p||6===p)d=!0;else{if(1===p||2===p){let g=i[++a];for(;"string"==typeof g;)g=i[++a];continue}if(4===p)break;if(0===p){a+=4;continue}}a+=d?1:2}return-1}return function Os(e,i){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const o=e[t];if("number"==typeof o)return-1;if(o===i)return t;t++}return-1}(i,e)}function Np(e,i,t=!1){for(let o=0;o<i.length;o++)if(ll(e,i[o],t))return!0;return!1}function Pp(e,i){e:for(let t=0;t<i.length;t++){const o=i[t];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function Ns(e,i){return e?":not("+i.trim()+")":i}function pa(e){let i=e[0],t=1,o=2,a="",d=!1;for(;t<e.length;){let p=e[t];if("string"==typeof p)if(2&o){const g=e[++t];a+="["+p+(g.length>0?'="'+g+'"':"")+"]"}else 8&o?a+="."+p:4&o&&(a+=" "+p);else""!==a&&!Vo(p)&&(i+=Ns(d,a),a=""),o=p,d=d||!Vo(o);t++}return""!==a&&(i+=Ns(d,a)),i}function Fn(e){return as(()=>{const i=Ps(e),t={...i,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Qc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||$i.Emulated,styles:e.styles||Tt,_:null,schemas:e.schemas||null,tView:null,id:""};dl(t);const o=e.dependencies;return t.directiveDefs=ao(o,!1),t.pipeDefs=ao(o,!0),t.id=function cc(e){let i=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of t)i=Math.imul(31,i)+a.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(t),t})}function so(e){return Wt(e)||ri(e)}function yi(e){return null!==e}function Ln(e){return as(()=>({type:e.type,bootstrap:e.bootstrap||Tt,declarations:e.declarations||Tt,imports:e.imports||Tt,exports:e.exports||Tt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ma(e,i){if(null==e)return Eo;const t={};for(const o in e)if(e.hasOwnProperty(o)){let a=e[o],d=a;Array.isArray(a)&&(d=a[1],a=a[0]),t[a]=o,i&&(i[a]=d)}return t}function _n(e){return as(()=>{const i=Ps(e);return dl(i),i})}function Wt(e){return e[ol]||null}function ri(e){return e[pf]||null}function Ri(e){return e[Jc]||null}function br(e,i){const t=e[oo]||null;if(!t&&!0===i)throw new Error(`Type ${Nn(e)} does not have '\u0275mod' property.`);return t}function Ps(e){const i={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:e.inputs||Eo,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Tt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ma(e.inputs,i),outputs:ma(e.outputs)}}function dl(e){e.features?.forEach(i=>i(e))}function ao(e,i){if(!e)return null;const t=i?Ri:so;return()=>("function"==typeof e?e():e).map(o=>t(o)).filter(yi)}const Qn=0,je=1,Mt=2,Wn=3,co=4,$r=5,ii=6,ou=7,jn=8,us=9,ls=10,bt=11,su=12,Fp=13,ga=14,Tn=15,Fs=16,au=17,va=18,vf=19,_i=20,ue=21,we=22,bi=23,wi=24,pe=25,cu=1,hl=2,He=7,Pe=9,ln=11;function wr(e){return Array.isArray(e)&&"object"==typeof e[cu]}function dr(e){return Array.isArray(e)&&!0===e[cu]}function qr(e){return 0!=(4&e.flags)}function mt(e){return e.componentOffset>-1}function ya(e){return 1==(1&e.flags)}function Er(e){return!!e.template}function Rd(e){return 0!=(512&e[Mt])}function fs(e,i){return e.hasOwnProperty(ks)?e[ks]:null}let Dr=null,_a=!1;function Co(e){const i=Dr;return Dr=e,i}const du={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function oi(e){if(!Fd(e)||e.dirty){if(!e.producerMustRecompute(e)&&!pl(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function pg(e){e.dirty=!0,function jp(e){if(void 0===e.liveConsumerNode)return;const i=_a;_a=!0;try{for(const t of e.liveConsumerNode)t.dirty||pg(t)}finally{_a=i}}(e),e.consumerMarkedDirty?.(e)}function bf(e){return e&&(e.nextProducerIndex=0),Co(e)}function lc(e,i){if(Co(i),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Fd(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)wf(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function pl(e){dc(e);for(let i=0;i<e.producerNode.length;i++){const t=e.producerNode[i],o=e.producerLastReadVersion[i];if(o!==t.version||(oi(t),o!==t.version))return!0}return!1}function Pd(e){if(dc(e),Fd(e))for(let i=0;i<e.producerNode.length;i++)wf(e.producerNode[i],e.producerIndexOfThis[i]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function wf(e,i){if(function Ef(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),dc(e),1===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)wf(e.producerNode[o],e.producerIndexOfThis[o]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[i]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[i]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,i<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[i],a=e.liveConsumerNode[i];dc(a),a.producerIndexOfThis[o]=i}}function Fd(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function dc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let hc=null;const Up=()=>{},Bd=(()=>({...du,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Up}))();class bl{constructor(i,t,o){this.previousValue=i,this.currentValue=t,this.firstChange=o}isFirstChange(){return this.firstChange}}function uo(){return If}function If(e){return e.type.prototype.ngOnChanges&&(e.setInput=Vd),vg}function vg(){const e=Hd(this),i=e?.current;if(i){const t=e.previous;if(t===Eo)e.previous=i;else for(let o in i)t[o]=i[o];e.current=null,this.ngOnChanges(i)}}function Vd(e,i,t,o){const a=this.declaredInputs[t],d=Hd(e)||function zd(e,i){return e[Ud]=i}(e,{previous:Eo,current:null}),p=d.current||(d.current={}),g=d.previous,_=g[a];p[a]=new bl(_&&_.currentValue,i,g===Eo),e[o]=i}uo.ngInherit=!0;const Ud="__ngSimpleChanges__";function Hd(e){return e[Ud]||null}const Io=function(e,i,t){};function xn(e){for(;Array.isArray(e);)e=e[Qn];return e}function wl(e,i){return xn(i[e])}function jr(e,i){return xn(i[e.index])}function fu(e,i){return e.data[i]}function si(e,i){const t=i[e];return wr(t)?t:t[Qn]}function fc(e,i){return null==i?null:e[i]}function Ho(e){e[au]=0}function Hp(e){1024&e[Mt]||(e[Mt]|=1024,Ea(e,1))}function zp(e){1024&e[Mt]&&(e[Mt]&=-1025,Ea(e,-1))}function Ea(e,i){let t=e[Wn];if(null===t)return;t[$r]+=i;let o=t;for(t=t[Wn];null!==t&&(1===i&&1===o[$r]||-1===i&&0===o[$r]);)t[$r]+=i,o=t,t=t[Wn]}const it={lFrame:xl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Da(){return it.bindingsEnabled}function gu(){return null!==it.skipHydrationRootTNode}function de(){return it.lFrame.lView}function sn(){return it.lFrame.tView}function lo(e){return it.lFrame.contextLView=e,e[jn]}function bn(e){return it.lFrame.contextLView=null,e}function ai(){let e=Cl();for(;null!==e&&64===e.type;)e=e.parent;return e}function Cl(){return it.lFrame.currentTNode}function Sr(e,i){const t=it.lFrame;t.currentTNode=e,t.isParent=i}function Tf(){return it.lFrame.isParent}function yn(){it.lFrame.isParent=!1}function Tr(){const e=it.lFrame;let i=e.bindingRootIndex;return-1===i&&(i=e.bindingRootIndex=e.tView.bindingStartIndex),i}function pc(){return it.lFrame.bindingIndex++}function Wd(e,i){const t=it.lFrame;t.bindingIndex=t.bindingRootIndex=e,Kd(i)}function Kd(e){it.lFrame.currentDirectiveIndex=e}function Yd(e){const i=it.lFrame.currentDirectiveIndex;return-1===i?null:e[i]}function Sl(){return it.lFrame.currentQueryIndex}function Tl(e){it.lFrame.currentQueryIndex=e}function Zd(e){const i=e[je];return 2===i.type?i.declTNode:1===i.type?e[ii]:null}function Vr(e,i,t){if(t&Dt.SkipSelf){let a=i,d=e;for(;!(a=a.parent,null!==a||t&Dt.Host||(a=Zd(d),null===a||(d=d[ga],10&a.type))););if(null===a)return!1;i=a,e=d}const o=it.lFrame=Gp();return o.currentTNode=i,o.lView=e,!0}function _u(e){const i=Gp(),t=e[je];it.lFrame=i,i.currentTNode=t.firstChild,i.lView=e,i.tView=t,i.contextLView=e,i.bindingIndex=t.bindingStartIndex,i.inI18n=!1}function Gp(){const e=it.lFrame,i=null===e?null:e.child;return null===i?xl(e):i}function xl(e){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=i),i}function $o(){const e=it.lFrame;return it.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Al=$o;function bu(){const e=$o();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Wr(){return it.lFrame.selectedIndex}function ms(e){it.lFrame.selectedIndex=e}function An(){const e=it.lFrame;return fu(e.tView,e.selectedIndex)}let Kp=!0;function Xd(){return Kp}function mc(e){Kp=e}function Ia(e,i){for(let t=i.directiveStart,o=i.directiveEnd;t<o;t++){const d=e.data[t].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:g,ngAfterViewInit:_,ngAfterViewChecked:E,ngOnDestroy:I}=d;p&&(e.contentHooks??=[]).push(-t,p),g&&((e.contentHooks??=[]).push(t,g),(e.contentCheckHooks??=[]).push(t,g)),_&&(e.viewHooks??=[]).push(-t,_),E&&((e.viewHooks??=[]).push(t,E),(e.viewCheckHooks??=[]).push(t,E)),null!=I&&(e.destroyHooks??=[]).push(t,I)}}function Hs(e,i,t){Jd(e,i,3,t)}function Qd(e,i,t,o){(3&e[Mt])===t&&Jd(e,i,t,o)}function Rf(e,i){let t=e[Mt];(3&t)===i&&(t&=8191,t+=1,e[Mt]=t)}function Jd(e,i,t,o){const d=o??-1,p=i.length-1;let g=0;for(let _=void 0!==o?65535&e[au]:0;_<p;_++)if("number"==typeof i[_+1]){if(g=i[_],null!=o&&g>=o)break}else i[_]<0&&(e[au]+=65536),(g<d||-1==d)&&(Wi(e,t,i,_),e[au]=(4294901760&e[au])+_+2),_++}function kf(e,i){Io(4,e,i);const t=Co(null);try{i.call(e)}finally{Co(t),Io(5,e,i)}}function Wi(e,i,t,o){const a=t[o]<0,d=t[o+1],g=e[a?-t[o]:t[o]];a?e[Mt]>>13<e[au]>>16&&(3&e[Mt])===i&&(e[Mt]+=8192,kf(g,d)):kf(g,d)}const Sa=-1;class Ol{constructor(i,t,o){this.factory=i,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=o}}function Vn(e){return e!==Sa}function ui(e){return 32767&e}function Jn(e,i){let t=function Ki(e){return e>>16}(e),o=i;for(;t>0;)o=o[ga],t--;return o}let Ci=!0;function $s(e){const i=Ci;return Ci=e,i}const qs=255,Eu=5;let Yv=0;const xo={};function wn(e,i){const t=Ao(e,i);if(-1!==t)return t;const o=i[je];o.firstCreatePass&&(e.injectorIndex=i.length,Se(o.data,e),Se(i,null),Se(o.blueprint,null));const a=Ta(e,i),d=e.injectorIndex;if(Vn(a)){const p=ui(a),g=Jn(a,i),_=g[je].data;for(let E=0;E<8;E++)i[d+E]=g[p+E]|_[p+E]}return i[d+8]=a,d}function Se(e,i){e.push(0,0,0,0,0,0,0,0,i)}function Ao(e,i){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===i[e.injectorIndex+8]?-1:e.injectorIndex}function Ta(e,i){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,o=null,a=i;for(;null!==a;){if(o=Cu(a),null===o)return Sa;if(t++,a=a[ga],-1!==o.injectorIndex)return o.injectorIndex|t<<16}return Sa}function Yp(e,i,t){!function eh(e,i,t){let o;"string"==typeof t?o=t.charCodeAt(0)||0:t.hasOwnProperty(sl)&&(o=t[sl]),null==o&&(o=t[sl]=Yv++);const a=o&qs;i.data[e+(a>>Eu)]|=1<<a}(e,i,t)}function vc(e,i,t){if(t&Dt.Optional||void 0!==e)return e;As()}function Zp(e,i,t,o){if(t&Dt.Optional&&void 0===o&&(o=null),!(t&(Dt.Self|Dt.Host))){const a=e[us],d=vr(void 0);try{return a?a.get(i,o,t&Dt.Optional):jo(i,o,t&Dt.Optional)}finally{vr(d)}}return vc(o,0,t)}function gs(e,i,t,o=Dt.Default,a){if(null!==e){if(2048&i[Mt]&&!(o&Dt.Self)){const p=function yc(e,i,t,o,a){let d=e,p=i;for(;null!==d&&null!==p&&2048&p[Mt]&&!(512&p[Mt]);){const g=nh(d,p,t,o|Dt.Self,xo);if(g!==xo)return g;let _=d.parent;if(!_){const E=p[_i];if(E){const I=E.get(t,xo,o);if(I!==xo)return I}_=Cu(p),p=p[ga]}d=_}return a}(e,i,t,o,xo);if(p!==xo)return p}const d=nh(e,i,t,o,xo);if(d!==xo)return d}return Zp(i,t,o,a)}function nh(e,i,t,o,a){const d=function Nf(e){if("string"==typeof e)return e.charCodeAt(0)||0;const i=e.hasOwnProperty(sl)?e[sl]:void 0;return"number"==typeof i?i>=0?i&qs:Xp:i}(t);if("function"==typeof d){if(!Vr(i,e,o))return o&Dt.Host?vc(a,0,o):Zp(i,t,o,a);try{let p;if(p=d(o),null!=p||o&Dt.Optional)return p;As()}finally{Al()}}else if("number"==typeof d){let p=null,g=Ao(e,i),_=Sa,E=o&Dt.Host?i[Tn][ii]:null;for((-1===g||o&Dt.SkipSelf)&&(_=-1===g?Ta(e,i):i[g+8],_!==Sa&&rh(o,!1)?(p=i[je],g=ui(_),i=Jn(_,i)):g=-1);-1!==g;){const I=i[je];if(wg(d,g,I.data)){const R=Of(g,i,t,p,o,E);if(R!==xo)return R}_=i[g+8],_!==Sa&&rh(o,i[je].data[g+8]===E)&&wg(d,g,i)?(p=I,g=ui(_),i=Jn(_,i)):g=-1}}return a}function Of(e,i,t,o,a,d){const p=i[je],g=p.data[e+8],I=Pl(g,p,t,null==o?mt(g)&&Ci:o!=p&&0!=(3&g.type),a&Dt.Host&&d===g);return null!==I?Ur(i,p,I,g):xo}function Pl(e,i,t,o,a){const d=e.providerIndexes,p=i.data,g=1048575&d,_=e.directiveStart,I=d>>20,F=a?g+I:e.directiveEnd;for(let j=o?g:g+I;j<F;j++){const H=p[j];if(j<_&&t===H||j>=_&&H.type===t)return j}if(a){const j=p[_];if(j&&Er(j)&&j.type===t)return _}return null}function Ur(e,i,t,o){let a=e[t];const d=i.data;if(function Di(e){return e instanceof Ol}(a)){const p=a;p.resolving&&function sf(e,i){const t=i?`. Dependency path: ${i.join(" > ")} > ${e}`:"";throw new ge(-200,`Circular dependency in DI detected for ${e}${t}`)}(function rn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():pt(e)}(d[t]));const g=$s(p.canSeeViewProviders);p.resolving=!0;const E=p.injectImpl?vr(p.injectImpl):null;Vr(e,o,Dt.Default);try{a=e[t]=p.factory(void 0,d,e,o),i.firstCreatePass&&t>=o.directiveStart&&function Gv(e,i,t){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:d}=i.type.prototype;if(o){const p=If(i);(t.preOrderHooks??=[]).push(e,p),(t.preOrderCheckHooks??=[]).push(e,p)}a&&(t.preOrderHooks??=[]).push(0-e,a),d&&((t.preOrderHooks??=[]).push(e,d),(t.preOrderCheckHooks??=[]).push(e,d))}(t,d[t],i)}finally{null!==E&&vr(E),$s(g),p.resolving=!1,Al()}}return a}function wg(e,i,t){return!!(t[i+(e>>Eu)]&1<<e)}function rh(e,i){return!(e&Dt.Self||e&Dt.Host&&i)}class Ii{constructor(i,t){this._tNode=i,this._lView=t}get(i,t,o){return gs(this._tNode,this._lView,i,fa(o),t)}}function Xp(){return new Ii(ai(),de())}function xr(e){return Gc(e)?()=>{const i=xr(tt(e));return i&&i()}:fs(e)}function Cu(e){const i=e[je],t=i.type;return 2===t?i.declTNode:1===t?e[ii]:null}function Aa(e){return function th(e,i){if("class"===i)return e.classes;if("style"===i)return e.styles;const t=e.attrs;if(t){const o=t.length;let a=0;for(;a<o;){const d=t[a];if(tu(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<o&&"string"==typeof t[a];)a++;else{if(d===i)return t[a+1];a+=2}}}return null}(ai(),e)}const Ma="__parameters__";function _c(e,i,t){return as(()=>{const o=function Ll(e){return function(...t){if(e){const o=e(...t);for(const a in o)this[a]=o[a]}}}(i);function a(...d){if(this instanceof a)return o.apply(this,d),this;const p=new a(...d);return g.annotation=p,g;function g(_,E,I){const R=_.hasOwnProperty(Ma)?_[Ma]:Object.defineProperty(_,Ma,{value:[]})[Ma];for(;R.length<=I;)R.push(null);return(R[I]=R[I]||[]).push(p),_}}return t&&(a.prototype=Object.create(t.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}function Ro(e,i){e.forEach(t=>Array.isArray(t)?Ro(t,i):i(t))}function wc(e,i,t){i>=e.length?e.push(t):e.splice(i,0,t)}function oh(e,i){return i>=e.length-1?e.pop():e.splice(i,1)[0]}function sh(e,i){const t=[];for(let o=0;o<e;o++)t.push(i);return t}function Yr(e,i,t){let o=Vl(e,i);return o>=0?e[1|o]=t:(o=~o,function Qv(e,i,t,o){let a=e.length;if(a==i)e.push(t,o);else if(1===a)e.push(o,e[0]),e[0]=t;else{for(a--,e.push(e[a-1],e[a]);a>i;)e[a]=e[a-2],a--;e[i]=t,e[i+1]=o}}(e,o,i,t)),o}function ah(e,i){const t=Vl(e,i);if(t>=0)return e[1|t]}function Vl(e,i){return function sm(e,i,t){let o=0,a=e.length>>t;for(;a!==o;){const d=o+(a-o>>1),p=e[d<<t];if(i===p)return d<<t;p>i?a=d:o=d+1}return~(a<<t)}(e,i,1)}const jt=Rs(_c("Optional"),8),Au=Rs(_c("SkipSelf"),4);function Ys(e){return 128==(128&e.flags)}var Zs=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Zs||{});const pm=new Map;let mm=0;const ho="__ngContext__";function rr(e,i){wr(i)?(e[ho]=i[vf],function Hl(e){pm.set(e[vf],e)}(i)):e[ho]=i}let Gl;function Wl(e,i){return Gl(e,i)}function ko(e){const i=e[Wn];return dr(i)?i[Wn]:i}function gh(e){return Yl(e[su])}function vh(e){return Yl(e[co])}function Yl(e){for(;null!==e&&!dr(e);)e=e[co];return e}function ju(e,i,t,o,a){if(null!=o){let d,p=!1;dr(o)?d=o:wr(o)&&(p=!0,o=o[Qn]);const g=xn(o);0===e&&null!==t?null==a?_h(i,t,g):Qs(i,t,g,a||null,!0):1===e&&null!==t?Qs(i,t,g,a||null,!0):2===e?function qo(e,i,t){const o=bh(e,i);o&&function $g(e,i,t,o){e.removeChild(i,t,o)}(e,o,i,t)}(i,g,p):3===e&&i.destroyNode(g),null!=d&&function Wg(e,i,t,o,a){const d=t[He];d!==xn(t)&&ju(i,e,o,d,a);for(let g=ln;g<t.length;g++){const _=t[g];Dh(_[je],_,e,i,o,d)}}(i,e,d,t,a)}}function Yf(e,i,t){return e.createElement(i,t)}function ym(e,i){const t=e[Pe],o=t.indexOf(i);zp(i),t.splice(o,1)}function Bu(e,i){if(e.length<=ln)return;const t=ln+i,o=e[t];if(o){const a=o[Fs];null!==a&&a!==e&&ym(a,o),i>0&&(e[t-1][co]=o[co]);const d=oh(e,ln+i);!function oy(e,i){Dh(e,i,i[bt],2,null,null),i[Qn]=null,i[ii]=null}(o[je],o);const p=d[va];null!==p&&p.detachView(d[je]),o[Wn]=null,o[co]=null,o[Mt]&=-129}return o}function Qf(e,i){if(!(256&i[Mt])){const t=i[bt];i[bi]&&Pd(i[bi]),i[wi]&&Pd(i[wi]),t.destroyNode&&Dh(e,i,t,3,null,null),function zg(e){let i=e[su];if(!i)return Zl(e[je],e);for(;i;){let t=null;if(wr(i))t=i[su];else{const o=i[ln];o&&(t=o)}if(!t){for(;i&&!i[co]&&i!==e;)wr(i)&&Zl(i[je],i),i=i[Wn];null===i&&(i=e),wr(i)&&Zl(i[je],i),t=i&&i[co]}i=t}}(i)}}function Zl(e,i){if(!(256&i[Mt])){i[Mt]&=-129,i[Mt]|=256,function Jf(e,i){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let o=0;o<t.length;o+=2){const a=i[t[o]];if(!(a instanceof Ol)){const d=t[o+1];if(Array.isArray(d))for(let p=0;p<d.length;p+=2){const g=a[d[p]],_=d[p+1];Io(4,g,_);try{_.call(g)}finally{Io(5,g,_)}}else{Io(4,a,d);try{d.call(a)}finally{Io(5,a,d)}}}}}(e,i),function ay(e,i){const t=e.cleanup,o=i[ou];if(null!==t)for(let d=0;d<t.length-1;d+=2)if("string"==typeof t[d]){const p=t[d+3];p>=0?o[p]():o[-p].unsubscribe(),d+=2}else t[d].call(o[t[d+1]]);null!==o&&(i[ou]=null);const a=i[ue];if(null!==a){i[ue]=null;for(let d=0;d<a.length;d++)(0,a[d])()}}(e,i),1===i[je].type&&i[bt].destroy();const t=i[Fs];if(null!==t&&dr(i[Wn])){t!==i[Wn]&&ym(t,i);const o=i[va];null!==o&&o.detachView(e)}!function fh(e){pm.delete(e[vf])}(i)}}function ep(e,i,t){return function _m(e,i,t){let o=i;for(;null!==o&&40&o.type;)o=(i=o).parent;if(null===o)return t[Qn];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:d}=e.data[o.directiveStart+a];if(d===$i.None||d===$i.Emulated)return null}return jr(o,t)}}(e,i.parent,t)}function Qs(e,i,t,o,a){e.insertBefore(i,t,o,a)}function _h(e,i,t){e.appendChild(i,t)}function tp(e,i,t,o,a){null!==o?Qs(e,i,t,o,a):_h(e,i,t)}function bh(e,i){return e.parentNode(i)}function wm(e,i,t){return Xl(e,i,t)}let Ql,Ch,Vu,ed,Xl=function Em(e,i,t){return 40&e.type?jr(e,t):null};function Ic(e,i,t,o){const a=ep(e,o,i),d=i[bt],g=wm(o.parent||i[ii],o,i);if(null!=a)if(Array.isArray(t))for(let _=0;_<t.length;_++)tp(d,a,t[_],g,!1);else tp(d,a,t,g,!1);void 0!==Ql&&Ql(d,o,i,t,a)}function Sc(e,i){if(null!==i){const t=i.type;if(3&t)return jr(i,e);if(4&t)return Eh(-1,e[i.index]);if(8&t){const o=i.child;if(null!==o)return Sc(e,o);{const a=e[i.index];return dr(a)?Eh(-1,a):xn(a)}}if(32&t)return Wl(i,e)()||xn(e[i.index]);{const o=wh(e,i);return null!==o?Array.isArray(o)?o[0]:Sc(ko(e[Tn]),o):Sc(e,i.next)}}return null}function wh(e,i){return null!==i?e[Tn][ii].projection[i.projection]:null}function Eh(e,i){const t=ln+e+1;if(t<i.length){const o=i[t],a=o[je].firstChild;if(null!==a)return Sc(o,a)}return i[He]}function Oa(e,i,t,o,a,d,p){for(;null!=t;){const g=o[t.index],_=t.type;if(p&&0===i&&(g&&rr(xn(g),o),t.flags|=2),32!=(32&t.flags))if(8&_)Oa(e,i,t.child,o,a,d,!1),ju(i,e,a,g,d);else if(32&_){const E=Wl(t,o);let I;for(;I=E();)ju(i,e,a,I,d);ju(i,e,a,g,d)}else 16&_?Gg(e,i,o,t,a,d):ju(i,e,a,g,d);t=p?t.projectionNext:t.next}}function Dh(e,i,t,o,a,d){Oa(t,o,e.firstChild,i,a,d,!1)}function Gg(e,i,t,o,a,d){const p=t[Tn],_=p[ii].projection[o.projection];if(Array.isArray(_))for(let E=0;E<_.length;E++)ju(i,e,a,_[E],d);else{let E=_;const I=p[Wn];Ys(o)&&(E.flags|=128),Oa(e,i,E,I,a,d,!0)}}function Kg(e,i,t){""===t?e.removeAttribute(i,"class"):e.setAttribute(i,"class",t)}function ip(e,i,t){const{mergedAttrs:o,classes:a,styles:d}=t;null!==o&&cl(e,i,o),null!==a&&Kg(e,i,a),null!==d&&function rp(e,i,t){e.setAttribute(i,"style",t)}(e,i,d)}function Js(e){return function Jl(){if(void 0===Ch&&(Ch=null,ut.trustedTypes))try{Ch=ut.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ch}()?.createHTML(e)||e}function Tm(e){return function Sm(){if(void 0===ed&&(ed=null,ut.trustedTypes))try{ed=ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ed}()?.createScriptURL(e)||e}class ea{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ca})`}}class Sh extends ea{getTypeName(){return"HTML"}}class Th extends ea{getTypeName(){return"Style"}}class xm extends ea{getTypeName(){return"Script"}}class Am extends ea{getTypeName(){return"URL"}}class Zg extends ea{getTypeName(){return"ResourceURL"}}function di(e){return e instanceof ea?e.changingThisBreaksApplicationSecurity:e}function Zi(e,i){const t=function Xg(e){return e instanceof ea&&e.getTypeName()||null}(e);if(null!=t&&t!==i){if("ResourceURL"===t&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${t} (see ${ca})`)}return t===i}class Rm{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const t=(new window.DOMParser).parseFromString(Js(i),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(i):(t.removeChild(t.firstChild),t)}catch{return null}}}class dy{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const t=this.inertDocument.createElement("template");return t.innerHTML=Js(i),t}}const km=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Tc(e){return(e=String(e)).match(km)?e:"unsafe:"+e}function ys(e){const i={};for(const t of e.split(","))i[t]=!0;return i}function Go(...e){const i={};for(const t of e)for(const o in t)t.hasOwnProperty(o)&&(i[o]=!0);return i}const Uu=ys("area,br,col,hr,img,wbr"),ap=ys("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rd=ys("rp,rt"),xc=Go(Uu,Go(ap,ys("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Go(rd,ys("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Go(rd,ap)),mn=ys("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wo=Go(mn,ys("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ys("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cp=ys("script,style,template");class Jg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let t=i.firstChild,o=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?o=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,o&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let a=this.checkClobberedElement(t,t.nextSibling);if(a){t=a;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(i){const t=i.nodeName.toLowerCase();if(!xc.hasOwnProperty(t))return this.sanitizedSomething=!0,!cp.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const o=i.attributes;for(let a=0;a<o.length;a++){const d=o.item(a),p=d.name,g=p.toLowerCase();if(!Wo.hasOwnProperty(g)){this.sanitizedSomething=!0;continue}let _=d.value;mn[g]&&(_=Tc(_)),this.buf.push(" ",p,'="',Ac(_),'"')}return this.buf.push(">"),!0}endElement(i){const t=i.nodeName.toLowerCase();xc.hasOwnProperty(t)&&!Uu.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(i){this.buf.push(Ac(i))}checkClobberedElement(i,t){if(t&&(i.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return t}}const Ah=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mh=/([^\#-~ |!])/g;function Ac(e){return e.replace(/&/g,"&amp;").replace(Ah,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Mh,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rh;function Pm(e,i){let t=null;try{Rh=Rh||function xh(e){const i=new dy(e);return function Qg(){try{return!!(new window.DOMParser).parseFromString(Js(""),"text/html")}catch{return!1}}()?new Rm(i):i}(e);let o=i?String(i):"";t=Rh.getInertBodyElement(o);let a=5,d=o;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,o=d,d=t.innerHTML,t=Rh.getInertBodyElement(o)}while(o!==d);return Js((new Jg).sanitizeChildren(er(t)||t))}finally{if(t){const o=er(t)||t;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function er(e){return"content"in e&&function en(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var hi=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(hi||{});function Ko(e){const i=mo();return i?i.sanitize(hi.URL,e)||"":Zi(e,"URL")?di(e):Tc(pt(e))}function Mc(e){const i=mo();if(i)return Tm(i.sanitize(hi.RESOURCE_URL,e)||"");if(Zi(e,"ResourceURL"))return Tm(di(e));throw new ge(904,!1)}function mo(){const e=de();return e&&e[ls].sanitizer}class Te{constructor(i,t){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Re({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Fa=new Te("ENVIRONMENT_INITIALIZER"),Nh=new Te("INJECTOR",-1),up=new Te("INJECTOR_DEF_TYPES");class Rc{get(i,t=Sn){if(t===Sn){const o=new Error(`NullInjectorError: No provider for ${Nn(i)}!`);throw o.name="NullInjectorError",o}return t}}function tv(...e){return{\u0275providers:Bm(0,e),\u0275fromNgModule:!0}}function Bm(e,...i){const t=[],o=new Set;let a;const d=p=>{t.push(p)};return Ro(i,p=>{const g=p;id(g,d,[],o)&&(a||=[],a.push(g))}),void 0!==a&&Ph(a,d),t}function Ph(e,i){for(let t=0;t<e.length;t++){const{ngModule:o,providers:a}=e[t];_s(a,d=>{i(d,o)})}}function id(e,i,t,o){if(!(e=tt(e)))return!1;let a=null,d=os(e);const p=!d&&Wt(e);if(d||p){if(p&&!p.standalone)return!1;a=e}else{const _=e.ngModule;if(d=os(_),!d)return!1;a=_}const g=o.has(a);if(p){if(g)return!1;if(o.add(a),p.dependencies){const _="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const E of _)id(E,i,t,o)}}else{if(!d)return!1;{if(null!=d.imports&&!g){let E;o.add(a);try{Ro(d.imports,I=>{id(I,i,t,o)&&(E||=[],E.push(I))})}finally{}void 0!==E&&Ph(E,i)}if(!g){const E=fs(a)||(()=>new a);i({provide:a,useFactory:E,deps:Tt},a),i({provide:up,useValue:a,multi:!0},a),i({provide:Fa,useValue:()=>ne(a),multi:!0},a)}const _=d.providers;if(null!=_&&!g){const E=e;_s(_,I=>{i(I,E)})}}}return a!==e&&void 0!==e.providers}function _s(e,i){for(let t of e)Wc(t)&&(t=t.\u0275providers),Array.isArray(t)?_s(t,i):i(t)}const nv=hn({provide:String,useValue:hn});function Fh(e){return null!==e&&"object"==typeof e&&nv in e}function Hu(e){return"function"==typeof e}const od=new Te("Set Injector scope."),bs={},gn={};let Pt;function ta(){return void 0===Pt&&(Pt=new Rc),Pt}class hr{}class Zo extends hr{get destroyed(){return this._destroyed}constructor(i,t,o,a){super(),this.parent=t,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jh(i,p=>this.processProvider(p)),this.records.set(Nh,ja(void 0,this)),a.has("environment")&&this.records.set(hr,ja(void 0,this));const d=this.records.get(od);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(up.multi,Tt,Dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of i)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const t=zi(this),o=vr(void 0);try{return i()}finally{zi(t),vr(o)}}get(i,t=Sn,o=Dt.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(al))return i[al](this);o=fa(o);const d=zi(this),p=vr(void 0);try{if(!(o&Dt.SkipSelf)){let _=this.records.get(i);if(void 0===_){const E=function Um(e){return"function"==typeof e||"object"==typeof e&&e instanceof Te}(i)&&Zc(i);_=E&&this.injectableDefInScope(E)?ja(Mn(i),bs):null,this.records.set(i,_)}if(null!=_)return this.hydrate(i,_)}return(o&Dt.Self?ta():this.parent).get(i,t=o&Dt.Optional&&t===Sn?null:t)}catch(g){if("NullInjectorError"===g.name){if((g[on]=g[on]||[]).unshift(Nn(i)),d)throw g;return function hf(e,i,t,o){const a=e[on];throw i[ni]&&a.unshift(i[ni]),e.message=function ff(e,i,t,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Nn(i);if(Array.isArray(i))a=i.map(Nn).join(" -> ");else if("object"==typeof i){let d=[];for(let p in i)if(i.hasOwnProperty(p)){let g=i[p];d.push(p+":"+("string"==typeof g?JSON.stringify(g):Nn(g)))}a=`{${d.join(", ")}}`}return`${t}${o?"("+o+")":""}[${a}]: ${e.replace(ur,"\n  ")}`}("\n"+e.message,a,t,o),e.ngTokenPath=a,e[on]=null,e}(g,i,"R3InjectorError",this.source)}throw g}finally{vr(p),zi(d)}}resolveInjectorInitializers(){const i=zi(this),t=vr(void 0);try{const a=this.get(Fa.multi,Tt,Dt.Self);for(const d of a)d()}finally{zi(i),vr(t)}}toString(){const i=[],t=this.records;for(const o of t.keys())i.push(Nn(o));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(i){let t=Hu(i=tt(i))?i:tt(i&&i.provide);const o=function sd(e){return Fh(e)?ja(void 0,e.useValue):ja(function Lh(e,i,t){let o;if(Hu(e)){const a=tt(e);return fs(a)||Mn(a)}if(Fh(e))o=()=>tt(e.useValue);else if(function La(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...lf(e.deps||[]));else if(function lp(e){return!(!e||!e.useExisting)}(e))o=()=>ne(tt(e.useExisting));else{const a=tt(e&&(e.useClass||e.provide));if(!function ad(e){return!!e.deps}(e))return fs(a)||Mn(a);o=()=>new a(...lf(e.deps))}return o}(e),bs)}(i);if(Hu(i)||!0!==i.multi)this.records.get(t);else{let a=this.records.get(t);a||(a=ja(void 0,bs,!0),a.factory=()=>lf(a.multi),this.records.set(t,a)),t=i,a.multi.push(i)}this.records.set(t,o)}hydrate(i,t){return t.value===bs&&(t.value=gn,t.value=t.factory()),"object"==typeof t.value&&t.value&&function ws(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(i){if(!i.providedIn)return!1;const t=tt(i.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(i){const t=this._onDestroyHooks.indexOf(i);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Mn(e){const i=Zc(e),t=null!==i?i.factory:fs(e);if(null!==t)return t;if(e instanceof Te)throw new ge(204,!1);if(e instanceof Function)return function Xo(e){const i=e.length;if(i>0)throw sh(i,"?"),new ge(204,!1);const t=function il(e){return e&&(e[ic]||e[At])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new ge(204,!1)}function ja(e,i,t=!1){return{factory:e,value:i,multi:t?[]:void 0}}function jh(e,i){for(const t of e)Array.isArray(t)?jh(t,i):t&&Wc(t)?jh(t.\u0275providers,i):i(t)}const zu=new Te("AppId",{providedIn:"root",factory:()=>dp}),dp="ng",Bh=new Te("Platform Initializer"),kc=new Te("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qo=new Te("AnimationModuleType"),cd=new Te("CSP nonce",{providedIn:"root",factory:()=>function fo(){if(void 0!==Vu)return Vu;if(typeof document<"u")return document;throw new ge(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let mp=(e,i,t)=>null;function fi(e,i,t=!1){return mp(e,i,t)}class C{}class k{}class c{resolveComponentFactory(i){throw function N(e){const i=Error(`No component factory found for ${Nn(e)}.`);return i.ngComponent=e,i}(i)}}let s=(()=>{class e{static#e=this.NULL=new c}return e})();function l(){return h(ai(),de())}function h(e,i){return new m(jr(e,i))}let m=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=l}return e})();function y(e){return e instanceof m?e.nativeElement:e}class b{}let D=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function T(){const e=de(),t=si(ai().index,e);return(wr(t)?t:e)[bt]}()}return e})(),O=(()=>{class e{static#e=this.\u0275prov=Re({token:e,providedIn:"root",factory:()=>null})}return e})();class P{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const B=new P("16.2.9"),z={};function rv(e,i=null,t=null,o){const a=gp(e,i,t,o);return a.resolveInjectorInitializers(),a}function gp(e,i=null,t=null,o,a=new Set){const d=[t||Tt,tv(e)];return o=o||("object"==typeof e?void 0:Nn(e)),new Zo(d,i||ta(),o||null,a)}let Xr=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Sn;static#t=this.NULL=new Rc;static create(t,o){if(Array.isArray(t))return rv({name:""},o,t,"");{const a=t.name??"";return rv({name:a},t.parent,t.providers,a)}}static#n=this.\u0275prov=Re({token:e,providedIn:"any",factory:()=>ne(Nh)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function V0(e){return e.ngOriginalError}class Pc{constructor(){this._console=console}handleError(i){const t=this._findOriginalError(i);this._console.error("ERROR",i),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(i){let t=i&&V0(i);for(;t&&V0(t);)t=V0(t);return t||null}}function H0(e){return i=>{setTimeout(e,void 0,i)}}const Xi=class P1 extends Y{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,t,o){let a=i,d=t||(()=>null),p=o;if(i&&"object"==typeof i){const _=i;a=_.next?.bind(_),d=_.error?.bind(_),p=_.complete?.bind(_)}this.__isAsync&&(d=H0(d),a&&(a=H0(a)),p&&(p=H0(p)));const g=super.subscribe({next:a,error:d,complete:p});return i instanceof kt&&i.add(g),g}};function pC(...e){}class Bt{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xi(!1),this.onMicrotaskEmpty=new Xi(!1),this.onStable=new Xi(!1),this.onError=new Xi(!1),typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&t,a.shouldCoalesceRunChangeDetection=o,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function F1(){const e="function"==typeof ut.requestAnimationFrame;let i=ut[e?"requestAnimationFrame":"setTimeout"],t=ut[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&t){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const a=t[Zone.__symbol__("OriginalDelegate")];a&&(t=a)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function B1(e){const i=()=>{!function j1(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ut,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,$0(e),e.isCheckStableRunning=!0,z0(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),$0(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,o,a,d,p,g)=>{if(function U1(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(g))return t.invokeTask(a,d,p,g);try{return mC(e),t.invokeTask(a,d,p,g)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&i(),gC(e)}},onInvoke:(t,o,a,d,p,g,_)=>{try{return mC(e),t.invoke(a,d,p,g,_)}finally{e.shouldCoalesceRunChangeDetection&&i(),gC(e)}},onHasTask:(t,o,a,d)=>{t.hasTask(a,d),o===a&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,$0(e),z0(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(t,o,a,d)=>(t.handleError(a,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bt.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(Bt.isInAngularZone())throw new ge(909,!1)}run(i,t,o){return this._inner.run(i,t,o)}runTask(i,t,o,a){const d=this._inner,p=d.scheduleEventTask("NgZoneEvent: "+a,i,L1,pC,pC);try{return d.runTask(p,t,o)}finally{d.cancelTask(p)}}runGuarded(i,t,o){return this._inner.runGuarded(i,t,o)}runOutsideAngular(i){return this._outer.run(i)}}const L1={};function z0(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function $0(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function mC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function gC(e){e._nesting--,z0(e)}class V1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xi,this.onMicrotaskEmpty=new Xi,this.onStable=new Xi,this.onError=new Xi}run(i,t,o){return i.apply(t,o)}runGuarded(i,t,o){return i.apply(t,o)}runOutsideAngular(i){return i()}runTask(i,t,o,a){return i.apply(t,o)}}const vC=new Te("",{providedIn:"root",factory:yC});function yC(){const e=Oe(Bt);let i=!0;return gi(new ft(a=>{i=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{a.next(i),a.complete()})}),new ft(a=>{let d;e.runOutsideAngular(()=>{d=e.onStable.subscribe(()=>{Bt.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(i=!0,a.next(!0))})})});const p=e.onUnstable.subscribe(()=>{Bt.assertInAngularZone(),i&&(i=!1,e.runOutsideAngular(()=>{a.next(!1)}))});return()=>{d.unsubscribe(),p.unsubscribe()}}).pipe(tl()))}function $h(e){return e instanceof Function?e():e}let q0=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Re({token:e,providedIn:"root",factory:()=>new e})}return e})();function _y(e){for(;e;){e[Mt]|=64;const i=ko(e);if(Rd(e)&&!i)return e;e=i}return null}const DC=new Te("",{providedIn:"root",factory:()=>!1});let k_=null;function TC(e,i){return e[i]??MC()}function xC(e,i){const t=MC();t.producerNode?.length&&(e[i]=k_,t.lView=e,k_=AC())}const X1={...du,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{_y(e.lView)},lView:null};function AC(){return Object.create(X1)}function MC(){return k_??=AC(),k_}const zt={};function Si(e){RC(sn(),de(),Wr()+e,!1)}function RC(e,i,t,o){if(!o)if(3==(3&i[Mt])){const d=e.preOrderCheckHooks;null!==d&&Hs(i,d,t)}else{const d=e.preOrderHooks;null!==d&&Qd(i,d,0,t)}ms(t)}function _e(e,i=Dt.Default){const t=de();return null===t?ne(e,i):gs(ai(),t,tt(e),i)}function O_(){throw new Error("invalid")}function N_(e,i,t,o,a,d,p,g,_,E,I){const R=i.blueprint.slice();return R[Qn]=a,R[Mt]=140|o,(null!==E||e&&2048&e[Mt])&&(R[Mt]|=2048),Ho(R),R[Wn]=R[ga]=e,R[jn]=t,R[ls]=p||e&&e[ls],R[bt]=g||e&&e[bt],R[us]=_||e&&e[us]||null,R[ii]=d,R[vf]=function dh(){return mm++}(),R[we]=I,R[_i]=E,R[Tn]=2==i.type?e[Tn]:R,R}function sv(e,i,t,o,a){let d=e.data[i];if(null===d)d=function G0(e,i,t,o,a){const d=Cl(),p=Tf(),_=e.data[i]=function ok(e,i,t,o,a,d){let p=i?i.injectorIndex:-1,g=0;return gu()&&(g|=128),{type:t,index:o,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:g,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?d:d&&d.parent,t,i,o,a);return null===e.firstChild&&(e.firstChild=_),null!==d&&(p?null==d.child&&null!==_.parent&&(d.child=_):null===d.next&&(d.next=_,_.prev=d)),_}(e,i,t,o,a),function xf(){return it.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=t,d.value=o,d.attrs=a;const p=function vu(){const e=it.lFrame,i=e.currentTNode;return e.isParent?i:i.parent}();d.injectorIndex=null===p?-1:p.injectorIndex}return Sr(d,!0),d}function by(e,i,t,o){if(0===t)return-1;const a=i.length;for(let d=0;d<t;d++)i.push(o),e.blueprint.push(o),e.data.push(null);return a}function kC(e,i,t,o,a){const d=TC(i,bi),p=Wr(),g=2&o;try{ms(-1),g&&i.length>pe&&RC(e,i,pe,!1),Io(g?2:0,a);const E=g?d:null,I=bf(E);try{null!==E&&(E.dirty=!1),t(o,a)}finally{lc(E,I)}}finally{g&&null===i[bi]&&xC(i,bi),ms(p),Io(g?3:1,a)}}function W0(e,i,t){if(qr(i)){const o=Co(null);try{const d=i.directiveEnd;for(let p=i.directiveStart;p<d;p++){const g=e.data[p];g.contentQueries&&g.contentQueries(1,t[p],p)}}finally{Co(o)}}}function K0(e,i,t){Da()&&(function hk(e,i,t,o){const a=t.directiveStart,d=t.directiveEnd;mt(t)&&function _k(e,i,t){const o=jr(i,e),a=OC(t);let p=16;t.signals?p=4096:t.onPush&&(p=64);const g=P_(e,N_(e,a,null,p,o,i,null,e[ls].rendererFactory.createRenderer(o,t),null,null,null));e[i.index]=g}(i,t,e.data[a+t.componentOffset]),e.firstCreatePass||wn(t,i),rr(o,i);const p=t.initialInputs;for(let g=a;g<d;g++){const _=e.data[g],E=Ur(i,e,g,t);rr(E,i),null!==p&&bk(0,g-a,E,_,0,p),Er(_)&&(si(t.index,i)[jn]=Ur(i,e,g,t))}}(e,i,t,jr(t,i)),64==(64&t.flags)&&jC(e,i,t))}function Y0(e,i,t=jr){const o=i.localNames;if(null!==o){let a=i.index+1;for(let d=0;d<o.length;d+=2){const p=o[d+1],g=-1===p?t(i,e):e[p];e[a++]=g}}}function OC(e){const i=e.tView;return null===i||i.incompleteFirstPass?e.tView=Z0(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):i}function Z0(e,i,t,o,a,d,p,g,_,E,I){const R=pe+o,F=R+a,j=function J1(e,i){const t=[];for(let o=0;o<i;o++)t.push(o<e?null:zt);return t}(R,F),H="function"==typeof E?E():E;return j[je]={type:e,blueprint:j,template:t,queries:null,viewQuery:g,declTNode:i,data:j.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:_,consts:H,incompleteFirstPass:!1,ssrId:I}}let NC=e=>null;function PC(e,i,t,o){for(let a in e)if(e.hasOwnProperty(a)){t=null===t?{}:t;const d=e[a];null===o?FC(t,i,a,d):o.hasOwnProperty(a)&&FC(t,i,o[a],d)}return t}function FC(e,i,t,o){e.hasOwnProperty(t)?e[t].push(i,o):e[t]=[i,o]}function Ga(e,i,t,o,a,d,p,g){const _=jr(i,t);let I,E=i.inputs;!g&&null!=E&&(I=E[o])?(tw(e,t,I,o,a),mt(i)&&function ck(e,i){const t=si(i,e);16&t[Mt]||(t[Mt]|=64)}(t,i.index)):3&i.type&&(o=function ak(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=p?p(a,i.value||"",o):a,d.setProperty(_,o,a))}function X0(e,i,t,o){if(Da()){const a=null===o?null:{"":-1},d=function pk(e,i){const t=e.directiveRegistry;let o=null,a=null;if(t)for(let d=0;d<t.length;d++){const p=t[d];if(Np(i,p.selectors,!1))if(o||(o=[]),Er(p))if(null!==p.findHostDirectiveDefs){const g=[];a=a||new Map,p.findHostDirectiveDefs(p,g,a),o.unshift(...g,p),Q0(e,i,g.length)}else o.unshift(p),Q0(e,i,0);else a=a||new Map,p.findHostDirectiveDefs?.(p,o,a),o.push(p)}return null===o?null:[o,a]}(e,t);let p,g;null===d?p=g=null:[p,g]=d,null!==p&&LC(e,i,t,p,a,g),a&&function mk(e,i,t){if(i){const o=e.localNames=[];for(let a=0;a<i.length;a+=2){const d=t[i[a+1]];if(null==d)throw new ge(-301,!1);o.push(i[a],d)}}}(t,o,a)}t.mergedAttrs=cs(t.mergedAttrs,t.attrs)}function LC(e,i,t,o,a,d){for(let E=0;E<o.length;E++)Yp(wn(t,i),e,o[E].type);!function vk(e,i,t){e.flags|=1,e.directiveStart=i,e.directiveEnd=i+t,e.providerIndexes=i}(t,e.data.length,o.length);for(let E=0;E<o.length;E++){const I=o[E];I.providersResolver&&I.providersResolver(I)}let p=!1,g=!1,_=by(e,i,o.length,null);for(let E=0;E<o.length;E++){const I=o[E];t.mergedAttrs=cs(t.mergedAttrs,I.hostAttrs),yk(e,t,i,_,I),gk(_,I,a),null!==I.contentQueries&&(t.flags|=4),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(t.flags|=64);const R=I.type.prototype;!p&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),p=!0),!g&&(R.ngOnChanges||R.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),g=!0),_++}!function sk(e,i,t){const a=i.directiveEnd,d=e.data,p=i.attrs,g=[];let _=null,E=null;for(let I=i.directiveStart;I<a;I++){const R=d[I],F=t?t.get(R):null,H=F?F.outputs:null;_=PC(R.inputs,I,_,F?F.inputs:null),E=PC(R.outputs,I,E,H);const W=null===_||null===p||ul(i)?null:wk(_,I,p);g.push(W)}null!==_&&(_.hasOwnProperty("class")&&(i.flags|=8),_.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=g,i.inputs=_,i.outputs=E}(e,t,d)}function jC(e,i,t){const o=t.directiveStart,a=t.directiveEnd,d=t.index,p=function bg(){return it.lFrame.currentDirectiveIndex}();try{ms(d);for(let g=o;g<a;g++){const _=e.data[g],E=i[g];Kd(g),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&fk(_,E)}}finally{ms(-1),Kd(p)}}function fk(e,i){null!==e.hostBindings&&e.hostBindings(1,i)}function Q0(e,i,t){i.componentOffset=t,(e.components??=[]).push(i.index)}function gk(e,i,t){if(t){if(i.exportAs)for(let o=0;o<i.exportAs.length;o++)t[i.exportAs[o]]=e;Er(i)&&(t[""]=e)}}function yk(e,i,t,o,a){e.data[o]=a;const d=a.factory||(a.factory=fs(a.type)),p=new Ol(d,Er(a),_e);e.blueprint[o]=p,t[o]=p,function lk(e,i,t,o,a){const d=a.hostBindings;if(d){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const g=~i.index;(function dk(e){let i=e.length;for(;i>0;){const t=e[--i];if("number"==typeof t&&t<0)return t}return 0})(p)!=g&&p.push(g),p.push(t,o,d)}}(e,i,o,by(e,t,a.hostVars,zt),a)}function fd(e,i,t,o,a,d){const p=jr(e,i);!function J0(e,i,t,o,a,d,p){if(null==d)e.removeAttribute(i,a,t);else{const g=null==p?pt(d):p(d,o||"",a);e.setAttribute(i,a,g,t)}}(i[bt],p,d,e.value,t,o,a)}function bk(e,i,t,o,a,d){const p=d[i];if(null!==p)for(let g=0;g<p.length;)BC(o,t,p[g++],p[g++],p[g++])}function BC(e,i,t,o,a){const d=Co(null);try{const p=e.inputTransforms;null!==p&&p.hasOwnProperty(o)&&(a=p[o].call(i,a)),null!==e.setInput?e.setInput(i,a,t,o):i[o]=a}finally{Co(d)}}function wk(e,i,t){let o=null,a=0;for(;a<t.length;){const d=t[a];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===o&&(o=[]);const p=e[d];for(let g=0;g<p.length;g+=2)if(p[g]===i){o.push(d,p[g+1],t[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function VC(e,i,t,o){return[e,!0,!1,i,null,0,o,t,null,null,null]}function UC(e,i){const t=e.contentQueries;if(null!==t)for(let o=0;o<t.length;o+=2){const d=t[o+1];if(-1!==d){const p=e.data[d];Tl(t[o]),p.contentQueries(2,i[d],d)}}}function P_(e,i){return e[su]?e[Fp][co]=i:e[su]=i,e[Fp]=i,i}function ew(e,i,t){Tl(0);const o=Co(null);try{i(e,t)}finally{Co(o)}}function HC(e){return e[ou]||(e[ou]=[])}function zC(e){return e.cleanup||(e.cleanup=[])}function $C(e,i,t){return(null===e||Er(e))&&(t=function Bs(e){for(;Array.isArray(e);){if("object"==typeof e[cu])return e;e=e[Qn]}return null}(t[i.index])),t[bt]}function qC(e,i){const t=e[us],o=t?t.get(Pc,null):null;o&&o.handleError(i)}function tw(e,i,t,o,a){for(let d=0;d<t.length;){const p=t[d++],g=t[d++];BC(e.data[p],i[p],o,g,a)}}function Ek(e,i){const t=si(i,e),o=t[je];!function Dk(e,i){for(let t=i.length;t<e.blueprint.length;t++)i.push(e.blueprint[t])}(o,t);const a=t[Qn];null!==a&&null===t[we]&&(t[we]=fi(a,t[us])),nw(o,t,t[jn])}function nw(e,i,t){_u(i);try{const o=e.viewQuery;null!==o&&ew(1,o,t);const a=e.template;null!==a&&kC(e,i,a,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&UC(e,i),e.staticViewQueries&&ew(2,e.viewQuery,t);const d=e.components;null!==d&&function Ck(e,i){for(let t=0;t<i.length;t++)Ek(e,i[t])}(i,d)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{i[Mt]&=-5,bu()}}let GC=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,o,a){const d=typeof Zone>"u"?null:Zone.current,p=function Oi(e,i,t){const o=Object.create(Bd);t&&(o.consumerAllowSignalWrites=!0),o.fn=e,o.schedule=i;const a=p=>{o.cleanupFn=p};return o.ref={notify:()=>pg(o),run:()=>{if(o.dirty=!1,o.hasRun&&!pl(o))return;o.hasRun=!0;const p=bf(o);try{o.cleanupFn(),o.cleanupFn=Up,o.fn(a)}finally{lc(o,p)}},cleanup:()=>o.cleanupFn()},o.ref}(t,E=>{this.all.has(E)&&this.queue.set(E,d)},a);let g;this.all.add(p),p.notify();const _=()=>{p.cleanup(),g?.(),this.all.delete(p),this.queue.delete(p)};return g=o?.onDestroy(_),{destroy:_}}flush(){if(0!==this.queue.size)for(const[t,o]of this.queue)this.queue.delete(t),o?o.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Re({token:e,providedIn:"root",factory:()=>new e})}return e})();function F_(e,i,t){let o=t?e.styles:null,a=t?e.classes:null,d=0;if(null!==i)for(let p=0;p<i.length;p++){const g=i[p];"number"==typeof g?d=g:1==d?a=tc(a,g):2==d&&(o=tc(o,g+": "+i[++p]+";"))}t?e.styles=o:e.stylesWithoutHost=o,t?e.classes=a:e.classesWithoutHost=a}function wy(e,i,t,o,a=!1){for(;null!==t;){const d=i[t.index];null!==d&&o.push(xn(d)),dr(d)&&WC(d,o);const p=t.type;if(8&p)wy(e,i,t.child,o);else if(32&p){const g=Wl(t,i);let _;for(;_=g();)o.push(_)}else if(16&p){const g=wh(i,t);if(Array.isArray(g))o.push(...g);else{const _=ko(i[Tn]);wy(_[je],_,g,o,!0)}}t=a?t.projectionNext:t.next}return o}function WC(e,i){for(let t=ln;t<e.length;t++){const o=e[t],a=o[je].firstChild;null!==a&&wy(o[je],o,a,i)}e[He]!==e[Qn]&&i.push(e[He])}function L_(e,i,t,o=!0){const a=i[ls],d=a.rendererFactory,p=a.afterRenderEventManager;d.begin?.(),p?.begin();try{KC(e,i,e.template,t)}catch(_){throw o&&qC(i,_),_}finally{d.end?.(),a.effectManager?.flush(),p?.end()}}function KC(e,i,t,o){const a=i[Mt];if(256!=(256&a)){i[ls].effectManager?.flush(),_u(i);try{Ho(i),function yu(e){return it.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&kC(e,i,t,2,o);const p=3==(3&a);if(p){const E=e.preOrderCheckHooks;null!==E&&Hs(i,E,null)}else{const E=e.preOrderHooks;null!==E&&Qd(i,E,0,null),Rf(i,0)}if(function Tk(e){for(let i=gh(e);null!==i;i=vh(i)){if(!i[hl])continue;const t=i[Pe];for(let o=0;o<t.length;o++){Hp(t[o])}}}(i),YC(i,2),null!==e.contentQueries&&UC(e,i),p){const E=e.contentCheckHooks;null!==E&&Hs(i,E)}else{const E=e.contentHooks;null!==E&&Qd(i,E,1),Rf(i,1)}!function Q1(e,i){const t=e.hostBindingOpCodes;if(null===t)return;const o=TC(i,wi);try{for(let a=0;a<t.length;a++){const d=t[a];if(d<0)ms(~d);else{const p=d,g=t[++a],_=t[++a];Wd(g,p),o.dirty=!1;const E=bf(o);try{_(2,i[p])}finally{lc(o,E)}}}}finally{null===i[wi]&&xC(i,wi),ms(-1)}}(e,i);const g=e.components;null!==g&&XC(i,g,0);const _=e.viewQuery;if(null!==_&&ew(2,_,o),p){const E=e.viewCheckHooks;null!==E&&Hs(i,E)}else{const E=e.viewHooks;null!==E&&Qd(i,E,2),Rf(i,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i[Mt]&=-73,zp(i)}finally{bu()}}}function YC(e,i){for(let t=gh(e);null!==t;t=vh(t))for(let o=ln;o<t.length;o++)ZC(t[o],i)}function xk(e,i,t){ZC(si(i,e),t)}function ZC(e,i){if(!function Vs(e){return 128==(128&e[Mt])}(e))return;const t=e[je],o=e[Mt];if(80&o&&0===i||1024&o||2===i)KC(t,e,t.template,e[jn]);else if(e[$r]>0){YC(e,1);const a=t.components;null!==a&&XC(e,a,1)}}function XC(e,i,t){for(let o=0;o<i.length;o++)xk(e,i[o],t)}class Ey{get rootNodes(){const i=this._lView,t=i[je];return wy(t,i,t.firstChild,[])}constructor(i,t){this._lView=i,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jn]}set context(i){this._lView[jn]=i}get destroyed(){return 256==(256&this._lView[Mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Wn];if(dr(i)){const t=i[8],o=t?t.indexOf(this):-1;o>-1&&(Bu(i,o),oh(t,o))}this._attachedToViewContainer=!1}Qf(this._lView[je],this._lView)}onDestroy(i){!function pu(e,i){if(256==(256&e[Mt]))throw new ge(911,!1);null===e[ue]&&(e[ue]=[]),e[ue].push(i)}(this._lView,i)}markForCheck(){_y(this._cdRefInjectingView||this._lView)}detach(){this._lView[Mt]&=-129}reattach(){this._lView[Mt]|=128}detectChanges(){L_(this._lView[je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zf(e,i){Dh(e,i,i[bt],2,null,null)}(this._lView[je],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=i}}class Ak extends Ey{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;L_(i[je],i,i[jn],!1)}checkNoChanges(){}get context(){return null}}class QC extends s{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const t=Wt(i);return new Dy(t,this.ngModule)}}function JC(e){const i=[];for(let t in e)e.hasOwnProperty(t)&&i.push({propName:e[t],templateName:t});return i}class Rk{constructor(i,t){this.injector=i,this.parentInjector=t}get(i,t,o){o=fa(o);const a=this.injector.get(i,z,o);return a!==z||t===z?a:this.parentInjector.get(i,t,o)}}class Dy extends k{get inputs(){const i=this.componentDef,t=i.inputTransforms,o=JC(i.inputs);if(null!==t)for(const a of o)t.hasOwnProperty(a.propName)&&(a.transform=t[a.propName]);return o}get outputs(){return JC(this.componentDef.outputs)}constructor(i,t){super(),this.componentDef=i,this.ngModule=t,this.componentType=i.type,this.selector=function Md(e){return e.map(pa).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!t}create(i,t,o,a){let d=(a=a||this.ngModule)instanceof hr?a:a?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const p=d?new Rk(i,d):i,g=p.get(b,null);if(null===g)throw new ge(407,!1);const R={rendererFactory:g,sanitizer:p.get(O,null),effectManager:p.get(GC,null),afterRenderEventManager:p.get(q0,null)},F=g.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",H=o?function ek(e,i,t,o){const d=o.get(DC,!1)||t===$i.ShadowDom,p=e.selectRootElement(i,d);return function tk(e){NC(e)}(p),p}(F,o,this.componentDef.encapsulation,p):Yf(F,j,function Mk(e){const i=e.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(j)),Ee=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ae=null;null!==H&&(ae=fi(H,p,!0));const Ue=Z0(0,null,null,1,0,null,null,null,null,null,null),qe=N_(null,Ue,null,Ee,null,null,R,F,p,null,ae);let Ut,tr;_u(qe);try{const gr=this.componentDef;let No,Qa=null;gr.findHostDirectiveDefs?(No=[],Qa=new Map,gr.findHostDirectiveDefs(gr,No,Qa),No.push(gr)):No=[gr];const Ju=function Ok(e,i){const t=e[je],o=pe;return e[o]=i,sv(t,o,2,"#host",null)}(qe,H),j0=function Nk(e,i,t,o,a,d,p){const g=a[je];!function Pk(e,i,t,o){for(const a of e)i.mergedAttrs=cs(i.mergedAttrs,a.hostAttrs);null!==i.mergedAttrs&&(F_(i,i.mergedAttrs,!0),null!==t&&ip(o,t,i))}(o,e,i,p);let _=null;null!==i&&(_=fi(i,a[us]));const E=d.rendererFactory.createRenderer(i,t);let I=16;t.signals?I=4096:t.onPush&&(I=64);const R=N_(a,OC(t),null,I,a[e.index],e,d,E,null,null,_);return g.firstCreatePass&&Q0(g,e,o.length-1),P_(a,R),a[e.index]=R}(Ju,H,gr,No,qe,R,F);tr=fu(Ue,pe),H&&function Lk(e,i,t,o){if(o)cl(e,t,["ng-version",B.full]);else{const{attrs:a,classes:d}=function ru(e){const i=[],t=[];let o=1,a=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===a?""!==d&&i.push(d,e[++o]):8===a&&t.push(d);else{if(!Vo(a))break;a=d}o++}return{attrs:i,classes:t}}(i.selectors[0]);a&&cl(e,t,a),d&&d.length>0&&Kg(e,t,d.join(" "))}}(F,gr,H,o),void 0!==t&&function jk(e,i,t){const o=e.projection=[];for(let a=0;a<i.length;a++){const d=t[a];o.push(null!=d?Array.from(d):null)}}(tr,this.ngContentSelectors,t),Ut=function Fk(e,i,t,o,a,d){const p=ai(),g=a[je],_=jr(p,a);LC(g,a,p,t,null,o);for(let I=0;I<t.length;I++)rr(Ur(a,g,p.directiveStart+I,p),a);jC(g,a,p),_&&rr(_,a);const E=Ur(a,g,p.directiveStart+p.componentOffset,p);if(e[jn]=a[jn]=E,null!==d)for(const I of d)I(E,i);return W0(g,p,e),E}(j0,gr,No,Qa,qe,[Bk]),nw(Ue,qe,null)}finally{bu()}return new kk(this.componentType,Ut,h(tr,qe),qe,tr)}}class kk extends C{constructor(i,t,o,a,d){super(),this.location=o,this._rootLView=a,this._tNode=d,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ak(a),this.componentType=i}setInput(i,t){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),t))return;const d=this._rootLView;tw(d[je],d,a,i,t),this.previousInputValues.set(i,t),_y(si(this._tNode.index,d))}}get injector(){return new Ii(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Bk(){const e=ai();Ia(de()[je],e)}function $u(e){let i=function eI(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const o=[e];for(;i;){let a;if(Er(e))a=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ge(903,!1);a=i.\u0275dir}if(a){if(t){o.push(a);const p=e;p.inputs=j_(e.inputs),p.inputTransforms=j_(e.inputTransforms),p.declaredInputs=j_(e.declaredInputs),p.outputs=j_(e.outputs);const g=a.hostBindings;g&&zk(e,g);const _=a.viewQuery,E=a.contentQueries;if(_&&Uk(e,_),E&&Hk(e,E),Fo(e.inputs,a.inputs),Fo(e.declaredInputs,a.declaredInputs),Fo(e.outputs,a.outputs),null!==a.inputTransforms&&(null===p.inputTransforms&&(p.inputTransforms={}),Fo(p.inputTransforms,a.inputTransforms)),Er(a)&&a.data.animation){const I=e.data;I.animation=(I.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let p=0;p<d.length;p++){const g=d[p];g&&g.ngInherit&&g(e),g===$u&&(t=!1)}}i=Object.getPrototypeOf(i)}!function Vk(e){let i=0,t=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=i+=a.hostVars,a.hostAttrs=cs(a.hostAttrs,t=cs(t,a.hostAttrs))}}(o)}function j_(e){return e===Eo?{}:e===Tt?[]:e}function Uk(e,i){const t=e.viewQuery;e.viewQuery=t?(o,a)=>{i(o,a),t(o,a)}:i}function Hk(e,i){const t=e.contentQueries;e.contentQueries=t?(o,a,d)=>{i(o,a,d),t(o,a,d)}:i}function zk(e,i){const t=e.hostBindings;e.hostBindings=t?(o,a)=>{i(o,a),t(o,a)}:i}function iI(e){const i=e.inputConfig,t={};for(const o in i)if(i.hasOwnProperty(o)){const a=i[o];Array.isArray(a)&&a[2]&&(t[o]=a[2])}e.inputTransforms=t}function B_(e){return!!rw(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function rw(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function pd(e,i,t){return e[i]=t}function Jo(e,i,t){return!Object.is(e[i],t)&&(e[i]=t,!0)}function Gh(e,i,t,o){const a=de();return Jo(a,pc(),i)&&(sn(),fd(An(),a,e,i,t,o)),Gh}function ra(e,i,t,o,a,d,p,g){const _=de(),E=sn(),I=e+pe,R=E.firstCreatePass?function pO(e,i,t,o,a,d,p,g,_){const E=i.consts,I=sv(i,e,4,p||null,fc(E,g));X0(i,t,I,fc(E,_)),Ia(i,I);const R=I.tView=Z0(2,I,o,a,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,E,null);return null!==i.queries&&(i.queries.template(i,I),R.queries=i.queries.embeddedTView(I)),I}(I,E,_,i,t,o,a,d,p):E.data[I];Sr(R,!1);const F=vI(E,_,R,e);Xd()&&Ic(E,_,F,R),rr(F,_),P_(_,_[I]=VC(F,_,F,R)),ya(R)&&K0(E,_,R),null!=p&&Y0(_,R,g)}let vI=function yI(e,i,t,o){return mc(!0),i[bt].createComment("")};function Lc(e){return function So(e,i){return e[i]}(function $p(){return it.lFrame.contextLView}(),pe+e)}function vo(e,i,t){const o=de();return Jo(o,pc(),i)&&Ga(sn(),An(),o,e,i,o[bt],t,!1),vo}function uw(e,i,t,o,a){const p=a?"class":"style";tw(e,t,i.inputs[p],p,o)}function It(e,i,t,o){const a=de(),d=sn(),p=pe+e,g=a[bt],_=d.firstCreatePass?function yO(e,i,t,o,a,d){const p=i.consts,_=sv(i,e,2,o,fc(p,a));return X0(i,t,_,fc(p,d)),null!==_.attrs&&F_(_,_.attrs,!1),null!==_.mergedAttrs&&F_(_,_.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,_),_}(p,d,a,i,t,o):d.data[p],E=_I(d,a,_,g,i,e);a[p]=E;const I=ya(_);return Sr(_,!0),ip(g,E,_),32!=(32&_.flags)&&Xd()&&Ic(d,a,E,_),0===function Ir(){return it.lFrame.elementDepthCount}()&&rr(E,a),function Ht(){it.lFrame.elementDepthCount++}(),I&&(K0(d,a,_),W0(d,_,a)),null!==o&&Y0(a,_),It}function Rt(){let e=ai();Tf()?yn():(e=e.parent,Sr(e,!1));const i=e;(function Ca(e){return it.skipHydrationRootTNode===e})(i)&&function Us(){it.skipHydrationRootTNode=null}(),function Dl(){it.lFrame.elementDepthCount--}();const t=sn();return t.firstCreatePass&&(Ia(t,e),qr(e)&&t.queries.elementEnd(e)),null!=i.classesWithoutHost&&function Yn(e){return 0!=(8&e.flags)}(i)&&uw(t,i,de(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function ci(e){return 0!=(16&e.flags)}(i)&&uw(t,i,de(),i.stylesWithoutHost,!1),Rt}function yo(e,i,t,o){return It(e,i,t,o),Rt(),yo}let _I=(e,i,t,o,a,d)=>(mc(!0),Yf(o,a,function Mf(){return it.lFrame.currentNamespace}()));function Wh(){return de()}function $_(e){return!!e&&"function"==typeof e.then}function EI(e){return!!e&&"function"==typeof e.subscribe}function Qi(e,i,t,o){const a=de(),d=sn(),p=ai();return DI(d,a,a[bt],p,e,i,o),Qi}function hw(e,i){const t=ai(),o=de(),a=sn();return DI(a,o,$C(Yd(a.data),t,o),t,e,i),hw}function DI(e,i,t,o,a,d,p){const g=ya(o),E=e.firstCreatePass&&zC(e),I=i[jn],R=HC(i);let F=!0;if(3&o.type||p){const W=jr(o,i),fe=p?p(W):W,Ee=R.length,ae=p?qe=>p(xn(qe[o.index])):o.index;let Ue=null;if(!p&&g&&(Ue=function CO(e,i,t,o){const a=e.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const p=a[d];if(p===t&&a[d+1]===o){const g=i[ou],_=a[d+2];return g.length>_?g[_]:null}"string"==typeof p&&(d+=2)}return null}(e,i,a,o.index)),null!==Ue)(Ue.__ngLastListenerFn__||Ue).__ngNextListenerFn__=d,Ue.__ngLastListenerFn__=d,F=!1;else{d=II(o,i,I,d,!1);const qe=t.listen(fe,a,d);R.push(d,qe),E&&E.push(a,ae,Ee,Ee+1)}}else d=II(o,i,I,d,!1);const j=o.outputs;let H;if(F&&null!==j&&(H=j[a])){const W=H.length;if(W)for(let fe=0;fe<W;fe+=2){const Ut=i[H[fe]][H[fe+1]].subscribe(d),tr=R.length;R.push(d,Ut),E&&E.push(a,o.index,tr,-(tr+1))}}}function CI(e,i,t,o){try{return Io(6,i,t),!1!==t(o)}catch(a){return qC(e,a),!1}finally{Io(7,i,t)}}function II(e,i,t,o,a){return function d(p){if(p===Function)return o;_y(e.componentOffset>-1?si(e.index,i):i);let _=CI(i,t,o,p),E=d.__ngNextListenerFn__;for(;E;)_=CI(i,t,E,p)&&_,E=E.__ngNextListenerFn__;return a&&!1===_&&p.preventDefault(),_}}function Kh(e=1){return function wu(e){return(it.lFrame.contextLView=function To(e,i){for(;e>0;)i=i[ga],e--;return i}(e,it.lFrame.contextLView))[jn]}(e)}function IO(e,i){let t=null;const o=function nu(e){const i=e.attrs;if(null!=i){const t=i.indexOf(5);if(!(1&t))return i[t+1]}return null}(e);for(let a=0;a<i.length;a++){const d=i[a];if("*"!==d){if(null===o?Np(e,d,!0):Pp(o,d))return a}else t=a}return t}function zm(e){const i=de()[Tn][ii];if(!i.projection){const o=i.projection=sh(e?e.length:1,null),a=o.slice();let d=i.child;for(;null!==d;){const p=e?IO(d,e):0;null!==p&&(a[p]?a[p].projectionNext=d:o[p]=d,a[p]=d),d=d.next}}}function Es(e,i=0,t){const o=de(),a=sn(),d=sv(a,pe+e,16,null,t||null);null===d.projection&&(d.projection=i),yn(),(!o[we]||gu())&&32!=(32&d.flags)&&function qg(e,i,t){Gg(i[bt],0,i,t,ep(e,t,i),wm(t.parent||i[ii],t,i))}(a,o,d)}function q_(e,i){return e<<17|i<<2}function vp(e){return e>>17&32767}function pw(e){return 2|e}function $m(e){return(131068&e)>>2}function mw(e,i){return-131069&e|i<<2}function gw(e){return 1|e}function PI(e,i,t,o,a){const d=e[t+1],p=null===i;let g=o?vp(d):$m(d),_=!1;for(;0!==g&&(!1===_||p);){const I=e[g+1];RO(e[g],i)&&(_=!0,e[g+1]=o?gw(I):pw(I)),g=o?vp(I):$m(I)}_&&(e[t+1]=o?pw(d):gw(d))}function RO(e,i){return null===e||null==i||(Array.isArray(e)?e[1]:e)===i||!(!Array.isArray(e)||"string"!=typeof i)&&Vl(e,i)>=0}function qu(e,i){return function Gu(e,i,t,o){const a=de(),d=sn(),p=function zo(e){const i=it.lFrame,t=i.bindingIndex;return i.bindingIndex=i.bindingIndex+e,t}(2);d.firstUpdatePass&&function $I(e,i,t,o){const a=e.data;if(null===a[t+1]){const d=a[Wr()],p=function zI(e,i){return i>=e.expandoStartIndex}(e,t);(function KI(e,i){return 0!=(e.flags&(i?8:16))})(d,o)&&null===i&&!p&&(i=!1),i=function VO(e,i,t,o){const a=Yd(e);let d=o?i.residualClasses:i.residualStyles;if(null===a)0===(o?i.classBindings:i.styleBindings)&&(t=xy(t=vw(null,e,i,t,o),i.attrs,o),d=null);else{const p=i.directiveStylingLast;if(-1===p||e[p]!==a)if(t=vw(a,e,i,t,o),null===d){let _=function UO(e,i,t){const o=t?i.classBindings:i.styleBindings;if(0!==$m(o))return e[vp(o)]}(e,i,o);void 0!==_&&Array.isArray(_)&&(_=vw(null,e,i,_[1],o),_=xy(_,i.attrs,o),function HO(e,i,t,o){e[vp(t?i.classBindings:i.styleBindings)]=o}(e,i,o,_))}else d=function zO(e,i,t){let o;const a=i.directiveEnd;for(let d=1+i.directiveStylingLast;d<a;d++)o=xy(o,e[d].hostAttrs,t);return xy(o,i.attrs,t)}(e,i,o)}return void 0!==d&&(o?i.residualClasses=d:i.residualStyles=d),t}(a,d,i,o),function AO(e,i,t,o,a,d){let p=d?i.classBindings:i.styleBindings,g=vp(p),_=$m(p);e[o]=t;let I,E=!1;if(Array.isArray(t)?(I=t[1],(null===I||Vl(t,I)>0)&&(E=!0)):I=t,a)if(0!==_){const F=vp(e[g+1]);e[o+1]=q_(F,g),0!==F&&(e[F+1]=mw(e[F+1],o)),e[g+1]=function TO(e,i){return 131071&e|i<<17}(e[g+1],o)}else e[o+1]=q_(g,0),0!==g&&(e[g+1]=mw(e[g+1],o)),g=o;else e[o+1]=q_(_,0),0===g?g=o:e[_+1]=mw(e[_+1],o),_=o;E&&(e[o+1]=pw(e[o+1])),PI(e,I,o,!0),PI(e,I,o,!1),function MO(e,i,t,o,a){const d=a?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof i&&Vl(d,i)>=0&&(t[o+1]=gw(t[o+1]))}(i,I,e,o,d),p=q_(g,_),d?i.classBindings=p:i.styleBindings=p}(a,d,i,t,p,o)}}(d,e,p,o),i!==zt&&Jo(a,p,i)&&function GI(e,i,t,o,a,d,p,g){if(!(3&i.type))return;const _=e.data,E=_[g+1],I=function xO(e){return 1==(1&e)}(E)?WI(_,i,t,a,$m(E),p):void 0;G_(I)||(G_(d)||function SO(e){return 2==(2&e)}(E)&&(d=WI(_,null,t,a,g,p)),function np(e,i,t,o,a){if(i)a?e.addClass(t,o):e.removeClass(t,o);else{let d=-1===o.indexOf("-")?void 0:Zs.DashCase;null==a?e.removeStyle(t,o,d):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),d|=Zs.Important),e.setStyle(t,o,a,d))}}(o,p,wl(Wr(),t),a,d))}(d,d.data[Wr()],a,a[bt],e,a[p+1]=function WO(e,i){return null==e||""===e||("string"==typeof i?e+=i:"object"==typeof e&&(e=Nn(di(e)))),e}(i,t),o,p)}(e,i,null,!0),qu}function vw(e,i,t,o,a){let d=null;const p=t.directiveEnd;let g=t.directiveStylingLast;for(-1===g?g=t.directiveStart:g++;g<p&&(d=i[g],o=xy(o,d.hostAttrs,a),d!==e);)g++;return null!==e&&(t.directiveStylingLast=g),o}function xy(e,i,t){const o=t?1:2;let a=-1;if(null!==i)for(let d=0;d<i.length;d++){const p=i[d];"number"==typeof p?a=p:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Yr(e,p,!!t||i[++d]))}return void 0===e?null:e}function WI(e,i,t,o,a,d){const p=null===i;let g;for(;a>0;){const _=e[a],E=Array.isArray(_),I=E?_[1]:_,R=null===I;let F=t[a+1];F===zt&&(F=R?Tt:void 0);let j=R?ah(F,o):I===o?F:void 0;if(E&&!G_(j)&&(j=ah(_,o)),G_(j)&&(g=j,p))return g;const H=e[a+1];a=p?vp(H):$m(H)}if(null!==i){let _=d?i.residualClasses:i.residualStyles;null!=_&&(g=ah(_,o))}return g}function G_(e){return void 0!==e}function En(e,i=""){const t=de(),o=sn(),a=e+pe,d=o.firstCreatePass?sv(o,a,1,i,null):o.data[a],p=YI(o,t,d,i,e);t[a]=p,Xd()&&Ic(o,t,p,d),Sr(d,!1)}let YI=(e,i,t,o,a)=>(mc(!0),function Kf(e,i){return e.createText(i)}(i[bt],o));function qm(e){return Ay("",e,""),qm}function Ay(e,i,t){const o=de(),a=function cv(e,i,t,o){return Jo(e,pc(),t)?i+pt(t)+o:zt}(o,e,i,t);return a!==zt&&function qh(e,i,t){const o=wl(i,e);!function yh(e,i,t){e.setValue(i,t)}(e[bt],o,t)}(o,Wr(),a),Ay}function yw(e,i,t){const o=de();return Jo(o,pc(),i)&&Ga(sn(),An(),o,e,i,o[bt],t,!0),yw}function _w(e,i,t){const o=de();if(Jo(o,pc(),i)){const d=sn(),p=An();Ga(d,p,o,e,i,$C(Yd(d.data),p,o),t,!0)}return _w}const yv="en-US";let mS=yv;class Wm{}class US{}class Sw extends Wm{constructor(i,t,o){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new QC(this);const a=br(i);this._bootstrapComponents=$h(a.bootstrap),this._r3Injector=gp(i,t,[{provide:Wm,useValue:this},{provide:s,useValue:this.componentFactoryResolver},...o],Nn(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Tw extends US{constructor(i){super(),this.moduleType=i}create(i){return new Sw(this.moduleType,i,[])}}class HS extends Wm{constructor(i){super(),this.componentFactoryResolver=new QC(this),this.instance=null;const t=new Zo([...i.providers,{provide:Wm,useValue:this},{provide:s,useValue:this.componentFactoryResolver}],i.parent||ta(),i.debugName,new Set(["environment"]));this.injector=t,i.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function xw(e,i,t=null){return new HS({providers:e,parent:i,debugName:t,runEnvironmentInitializers:!0}).injector}let yP=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const o=Bm(0,t.type),a=o.length>0?xw([o],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,a)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Re({token:e,providedIn:"environment",factory:()=>new e(ne(hr))})}return e})();function zS(e){e.getStandaloneInjector=i=>i.get(yP).getOrCreateStandaloneInjector(e)}function Mw(e,i,t,o){return function XS(e,i,t,o,a,d){const p=i+t;return Jo(e,p,a)?pd(e,p+1,d?o.call(d,a):o(a)):Py(e,p+1)}(de(),Tr(),e,i,t,o)}function ZS(e,i,t,o,a){return function QS(e,i,t,o,a,d,p){const g=i+t;return function Hm(e,i,t,o){const a=Jo(e,i,t);return Jo(e,i+1,o)||a}(e,g,a,d)?pd(e,g+2,p?o.call(p,a,d):o(a,d)):Py(e,g+2)}(de(),Tr(),e,i,t,o,a)}function Py(e,i){const t=e[i];return t===zt?void 0:t}function HP(){return this._results[Symbol.iterator]()}class Rw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Xi)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Rw.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=HP)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,t){return this._results.reduce(i,t)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,t){const o=this;o.dirty=!1;const a=function Mo(e){return e.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Bl(e,i,t){if(e.length!==i.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],d=i[o];if(t&&(a=t(a),d=t(d)),d!==a)return!1}return!0}(o._results,a,t))&&(o._results=a,o.length=a.length,o.last=a[this.length-1],o.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function $P(e,i,t,o=!0){const a=i[je];if(function Xf(e,i,t,o){const a=ln+o,d=t.length;o>0&&(t[a-1][co]=i),o<d-ln?(i[co]=t[a],wc(t,ln+o,i)):(t.push(i),i[co]=null),i[Wn]=t;const p=i[Fs];null!==p&&t!==p&&function sy(e,i){const t=e[Pe];i[Tn]!==i[Wn][Wn][Tn]&&(e[hl]=!0),null===t?e[Pe]=[i]:t.push(i)}(p,i);const g=i[va];null!==g&&g.insertView(e),i[Mt]|=128}(a,i,e,t),o){const d=Eh(t,e),p=i[bt],g=bh(p,e[He]);null!==g&&function vm(e,i,t,o,a,d){o[Qn]=a,o[ii]=i,Dh(e,o,t,1,a,d)}(a,e[ii],p,i,g,d)}}let vd=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=WP}return e})();const qP=vd,GP=class extends qP{constructor(i,t,o){super(),this._declarationLView=i,this._declarationTContainer=t,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,t){return this.createEmbeddedViewImpl(i,t)}createEmbeddedViewImpl(i,t,o){const a=function zP(e,i,t,o){const a=i.tView,g=N_(e,a,t,4096&e[Mt]?4096:16,null,i,null,null,null,o?.injector??null,o?.hydrationInfo??null);g[Fs]=e[i.index];const E=e[va];return null!==E&&(g[va]=E.createEmbeddedView(a)),nw(a,g,t),g}(this._declarationLView,this._declarationTContainer,i,{injector:t,hydrationInfo:o});return new Ey(a)}};function WP(){return X_(ai(),de())}function X_(e,i){return 4&e.type?new GP(i,e,h(e,i)):null}let jc=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=JP}return e})();function JP(){return cT(ai(),de())}const eF=jc,sT=class extends eF{constructor(i,t,o){super(),this._lContainer=i,this._hostTNode=t,this._hostLView=o}get element(){return h(this._hostTNode,this._hostLView)}get injector(){return new Ii(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ta(this._hostTNode,this._hostLView);if(Vn(i)){const t=Jn(i,this._hostLView),o=ui(i);return new Ii(t[je].data[o+8],t)}return new Ii(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const t=aT(this._lContainer);return null!==t&&t[i]||null}get length(){return this._lContainer.length-ln}createEmbeddedView(i,t,o){let a,d;"number"==typeof o?a=o:null!=o&&(a=o.index,d=o.injector);const g=i.createEmbeddedViewImpl(t||{},d,null);return this.insertImpl(g,a,false),g}createComponent(i,t,o,a,d){const p=i&&!function ih(e){return"function"==typeof e}(i);let g;if(p)g=t;else{const W=t||{};g=W.index,o=W.injector,a=W.projectableNodes,d=W.environmentInjector||W.ngModuleRef}const _=p?i:new Dy(Wt(i)),E=o||this.parentInjector;if(!d&&null==_.ngModule){const fe=(p?E:this.parentInjector).get(hr,null);fe&&(d=fe)}Wt(_.componentType??{});const j=_.create(E,a,null,d);return this.insertImpl(j.hostView,g,false),j}insert(i,t){return this.insertImpl(i,t,!1)}insertImpl(i,t,o){const a=i._lView;if(function El(e){return dr(e[Wn])}(a)){const _=this.indexOf(i);if(-1!==_)this.detach(_);else{const E=a[Wn],I=new sT(E,E[ii],E[Wn]);I.detach(I.indexOf(i))}}const p=this._adjustIndex(t),g=this._lContainer;return $P(g,a,p,!o),i.attachToViewContainerRef(),wc(kw(g),p,i),i}move(i,t){return this.insert(i,t)}indexOf(i){const t=aT(this._lContainer);return null!==t?t.indexOf(i):-1}remove(i){const t=this._adjustIndex(i,-1),o=Bu(this._lContainer,t);o&&(oh(kw(this._lContainer),t),Qf(o[je],o))}detach(i){const t=this._adjustIndex(i,-1),o=Bu(this._lContainer,t);return o&&null!=oh(kw(this._lContainer),t)?new Ey(o):null}_adjustIndex(i,t=0){return i??this.length+t}};function aT(e){return e[8]}function kw(e){return e[8]||(e[8]=[])}function cT(e,i){let t;const o=i[e.index];return dr(o)?t=o:(t=VC(o,i,null,e),i[e.index]=t,P_(i,t)),uT(t,i,e,o),new sT(t,e,i)}let uT=function lT(e,i,t,o){if(e[He])return;let a;a=8&t.type?xn(o):function tF(e,i){const t=e[bt],o=t.createComment(""),a=jr(i,e);return Qs(t,bh(t,a),o,function bm(e,i){return e.nextSibling(i)}(t,a),!1),o}(i,t),e[He]=a};class Ow{constructor(i){this.queryList=i,this.matches=null}clone(){return new Ow(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nw{constructor(i=[]){this.queries=i}createEmbeddedView(i){const t=i.queries;if(null!==t){const o=null!==i.contentQueries?i.contentQueries[0]:t.length,a=[];for(let d=0;d<o;d++){const p=t.getByIndex(d);a.push(this.queries[p.indexInDeclarationView].clone())}return new Nw(a)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let t=0;t<this.queries.length;t++)null!==vT(i,t).matches&&this.queries[t].setDirty()}}class dT{constructor(i,t,o=null){this.predicate=i,this.flags=t,this.read=o}}class Pw{constructor(i=[]){this.queries=i}elementStart(i,t){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(i,t)}elementEnd(i){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(i)}embeddedTView(i){let t=null;for(let o=0;o<this.length;o++){const a=null!==t?t.length:0,d=this.getByIndex(o).embeddedTView(i,a);d&&(d.indexInDeclarationView=o,null!==t?t.push(d):t=[d])}return null!==t?new Pw(t):null}template(i,t){for(let o=0;o<this.queries.length;o++)this.queries[o].template(i,t)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Fw{constructor(i,t=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(i,t){this.isApplyingToNode(t)&&this.matchTNode(i,t)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,t){this.elementStart(i,t)}embeddedTView(i,t){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,t),new Fw(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let o=i.parent;for(;null!==o&&8&o.type&&o.index!==t;)o=o.parent;return t===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(i,t){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const d=o[a];this.matchTNodeWithReadOption(i,t,iF(t,d)),this.matchTNodeWithReadOption(i,t,Pl(t,i,d,!1,!1))}else o===vd?4&t.type&&this.matchTNodeWithReadOption(i,t,-1):this.matchTNodeWithReadOption(i,t,Pl(t,i,o,!1,!1))}matchTNodeWithReadOption(i,t,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===m||a===jc||a===vd&&4&t.type)this.addMatch(t.index,-2);else{const d=Pl(t,i,a,!1,!1);null!==d&&this.addMatch(t.index,d)}else this.addMatch(t.index,o)}}addMatch(i,t){null===this.matches?this.matches=[i,t]:this.matches.push(i,t)}}function iF(e,i){const t=e.localNames;if(null!==t)for(let o=0;o<t.length;o+=2)if(t[o]===i)return t[o+1];return null}function sF(e,i,t,o){return-1===t?function oF(e,i){return 11&e.type?h(e,i):4&e.type?X_(e,i):null}(i,e):-2===t?function aF(e,i,t){return t===m?h(i,e):t===vd?X_(i,e):t===jc?cT(i,e):void 0}(e,i,o):Ur(e,e[je],t,i)}function hT(e,i,t,o){const a=i[va].queries[o];if(null===a.matches){const d=e.data,p=t.matches,g=[];for(let _=0;_<p.length;_+=2){const E=p[_];g.push(E<0?null:sF(i,d[E],p[_+1],t.metadata.read))}a.matches=g}return a.matches}function Lw(e,i,t,o){const a=e.queries.getByIndex(t),d=a.matches;if(null!==d){const p=hT(e,i,a,t);for(let g=0;g<d.length;g+=2){const _=d[g];if(_>0)o.push(p[g/2]);else{const E=d[g+1],I=i[-_];for(let R=ln;R<I.length;R++){const F=I[R];F[Fs]===F[Wn]&&Lw(F[je],F,E,o)}if(null!==I[Pe]){const R=I[Pe];for(let F=0;F<R.length;F++){const j=R[F];Lw(j[je],j,E,o)}}}}}return o}function jw(e){const i=de(),t=sn(),o=Sl();Tl(o+1);const a=vT(t,o);if(e.dirty&&function Cr(e){return 4==(4&e[Mt])}(i)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{const d=a.crossesNgTemplate?Lw(t,i,o,[]):hT(t,i,a,o);e.reset(d,y),e.notifyOnChanges()}return!0}return!1}function fT(e,i,t){const o=sn();o.firstCreatePass&&(function gT(e,i,t){null===e.queries&&(e.queries=new Pw),e.queries.track(new Fw(i,t))}(o,new dT(e,i,t),-1),2==(2&i)&&(o.staticViewQueries=!0)),function mT(e,i,t){const o=new Rw(4==(4&t));(function ik(e,i,t,o){const a=HC(i);a.push(t),e.firstCreatePass&&zC(e).push(o,a.length-1)})(e,i,o,o.destroy),null===i[va]&&(i[va]=new Nw),i[va].queries.push(new Ow(o))}(o,de(),i)}function vT(e,i){return e.queries.getByIndex(i)}const qw=new Te("Application Initializer");let Gw=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,o)=>{this.resolve=t,this.reject=o}),this.appInits=Oe(qw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const a of this.appInits){const d=a();if($_(d))t.push(d);else if(EI(d)){const p=new Promise((g,_)=>{d.subscribe({complete:g,error:_})});t.push(p)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{o()}).catch(a=>{this.reject(a)}),0===t.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),NT=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const yd=new Te("LocaleId",{providedIn:"root",factory:()=>Oe(yd,Dt.Optional|Dt.SkipSelf)||function RF(){return typeof $localize<"u"&&$localize.locale||yv}()});let PT=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Or(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class NF{constructor(i,t){this.ngModuleFactory=i,this.componentFactories=t}}let FT=(()=>{class e{compileModuleSync(t){return new Tw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const o=this.compileModuleSync(t),d=$h(br(t).declarations).reduce((p,g)=>{const _=Wt(g);return _&&p.push(new Dy(_)),p},[]);return new NF(o,d)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const VT=new Te(""),tb=new Te("");let Xw,Yw=(()=>{class e{constructor(t,o,a){this._ngZone=t,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Xw||(function eL(e){Xw=e}(a),a.addToWindow(o)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(t)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,o,a){let d=-1;o&&o>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==d),t(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:t,timeoutId:d,updateCb:a})}whenStable(t,o,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,o,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,o,a){return[]}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Bt),ne(Zw),ne(tb))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})(),Zw=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,o){this._applications.set(t,o)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,o=!0){return Xw?.findTestabilityInTree(this,t,o)??null}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),yp=null;const UT=new Te("AllowMultipleToken"),Qw=new Te("PlatformDestroyListeners"),Jw=new Te("appBootstrapListener");class zT{constructor(i,t){this.name=i,this.token=t}}function qT(e,i,t=[]){const o=`Platform: ${i}`,a=new Te(o);return(d=[])=>{let p=eE();if(!p||p.injector.get(UT,!1)){const g=[...t,...d,{provide:a,useValue:!0}];e?e(g):function rL(e){if(yp&&!yp.get(UT,!1))throw new ge(400,!1);(function HT(){!function Vp(e){hc=e}(()=>{throw new ge(600,!1)})})(),yp=e;const i=e.get(WT);(function $T(e){e.get(Bh,null)?.forEach(t=>t())})(e)}(function GT(e=[],i){return Xr.create({name:i,providers:[{provide:od,useValue:"platform"},{provide:Qw,useValue:new Set([()=>yp=null])},...e]})}(g,o))}return function oL(e){const i=eE();if(!i)throw new ge(401,!1);return i}()}}function eE(){return yp?.get(WT)??null}let WT=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,o){const a=function sL(e="zone.js",i){return"noop"===e?new V1:"zone.js"===e?new Bt(i):e}(o?.ngZone,function KT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return a.run(()=>{const d=function vP(e,i,t){return new Sw(e,i,t)}(t.moduleType,this.injector,function JT(e){return[{provide:Bt,useFactory:e},{provide:Fa,multi:!0,useFactory:()=>{const i=Oe(cL,{optional:!0});return()=>i.initialize()}},{provide:QT,useFactory:aL},{provide:vC,useFactory:yC}]}(()=>a)),p=d.injector.get(Pc,null);return a.runOutsideAngular(()=>{const g=a.onError.subscribe({next:_=>{p.handleError(_)}});d.onDestroy(()=>{nb(this._modules,d),g.unsubscribe()})}),function YT(e,i,t){try{const o=t();return $_(o)?o.catch(a=>{throw i.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw i.runOutsideAngular(()=>e.handleError(o)),o}}(p,a,()=>{const g=d.injector.get(Gw);return g.runInitializers(),g.donePromise.then(()=>(function gS(e){Nr(e,"Expected localeId to be defined"),"string"==typeof e&&(mS=e.toLowerCase().replace(/_/g,"-"))}(d.injector.get(yd,yv)||yv),this._moduleDoBootstrap(d),d))})})}bootstrapModule(t,o=[]){const a=ZT({},o);return function tL(e,i,t){const o=new Tw(t);return Promise.resolve(o)}(0,0,t).then(d=>this.bootstrapModuleFactory(d,a))}_moduleDoBootstrap(t){const o=t.injector.get(_p);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(a=>o.bootstrap(a));else{if(!t.instance.ngDoBootstrap)throw new ge(-403,!1);t.instance.ngDoBootstrap(o)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const t=this._injector.get(Qw,null);t&&(t.forEach(o=>o()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Xr))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function ZT(e,i){return Array.isArray(i)?i.reduce(ZT,e):{...e,...i}}let _p=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Oe(QT),this.zoneIsStable=Oe(vC),this.componentTypes=[],this.components=[],this.isStable=Oe(PT).hasPendingTasks.pipe(un(t=>t?Je(!1):this.zoneIsStable),xs(),tl()),this._injector=Oe(hr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,o){const a=t instanceof k;if(!this._injector.get(Gw).done)throw!a&&function ac(e){const i=Wt(e)||ri(e)||Ri(e);return null!==i&&i.standalone}(t),new ge(405,!1);let p;p=a?t:this._injector.get(s).resolveComponentFactory(t),this.componentTypes.push(p.componentType);const g=function nL(e){return e.isBoundToModule}(p)?void 0:this._injector.get(Wm),E=p.create(Xr.NULL,[],o||p.selector,g),I=E.location.nativeElement,R=E.injector.get(VT,null);return R?.registerApplication(I),E.onDestroy(()=>{this.detachView(E.hostView),nb(this.components,E),R?.unregisterApplication(I)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const o=t;this._views.push(o),o.attachToAppRef(this)}detachView(t){const o=t;nb(this._views,o),o.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const o=this._injector.get(Jw,[]);o.push(...this._bootstrapListeners),o.forEach(a=>a(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>nb(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ge(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nb(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}const QT=new Te("",{providedIn:"root",factory:()=>Oe(Pc).handleError.bind(void 0)});function aL(){const e=Oe(Bt),i=Oe(Pc);return t=>e.runOutsideAngular(()=>i.handleError(t))}let cL=(()=>{class e{constructor(){this.zone=Oe(Bt),this.applicationRef=Oe(_p)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let rb=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=lL}return e})();function lL(e){return function dL(e,i,t){if(mt(e)&&!t){const o=si(e.index,i);return new Ey(o,o)}return 47&e.type?new Ey(i[Tn],i):null}(ai(),de(),16==(16&e))}class rx{constructor(){}supports(i){return B_(i)}create(i){return new vL(i)}}const gL=(e,i)=>i;class vL{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||gL}forEachItem(i){let t;for(t=this._itHead;null!==t;t=t._next)i(t)}forEachOperation(i){let t=this._itHead,o=this._removalsHead,a=0,d=null;for(;t||o;){const p=!o||t&&t.currentIndex<ox(o,a,d)?t:o,g=ox(p,a,d),_=p.currentIndex;if(p===o)a--,o=o._nextRemoved;else if(t=t._next,null==p.previousIndex)a++;else{d||(d=[]);const E=g-a,I=_-a;if(E!=I){for(let F=0;F<E;F++){const j=F<d.length?d[F]:d[F]=0,H=j+F;I<=H&&H<E&&(d[F]=j+1)}d[p.previousIndex]=I-E}}g!==_&&i(p,g,_)}}forEachPreviousItem(i){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)i(t)}forEachAddedItem(i){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)i(t)}forEachMovedItem(i){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)i(t)}forEachRemovedItem(i){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)i(t)}forEachIdentityChange(i){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)i(t)}diff(i){if(null==i&&(i=[]),!B_(i))throw new ge(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let a,d,p,t=this._itHead,o=!1;if(Array.isArray(i)){this.length=i.length;for(let g=0;g<this.length;g++)d=i[g],p=this._trackByFn(g,d),null!==t&&Object.is(t.trackById,p)?(o&&(t=this._verifyReinsertion(t,d,p,g)),Object.is(t.item,d)||this._addIdentityChange(t,d)):(t=this._mismatch(t,d,p,g),o=!0),t=t._next}else a=0,function Zk(e,i){if(Array.isArray(e))for(let t=0;t<e.length;t++)i(e[t]);else{const t=e[Symbol.iterator]();let o;for(;!(o=t.next()).done;)i(o.value)}}(i,g=>{p=this._trackByFn(a,g),null!==t&&Object.is(t.trackById,p)?(o&&(t=this._verifyReinsertion(t,g,p,a)),Object.is(t.item,g)||this._addIdentityChange(t,g)):(t=this._mismatch(t,g,p,a),o=!0),t=t._next,a++}),this.length=a;return this._truncate(t),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,t,o,a){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(i.item,t)||this._addIdentityChange(i,t),this._reinsertAfter(i,d,a)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(i.item,t)||this._addIdentityChange(i,t),this._moveAfter(i,d,a)):i=this._addAfter(new yL(t,o),d,a),i}_verifyReinsertion(i,t,o,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?i=this._reinsertAfter(d,i._prev,a):i.currentIndex!=a&&(i.currentIndex=a,this._addToMoves(i,a)),i}_truncate(i){for(;null!==i;){const t=i._next;this._addToRemovals(this._unlink(i)),i=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,t,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const a=i._prevRemoved,d=i._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(i,t,o),this._addToMoves(i,o),i}_moveAfter(i,t,o){return this._unlink(i),this._insertAfter(i,t,o),this._addToMoves(i,o),i}_addAfter(i,t,o){return this._insertAfter(i,t,o),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,t,o){const a=null===t?this._itHead:t._next;return i._next=a,i._prev=t,null===a?this._itTail=i:a._prev=i,null===t?this._itHead=i:t._next=i,null===this._linkedRecords&&(this._linkedRecords=new ix),this._linkedRecords.put(i),i.currentIndex=o,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const t=i._prev,o=i._next;return null===t?this._itHead=o:t._next=o,null===o?this._itTail=t:o._prev=t,i}_addToMoves(i,t){return i.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ix),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,t){return i.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class yL{constructor(i,t){this.item=i,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _L{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,t){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===t||t<=o.currentIndex)&&Object.is(o.trackById,i))return o;return null}remove(i){const t=i._prevDup,o=i._nextDup;return null===t?this._head=o:t._nextDup=o,null===o?this._tail=t:o._prevDup=t,null===this._head}}class ix{constructor(){this.map=new Map}put(i){const t=i.trackById;let o=this.map.get(t);o||(o=new _L,this.map.set(t,o)),o.add(i)}get(i,t){const a=this.map.get(i);return a?a.get(i,t):null}remove(i){const t=i.trackById;return this.map.get(t).remove(i)&&this.map.delete(t),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ox(e,i,t){const o=e.previousIndex;if(null===o)return o;let a=0;return t&&o<t.length&&(a=t[o]),o+i+a}class sx{constructor(){}supports(i){return i instanceof Map||rw(i)}create(){return new bL}}class bL{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let t;for(t=this._mapHead;null!==t;t=t._next)i(t)}forEachPreviousItem(i){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)i(t)}forEachChangedItem(i){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)i(t)}forEachAddedItem(i){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)i(t)}forEachRemovedItem(i){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)i(t)}diff(i){if(i){if(!(i instanceof Map||rw(i)))throw new ge(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(i,(o,a)=>{if(t&&t.key===a)this._maybeAddToChanges(t,o),this._appendAfter=t,t=t._next;else{const d=this._getOrCreateRecordForKey(a,o);t=this._insertBeforeOrAppend(t,d)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let o=t;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,t){if(i){const o=i._prev;return t._next=i,t._prev=o,i._prev=t,o&&(o._next=t),i===this._mapHead&&(this._mapHead=t),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(i,t){if(this._records.has(i)){const a=this._records.get(i);this._maybeAddToChanges(a,t);const d=a._prev,p=a._next;return d&&(d._next=p),p&&(p._prev=d),a._next=null,a._prev=null,a}const o=new wL(i);return this._records.set(i,o),o.currentValue=t,this._addToAdditions(o),o}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,t){Object.is(t,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=t,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,t){i instanceof Map?i.forEach(t):Object.keys(i).forEach(o=>t(i[o],o))}}class wL{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ax(){return new sb([new rx])}let sb=(()=>{class e{static#e=this.\u0275prov=Re({token:e,providedIn:"root",factory:ax});constructor(t){this.factories=t}static create(t,o){if(null!=o){const a=o.factories.slice();t=t.concat(a)}return new e(t)}static extend(t){return{provide:e,useFactory:o=>e.create(t,o||ax()),deps:[[e,new Au,new jt]]}}find(t){const o=this.factories.find(a=>a.supports(t));if(null!=o)return o;throw new ge(901,!1)}}return e})();function cx(){return new By([new sx])}let By=(()=>{class e{static#e=this.\u0275prov=Re({token:e,providedIn:"root",factory:cx});constructor(t){this.factories=t}static create(t,o){if(o){const a=o.factories.slice();t=t.concat(a)}return new e(t)}static extend(t){return{provide:e,useFactory:o=>e.create(t,o||cx()),deps:[[e,new Au,new jt]]}}find(t){const o=this.factories.find(a=>a.supports(t));if(o)return o;throw new ge(901,!1)}}return e})();const CL=qT(null,"core",[]);let IL=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(o){return new(o||e)(ne(_p))};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({})}return e})();function sE(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let aE=null;function wv(){return aE}class BL{}const tn=new Te("DocumentToken");let cE=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:function(){return Oe(UL)},providedIn:"platform"})}return e})();const VL=new Te("Location Initialized");let UL=(()=>{class e extends cE{constructor(){super(),this._doc=Oe(tn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wv().getBaseHref(this._doc)}onPopState(t){const o=wv().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=wv().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,o,a){this._history.pushState(t,o,a)}replaceState(t,o,a){this._history.replaceState(t,o,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function uE(e,i){if(0==e.length)return i;if(0==i.length)return e;let t=0;return e.endsWith("/")&&t++,i.startsWith("/")&&t++,2==t?e+i.substring(1):1==t?e+i:e+"/"+i}function vx(e){const i=e.match(/#|\?|$/),t=i&&i.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function Yh(e){return e&&"?"!==e[0]?"?"+e:e}let Ym=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:function(){return Oe(_x)},providedIn:"root"})}return e})();const yx=new Te("appBaseHref");let _x=(()=>{class e extends Ym{constructor(t,o){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??Oe(tn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return uE(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+Yh(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${o}${a}`:o}pushState(t,o,a,d){const p=this.prepareExternalUrl(a+Yh(d));this._platformLocation.pushState(t,o,p)}replaceState(t,o,a,d){const p=this.prepareExternalUrl(a+Yh(d));this._platformLocation.replaceState(t,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(cE),ne(yx,8))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),HL=(()=>{class e extends Ym{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=uE(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,a,d){let p=this.prepareExternalUrl(a+Yh(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(t,o,p)}replaceState(t,o,a,d){let p=this.prepareExternalUrl(a+Yh(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(cE),ne(yx,8))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})(),Vy=(()=>{class e{constructor(t){this._subject=new Xi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const o=this._locationStrategy.getBaseHref();this._basePath=function qL(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(vx(bx(o))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+Yh(o))}normalize(t){return e.stripTrailingSlash(function $L(e,i){if(!e||!i.startsWith(e))return i;const t=i.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:i}(this._basePath,bx(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,o="",a=null){this._locationStrategy.pushState(a,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yh(o)),a)}replaceState(t,o="",a=null){this._locationStrategy.replaceState(a,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yh(o)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(a=>a(t,o))}subscribe(t,o,a){return this._subject.subscribe({next:t,error:o,complete:a})}static#e=this.normalizeQueryParams=Yh;static#t=this.joinWithSlash=uE;static#n=this.stripTrailingSlash=vx;static#r=this.\u0275fac=function(o){return new(o||e)(ne(Ym))};static#i=this.\u0275prov=Re({token:e,factory:function(){return function zL(){return new Vy(ne(Ym))}()},providedIn:"root"})}return e})();function bx(e){return e.replace(/\/index.html$/,"")}const _E=/\s+/,Ax=[];let bE=(()=>{class e{constructor(t,o,a,d){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=a,this._renderer=d,this.initialClasses=Ax,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(_E):Ax}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(_E):t}ngDoCheck(){for(const o of this.initialClasses)this._updateState(o,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const o of t)this._updateState(o,!0);else if(null!=t)for(const o of Object.keys(t))this._updateState(o,!!t[o]);this._applyStateDiff()}_updateState(t,o){const a=this.stateMap.get(t);void 0!==a?(a.enabled!==o&&(a.changed=!0,a.enabled=o),a.touched=!0):this.stateMap.set(t,{enabled:o,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const o=t[0],a=t[1];a.changed?(this._toggleClass(o,a.enabled),a.changed=!1):a.touched||(a.enabled&&this._toggleClass(o,!1),this.stateMap.delete(o)),a.touched=!1}}_toggleClass(t,o){(t=t.trim()).length>0&&t.split(_E).forEach(a=>{o?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}static#e=this.\u0275fac=function(o){return new(o||e)(_e(sb),_e(By),_e(m),_e(D))};static#t=this.\u0275dir=_n({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class k2{constructor(i,t,o,a){this.$implicit=i,this.ngForOf=t,this.index=o,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wE=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,o,a){this._viewContainer=t,this._template=o,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=this._viewContainer;t.forEachOperation((a,d,p)=>{if(null==a.previousIndex)o.createEmbeddedView(this._template,new k2(a.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)o.remove(null===d?void 0:d);else if(null!==d){const g=o.get(d);o.move(g,p),Rx(g,a)}});for(let a=0,d=o.length;a<d;a++){const g=o.get(a).context;g.index=a,g.count=d,g.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{Rx(o.get(a.currentIndex),a)})}static ngTemplateContextGuard(t,o){return!0}static#e=this.\u0275fac=function(o){return new(o||e)(_e(jc),_e(vd),_e(sb))};static#t=this.\u0275dir=_n({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function Rx(e,i){e.context.$implicit=i.item}let zy=(()=>{class e{constructor(t,o){this._viewContainer=t,this._context=new O2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){kx("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){kx("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}static#e=this.\u0275fac=function(o){return new(o||e)(_e(jc),_e(vd))};static#t=this.\u0275dir=_n({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class O2{constructor(){this.$implicit=null,this.ngIf=null}}function kx(e,i){if(i&&!i.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Nn(i)}'.`)}let Px=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({})}return e})();const Fx="browser";function Lx(e){return"server"===e}let cj=(()=>{class e{static#e=this.\u0275prov=Re({token:e,providedIn:"root",factory:()=>new uj(ne(tn),window)})}return e})();class uj{constructor(i,t){this.document=i,this.window=t,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const t=function lj(e,i){const t=e.getElementById(i)||e.getElementsByName(i)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const o=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let a=o.currentNode;for(;a;){const d=a.shadowRoot;if(d){const p=d.getElementById(i)||d.querySelector(`[name="${i}"]`);if(p)return p}a=o.nextNode()}}return null}(this.document,i);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(i){this.supportsScrolling()&&(this.window.history.scrollRestoration=i)}scrollToElement(i){const t=i.getBoundingClientRect(),o=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(o-d[0],a-d[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Nj extends BL{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xE extends Nj{static makeCurrent(){!function jL(e){aE||(aE=e)}(new xE)}onAndCancel(i,t,o){return i.addEventListener(t,o),()=>{i.removeEventListener(t,o)}}dispatchEvent(i,t){i.dispatchEvent(t)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,t){return(t=t||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,t){return"window"===t?window:"document"===t?i:"body"===t?i.body:null}getBaseHref(i){const t=function Pj(){return qy=qy||document.querySelector("base"),qy?qy.getAttribute("href"):null}();return null==t?null:function Fj(e){bb=bb||document.createElement("a"),bb.setAttribute("href",e);const i=bb.pathname;return"/"===i.charAt(0)?i:`/${i}`}(t)}resetBaseElement(){qy=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function M2(e,i){i=encodeURIComponent(i);for(const t of e.split(";")){const o=t.indexOf("="),[a,d]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(a.trim()===i)return decodeURIComponent(d)}return null}(document.cookie,i)}}let bb,qy=null,jj=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();const AE=new Te("EventManagerPlugins");let Hx=(()=>{class e{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(a=>{a.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,o,a){return this._findPluginFor(o).addEventListener(t,o,a)}getZone(){return this._zone}_findPluginFor(t){let o=this._eventNameToPlugin.get(t);if(o)return o;if(o=this._plugins.find(d=>d.supports(t)),!o)throw new ge(5101,!1);return this._eventNameToPlugin.set(t,o),o}static#e=this.\u0275fac=function(o){return new(o||e)(ne(AE),ne(Bt))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();class zx{constructor(i){this._doc=i}}const ME="ng-app-id";let $x=(()=>{class e{constructor(t,o,a,d={}){this.doc=t,this.appId=o,this.nonce=a,this.platformId=d,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Lx(d),this.resetHostNodes()}addStyles(t){for(const o of t)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(t){for(const o of t)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(o=>o.remove()),t.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const o of this.getAllStyles())this.addStyleToHost(t,o)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const o of this.hostNodes)this.addStyleToHost(o,t)}onStyleRemoved(t){const o=this.styleRef;o.get(t)?.elements?.forEach(a=>a.remove()),o.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${ME}="${this.appId}"]`);if(t?.length){const o=new Map;return t.forEach(a=>{null!=a.textContent&&o.set(a.textContent,a)}),o}return null}changeUsageCount(t,o){const a=this.styleRef;if(a.has(t)){const d=a.get(t);return d.usage+=o,d.usage}return a.set(t,{usage:o,elements:[]}),o}getStyleElement(t,o){const a=this.styleNodesInDOM,d=a?.get(o);if(d?.parentNode===t)return a.delete(o),d.removeAttribute(ME),d;{const p=this.doc.createElement("style");return this.nonce&&p.setAttribute("nonce",this.nonce),p.textContent=o,this.platformIsServer&&p.setAttribute(ME,this.appId),p}}addStyleToHost(t,o){const a=this.getStyleElement(t,o);t.appendChild(a);const d=this.styleRef,p=d.get(o)?.elements;p?p.push(a):d.set(o,{elements:[a],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(tn),ne(zu),ne(cd,8),ne(kc))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();const RE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kE=/%COMP%/g,Hj=new Te("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Gx(e,i){return i.map(t=>t.replace(kE,e))}let OE=(()=>{class e{constructor(t,o,a,d,p,g,_,E=null){this.eventManager=t,this.sharedStylesHost=o,this.appId=a,this.removeStylesOnCompDestroy=d,this.doc=p,this.platformId=g,this.ngZone=_,this.nonce=E,this.rendererByCompId=new Map,this.platformIsServer=Lx(g),this.defaultRenderer=new NE(t,p,_,this.platformIsServer)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===$i.ShadowDom&&(o={...o,encapsulation:$i.Emulated});const a=this.getOrCreateRenderer(t,o);return a instanceof Kx?a.applyToHost(t):a instanceof PE&&a.applyStyles(),a}getOrCreateRenderer(t,o){const a=this.rendererByCompId;let d=a.get(o.id);if(!d){const p=this.doc,g=this.ngZone,_=this.eventManager,E=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,R=this.platformIsServer;switch(o.encapsulation){case $i.Emulated:d=new Kx(_,E,o,this.appId,I,p,g,R);break;case $i.ShadowDom:return new Gj(_,E,t,o,p,g,this.nonce,R);default:d=new PE(_,E,o,I,p,g,R)}a.set(o.id,d)}return d}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Hx),ne($x),ne(zu),ne(Hj),ne(tn),ne(kc),ne(Bt),ne(cd))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();class NE{constructor(i,t,o,a){this.eventManager=i,this.doc=t,this.ngZone=o,this.platformIsServer=a,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,t){return t?this.doc.createElementNS(RE[t]||t,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,t){(Wx(i)?i.content:i).appendChild(t)}insertBefore(i,t,o){i&&(Wx(i)?i.content:i).insertBefore(t,o)}removeChild(i,t){i&&i.removeChild(t)}selectRootElement(i,t){let o="string"==typeof i?this.doc.querySelector(i):i;if(!o)throw new ge(-5104,!1);return t||(o.textContent=""),o}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,t,o,a){if(a){t=a+":"+t;const d=RE[a];d?i.setAttributeNS(d,t,o):i.setAttribute(t,o)}else i.setAttribute(t,o)}removeAttribute(i,t,o){if(o){const a=RE[o];a?i.removeAttributeNS(a,t):i.removeAttribute(`${o}:${t}`)}else i.removeAttribute(t)}addClass(i,t){i.classList.add(t)}removeClass(i,t){i.classList.remove(t)}setStyle(i,t,o,a){a&(Zs.DashCase|Zs.Important)?i.style.setProperty(t,o,a&Zs.Important?"important":""):i.style[t]=o}removeStyle(i,t,o){o&Zs.DashCase?i.style.removeProperty(t):i.style[t]=""}setProperty(i,t,o){i[t]=o}setValue(i,t){i.nodeValue=t}listen(i,t,o){if("string"==typeof i&&!(i=wv().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${t}`);return this.eventManager.addEventListener(i,t,this.decoratePreventDefault(o))}decoratePreventDefault(i){return t=>{if("__ngUnwrap__"===t)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(t)):i(t))&&t.preventDefault()}}}function Wx(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class Gj extends NE{constructor(i,t,o,a,d,p,g,_){super(i,d,p,_),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const E=Gx(a.id,a.styles);for(const I of E){const R=document.createElement("style");g&&R.setAttribute("nonce",g),R.textContent=I,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,t){return super.appendChild(this.nodeOrShadowRoot(i),t)}insertBefore(i,t,o){return super.insertBefore(this.nodeOrShadowRoot(i),t,o)}removeChild(i,t){return super.removeChild(this.nodeOrShadowRoot(i),t)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class PE extends NE{constructor(i,t,o,a,d,p,g,_){super(i,d,p,g),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=a,this.styles=_?Gx(_,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Kx extends PE{constructor(i,t,o,a,d,p,g,_){const E=a+"-"+o.id;super(i,t,o,d,p,g,_,E),this.contentAttr=function zj(e){return"_ngcontent-%COMP%".replace(kE,e)}(E),this.hostAttr=function $j(e){return"_nghost-%COMP%".replace(kE,e)}(E)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,t){const o=super.createElement(i,t);return super.setAttribute(o,this.contentAttr,""),o}}let Wj=(()=>{class e extends zx{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,a){return t.addEventListener(o,a,!1),()=>this.removeEventListener(t,o,a)}removeEventListener(t,o,a){return t.removeEventListener(o,a)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(tn))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();const Yx=["alt","control","meta","shift"],Kj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yj={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Zj=(()=>{class e extends zx{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,o,a){const d=e.parseEventName(o),p=e.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wv().onAndCancel(t,d.domEventName,p))}static parseEventName(t){const o=t.toLowerCase().split("."),a=o.shift();if(0===o.length||"keydown"!==a&&"keyup"!==a)return null;const d=e._normalizeKey(o.pop());let p="",g=o.indexOf("code");if(g>-1&&(o.splice(g,1),p="code."),Yx.forEach(E=>{const I=o.indexOf(E);I>-1&&(o.splice(I,1),p+=E+".")}),p+=d,0!=o.length||0===d.length)return null;const _={};return _.domEventName=a,_.fullKey=p,_}static matchEventFullKeyCode(t,o){let a=Kj[t.key]||t.key,d="";return o.indexOf("code.")>-1&&(a=t.code,d="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Yx.forEach(p=>{p!==a&&(0,Yj[p])(t)&&(d+=p+".")}),d+=a,d===o)}static eventCallback(t,o,a){return d=>{e.matchEventFullKeyCode(d,t)&&a.runGuarded(()=>o(d))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(o){return new(o||e)(ne(tn))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();const eB=qT(CL,"browser",[{provide:kc,useValue:Fx},{provide:Bh,useValue:function Xj(){xE.makeCurrent()},multi:!0},{provide:tn,useFactory:function Jj(){return function Im(e){Vu=e}(document),document},deps:[]}]),tB=new Te(""),Qx=[{provide:tb,useClass:class Lj{addToWindow(i){ut.getAngularTestability=(o,a=!0)=>{const d=i.findTestabilityInTree(o,a);if(null==d)throw new ge(5103,!1);return d},ut.getAllAngularTestabilities=()=>i.getAllTestabilities(),ut.getAllAngularRootElements=()=>i.getAllRootElements(),ut.frameworkStabilizers||(ut.frameworkStabilizers=[]),ut.frameworkStabilizers.push(o=>{const a=ut.getAllAngularTestabilities();let d=a.length,p=!1;const g=function(_){p=p||_,d--,0==d&&o(p)};a.forEach(_=>{_.whenStable(g)})})}findTestabilityInTree(i,t,o){return null==t?null:i.getTestability(t)??(o?wv().isShadowRoot(t)?this.findTestabilityInTree(i,t.host,!0):this.findTestabilityInTree(i,t.parentElement,!0):null)}},deps:[]},{provide:VT,useClass:Yw,deps:[Bt,Zw,tb]},{provide:Yw,useClass:Yw,deps:[Bt,Zw,tb]}],Jx=[{provide:od,useValue:"root"},{provide:Pc,useFactory:function Qj(){return new Pc},deps:[]},{provide:AE,useClass:Wj,multi:!0,deps:[tn,Bt,kc]},{provide:AE,useClass:Zj,multi:!0,deps:[tn]},OE,$x,Hx,{provide:b,useExisting:OE},{provide:class dj{},useClass:jj,deps:[]},[]];let eA=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:zu,useValue:t.appId}]}}static#e=this.\u0275fac=function(o){return new(o||e)(ne(tB,12))};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({providers:[...Jx,...Qx],imports:[Px,IL]})}return e})(),tA=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(o){return new(o||e)(ne(tn))};static#t=this.\u0275prov=Re({token:e,factory:function(o){let a=null;return a=o?new o:function rB(){return new tA(ne(tn))}(),a},providedIn:"root"})}return e})();typeof window<"u"&&window;let LE=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:function(o){let a=null;return a=o?new(o||e):ne(iA),a},providedIn:"root"})}return e})(),iA=(()=>{class e extends LE{constructor(t){super(),this._doc=t}sanitize(t,o){if(null==o)return null;switch(t){case hi.NONE:return o;case hi.HTML:return Zi(o,"HTML")?di(o):Pm(this._doc,String(o)).toString();case hi.STYLE:return Zi(o,"Style")?di(o):o;case hi.SCRIPT:if(Zi(o,"Script"))return di(o);throw new ge(5200,!1);case hi.URL:return Zi(o,"URL")?di(o):Tc(String(o));case hi.RESOURCE_URL:if(Zi(o,"ResourceURL"))return di(o);throw new ge(5201,!1);default:throw new ge(5202,!1)}}bypassSecurityTrustHtml(t){return function po(e){return new Sh(e)}(t)}bypassSecurityTrustStyle(t){return function Mm(e){return new Th(e)}(t)}bypassSecurityTrustScript(t){return function td(e){return new xm(e)}(t)}bypassSecurityTrustUrl(t){return function sp(e){return new Am(e)}(t)}bypassSecurityTrustResourceUrl(t){return function nd(e){return new Zg(e)}(t)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(tn))};static#t=this.\u0275prov=Re({token:e,factory:function(o){let a=null;return a=o?new o:function aB(e){return new iA(e.get(tn))}(ne(Xr)),a},providedIn:"root"})}return e})();const{isArray:uB}=Array,{getPrototypeOf:lB,prototype:dB,keys:hB}=Object;function sA(e){if(1===e.length){const i=e[0];if(uB(i))return{args:i,keys:null};if(function fB(e){return e&&"object"==typeof e&&lB(e)===dB}(i)){const t=hB(i);return{args:t.map(o=>i[o]),keys:t}}}return{args:e,keys:null}}const{isArray:pB}=Array;function jE(e){return Ye(i=>function mB(e,i){return pB(i)?e(...i):e(i)}(e,i))}function aA(e,i){return e.reduce((t,o,a)=>(t[o]=i[a],t),{})}function wb(...e){const i=q(e),t=G(e),{args:o,keys:a}=sA(e);if(0===o.length)return vt([],i);const d=new ft(function gB(e,i,t=Mr){return o=>{cA(i,()=>{const{length:a}=e,d=new Array(a);let p=a,g=a;for(let _=0;_<a;_++)cA(i,()=>{const E=vt(e[_],i);let I=!1;E.subscribe(Ie(o,R=>{d[_]=R,I||(I=!0,g--),g||o.next(t(d.slice()))},()=>{--p||o.complete()}))},o)},o)}}(o,i,a?p=>aA(a,p):Mr));return t?d.pipe(jE(t)):d}function cA(e,i,t){e?xi(t,e,i):i()}const Eb=S(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Db(...e){return function vB(){return Hi(1)}()(vt(e,q(e)))}function Cb(e){return new ft(i=>{an(e()).subscribe(i)})}function Dv(e,i){const t=be(e)?e:()=>e,o=a=>a.error(t());return new ft(i?a=>i.schedule(o,0,a):o)}function BE(){return me((e,i)=>{let t=null;e._refCount++;const o=Ie(i,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const a=e._connection,d=t;t=null,a&&(!d||a===d)&&a.unsubscribe(),i.unsubscribe()});e.subscribe(o),o.closed||(t=e.connect())})}class uA extends ft{constructor(i,t){super(),this.source=i,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ye(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new kt;const t=this.getSubject();i.add(this.source.subscribe(Ie(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),i.closed&&(this._connection=null,i=kt.EMPTY)}return i}refCount(){return BE()(this)}}function es(e){return e<=0?()=>cr:me((i,t)=>{let o=0;i.subscribe(Ie(t,a=>{++o<=e&&(t.next(a),e<=o&&t.complete())}))})}function Ib(...e){const i=q(e);return me((t,o)=>{(i?Db(e,t,i):Db(e,t)).subscribe(o)})}function Li(e,i){return me((t,o)=>{let a=0;t.subscribe(Ie(o,d=>e.call(i,d,a++)&&o.next(d)))})}function Sb(e){return me((i,t)=>{let o=!1;i.subscribe(Ie(t,a=>{o=!0,t.next(a)},()=>{o||t.next(e),t.complete()}))})}function lA(e=yB){return me((i,t)=>{let o=!1;i.subscribe(Ie(t,a=>{o=!0,t.next(a)},()=>o?t.complete():t.error(e())))})}function yB(){return new Eb}function Zm(e,i){const t=arguments.length>=2;return o=>o.pipe(e?Li((a,d)=>e(a,d,o)):Mr,es(1),t?Sb(i):lA(()=>new Eb))}function Cv(e,i){return be(i)?Ct(e,i,1):Ct(e,1)}function eo(e,i,t){const o=be(e)||i||t?{next:e,error:i,complete:t}:e;return o?me((a,d)=>{var p;null===(p=o.subscribe)||void 0===p||p.call(o);let g=!0;a.subscribe(Ie(d,_=>{var E;null===(E=o.next)||void 0===E||E.call(o,_),d.next(_)},()=>{var _;g=!1,null===(_=o.complete)||void 0===_||_.call(o),d.complete()},_=>{var E;g=!1,null===(E=o.error)||void 0===E||E.call(o,_),d.error(_)},()=>{var _,E;g&&(null===(_=o.unsubscribe)||void 0===_||_.call(o)),null===(E=o.finalize)||void 0===E||E.call(o)}))}):Mr}function wp(e){return me((i,t)=>{let d,o=null,a=!1;o=i.subscribe(Ie(t,void 0,void 0,p=>{d=an(e(p,wp(e)(i))),o?(o.unsubscribe(),o=null,d.subscribe(t)):a=!0})),a&&(o.unsubscribe(),o=null,d.subscribe(t))})}function VE(e){return e<=0?()=>cr:me((i,t)=>{let o=[];i.subscribe(Ie(t,a=>{o.push(a),e<o.length&&o.shift()},()=>{for(const a of o)t.next(a);t.complete()},void 0,()=>{o=null}))})}function Tb(e){return me((i,t)=>{try{i.subscribe(t)}finally{t.add(e)}})}function xb(e){return me((i,t)=>{an(e).subscribe(Ie(t,()=>t.complete(),ke)),!t.closed&&i.subscribe(t)})}const Yt="primary",Gy=Symbol("RouteTitle");class DB{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t[0]:t}return null}getAll(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Iv(e){return new DB(e)}function CB(e,i,t){const o=t.path.split("/");if(o.length>e.length||"full"===t.pathMatch&&(i.hasChildren()||o.length<e.length))return null;const a={};for(let d=0;d<o.length;d++){const p=o[d],g=e[d];if(p.startsWith(":"))a[p.substring(1)]=g;else if(p!==g.path)return null}return{consumed:e.slice(0,o.length),posParams:a}}function _d(e,i){const t=e?Object.keys(e):void 0,o=i?Object.keys(i):void 0;if(!t||!o||t.length!=o.length)return!1;let a;for(let d=0;d<t.length;d++)if(a=t[d],!dA(e[a],i[a]))return!1;return!0}function dA(e,i){if(Array.isArray(e)&&Array.isArray(i)){if(e.length!==i.length)return!1;const t=[...e].sort(),o=[...i].sort();return t.every((a,d)=>o[d]===a)}return e===i}function hA(e){return e.length>0?e[e.length-1]:null}function Ep(e){return function cB(e){return!!e&&(e instanceof ft||be(e.lift)&&be(e.subscribe))}(e)?e:$_(e)?vt(Promise.resolve(e)):Je(e)}const SB={exact:function mA(e,i,t){if(!Xm(e.segments,i.segments)||!Ab(e.segments,i.segments,t)||e.numberOfChildren!==i.numberOfChildren)return!1;for(const o in i.children)if(!e.children[o]||!mA(e.children[o],i.children[o],t))return!1;return!0},subset:gA},fA={exact:function TB(e,i){return _d(e,i)},subset:function xB(e,i){return Object.keys(i).length<=Object.keys(e).length&&Object.keys(i).every(t=>dA(e[t],i[t]))},ignored:()=>!0};function pA(e,i,t){return SB[t.paths](e.root,i.root,t.matrixParams)&&fA[t.queryParams](e.queryParams,i.queryParams)&&!("exact"===t.fragment&&e.fragment!==i.fragment)}function gA(e,i,t){return vA(e,i,i.segments,t)}function vA(e,i,t,o){if(e.segments.length>t.length){const a=e.segments.slice(0,t.length);return!(!Xm(a,t)||i.hasChildren()||!Ab(a,t,o))}if(e.segments.length===t.length){if(!Xm(e.segments,t)||!Ab(e.segments,t,o))return!1;for(const a in i.children)if(!e.children[a]||!gA(e.children[a],i.children[a],o))return!1;return!0}{const a=t.slice(0,e.segments.length),d=t.slice(e.segments.length);return!!(Xm(e.segments,a)&&Ab(e.segments,a,o)&&e.children[Yt])&&vA(e.children[Yt],i,d,o)}}function Ab(e,i,t){return i.every((o,a)=>fA[t](e[a].parameters,o.parameters))}class Sv{constructor(i=new Xn([],{}),t={},o=null){this.root=i,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iv(this.queryParams)),this._queryParamMap}toString(){return RB.serialize(this)}}class Xn{constructor(i,t){this.segments=i,this.children=t,this.parent=null,Object.values(t).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mb(this)}}class Wy{constructor(i,t){this.path=i,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Iv(this.parameters)),this._parameterMap}toString(){return bA(this)}}function Xm(e,i){return e.length===i.length&&e.every((t,o)=>t.path===i[o].path)}let Ky=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:function(){return new UE},providedIn:"root"})}return e})();class UE{parse(i){const t=new HB(i);return new Sv(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(i){const t=`/${Yy(i.root,!0)}`,o=function NB(e){const i=Object.keys(e).map(t=>{const o=e[t];return Array.isArray(o)?o.map(a=>`${Rb(t)}=${Rb(a)}`).join("&"):`${Rb(t)}=${Rb(o)}`}).filter(t=>!!t);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${t}${o}${"string"==typeof i.fragment?`#${function kB(e){return encodeURI(e)}(i.fragment)}`:""}`}}const RB=new UE;function Mb(e){return e.segments.map(i=>bA(i)).join("/")}function Yy(e,i){if(!e.hasChildren())return Mb(e);if(i){const t=e.children[Yt]?Yy(e.children[Yt],!1):"",o=[];return Object.entries(e.children).forEach(([a,d])=>{a!==Yt&&o.push(`${a}:${Yy(d,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function MB(e,i){let t=[];return Object.entries(e.children).forEach(([o,a])=>{o===Yt&&(t=t.concat(i(a,o)))}),Object.entries(e.children).forEach(([o,a])=>{o!==Yt&&(t=t.concat(i(a,o)))}),t}(e,(o,a)=>a===Yt?[Yy(e.children[Yt],!1)]:[`${a}:${Yy(o,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Yt]?`${Mb(e)}/${t[0]}`:`${Mb(e)}/(${t.join("//")})`}}function yA(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rb(e){return yA(e).replace(/%3B/gi,";")}function HE(e){return yA(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kb(e){return decodeURIComponent(e)}function _A(e){return kb(e.replace(/\+/g,"%20"))}function bA(e){return`${HE(e.path)}${function OB(e){return Object.keys(e).map(i=>`;${HE(i)}=${HE(e[i])}`).join("")}(e.parameters)}`}const PB=/^[^\/()?;#]+/;function zE(e){const i=e.match(PB);return i?i[0]:""}const FB=/^[^\/()?;=#]+/,jB=/^[^=?&#]+/,VB=/^[^&#]+/;class HB{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xn([],{}):new Xn([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(i.length>0||Object.keys(t).length>0)&&(o[Yt]=new Xn(i,t)),o}parseSegment(){const i=zE(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new ge(4009,!1);return this.capture(i),new Wy(kb(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const t=function LB(e){const i=e.match(FB);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const a=zE(this.remaining);a&&(o=a,this.capture(o))}i[kb(t)]=kb(o)}parseQueryParam(i){const t=function BB(e){const i=e.match(jB);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const p=function UB(e){const i=e.match(VB);return i?i[0]:""}(this.remaining);p&&(o=p,this.capture(o))}const a=_A(t),d=_A(o);if(i.hasOwnProperty(a)){let p=i[a];Array.isArray(p)||(p=[p],i[a]=p),p.push(d)}else i[a]=d}parseParens(i){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=zE(this.remaining),a=this.remaining[o.length];if("/"!==a&&")"!==a&&";"!==a)throw new ge(4010,!1);let d;o.indexOf(":")>-1?(d=o.slice(0,o.indexOf(":")),this.capture(d),this.capture(":")):i&&(d=Yt);const p=this.parseChildren();t[d]=1===Object.keys(p).length?p[Yt]:new Xn([],p),this.consumeOptional("//")}return t}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new ge(4011,!1)}}function wA(e){return e.segments.length>0?new Xn([],{[Yt]:e}):e}function EA(e){const i={};for(const o of Object.keys(e.children)){const d=EA(e.children[o]);if(o===Yt&&0===d.segments.length&&d.hasChildren())for(const[p,g]of Object.entries(d.children))i[p]=g;else(d.segments.length>0||d.hasChildren())&&(i[o]=d)}return function zB(e){if(1===e.numberOfChildren&&e.children[Yt]){const i=e.children[Yt];return new Xn(e.segments.concat(i.segments),i.children)}return e}(new Xn(e.segments,i))}function Qm(e){return e instanceof Sv}function DA(e){let i;const a=wA(function t(d){const p={};for(const _ of d.children){const E=t(_);p[_.outlet]=E}const g=new Xn(d.url,p);return d===e&&(i=g),g}(e.root));return i??a}function CA(e,i,t,o){let a=e;for(;a.parent;)a=a.parent;if(0===i.length)return $E(a,a,a,t,o);const d=function qB(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new SA(!0,0,e);let i=0,t=!1;const o=e.reduce((a,d,p)=>{if("object"==typeof d&&null!=d){if(d.outlets){const g={};return Object.entries(d.outlets).forEach(([_,E])=>{g[_]="string"==typeof E?E.split("/"):E}),[...a,{outlets:g}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===p?(d.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?i++:""!=g&&a.push(g))}),a):[...a,d]},[]);return new SA(t,i,o)}(i);if(d.toRoot())return $E(a,a,new Xn([],{}),t,o);const p=function GB(e,i,t){if(e.isAbsolute)return new Nb(i,!0,0);if(!t)return new Nb(i,!1,NaN);if(null===t.parent)return new Nb(t,!0,0);const o=Ob(e.commands[0])?0:1;return function WB(e,i,t){let o=e,a=i,d=t;for(;d>a;){if(d-=a,o=o.parent,!o)throw new ge(4005,!1);a=o.segments.length}return new Nb(o,!1,a-d)}(t,t.segments.length-1+o,e.numberOfDoubleDots)}(d,a,e),g=p.processChildren?Xy(p.segmentGroup,p.index,d.commands):TA(p.segmentGroup,p.index,d.commands);return $E(a,p.segmentGroup,g,t,o)}function Ob(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Zy(e){return"object"==typeof e&&null!=e&&e.outlets}function $E(e,i,t,o,a){let p,d={};o&&Object.entries(o).forEach(([_,E])=>{d[_]=Array.isArray(E)?E.map(I=>`${I}`):`${E}`}),p=e===i?t:IA(e,i,t);const g=wA(EA(p));return new Sv(g,d,a)}function IA(e,i,t){const o={};return Object.entries(e.children).forEach(([a,d])=>{o[a]=d===i?t:IA(d,i,t)}),new Xn(e.segments,o)}class SA{constructor(i,t,o){if(this.isAbsolute=i,this.numberOfDoubleDots=t,this.commands=o,i&&o.length>0&&Ob(o[0]))throw new ge(4003,!1);const a=o.find(Zy);if(a&&a!==hA(o))throw new ge(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nb{constructor(i,t,o){this.segmentGroup=i,this.processChildren=t,this.index=o}}function TA(e,i,t){if(e||(e=new Xn([],{})),0===e.segments.length&&e.hasChildren())return Xy(e,i,t);const o=function YB(e,i,t){let o=0,a=i;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<e.segments.length;){if(o>=t.length)return d;const p=e.segments[a],g=t[o];if(Zy(g))break;const _=`${g}`,E=o<t.length-1?t[o+1]:null;if(a>0&&void 0===_)break;if(_&&E&&"object"==typeof E&&void 0===E.outlets){if(!AA(_,E,p))return d;o+=2}else{if(!AA(_,{},p))return d;o++}a++}return{match:!0,pathIndex:a,commandIndex:o}}(e,i,t),a=t.slice(o.commandIndex);if(o.match&&o.pathIndex<e.segments.length){const d=new Xn(e.segments.slice(0,o.pathIndex),{});return d.children[Yt]=new Xn(e.segments.slice(o.pathIndex),e.children),Xy(d,0,a)}return o.match&&0===a.length?new Xn(e.segments,{}):o.match&&!e.hasChildren()?qE(e,i,t):o.match?Xy(e,0,a):qE(e,i,t)}function Xy(e,i,t){if(0===t.length)return new Xn(e.segments,{});{const o=function KB(e){return Zy(e[0])?e[0].outlets:{[Yt]:e}}(t),a={};if(Object.keys(o).some(d=>d!==Yt)&&e.children[Yt]&&1===e.numberOfChildren&&0===e.children[Yt].segments.length){const d=Xy(e.children[Yt],i,t);return new Xn(e.segments,d.children)}return Object.entries(o).forEach(([d,p])=>{"string"==typeof p&&(p=[p]),null!==p&&(a[d]=TA(e.children[d],i,p))}),Object.entries(e.children).forEach(([d,p])=>{void 0===o[d]&&(a[d]=p)}),new Xn(e.segments,a)}}function qE(e,i,t){const o=e.segments.slice(0,i);let a=0;for(;a<t.length;){const d=t[a];if(Zy(d)){const _=ZB(d.outlets);return new Xn(o,_)}if(0===a&&Ob(t[0])){o.push(new Wy(e.segments[i].path,xA(t[0]))),a++;continue}const p=Zy(d)?d.outlets[Yt]:`${d}`,g=a<t.length-1?t[a+1]:null;p&&g&&Ob(g)?(o.push(new Wy(p,xA(g))),a+=2):(o.push(new Wy(p,{})),a++)}return new Xn(o,{})}function ZB(e){const i={};return Object.entries(e).forEach(([t,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[t]=qE(new Xn([],{}),0,o))}),i}function xA(e){const i={};return Object.entries(e).forEach(([t,o])=>i[t]=`${o}`),i}function AA(e,i,t){return e==t.path&&_d(i,t.parameters)}const Qy="imperative";class bd{constructor(i,t){this.id=i,this.url=t}}class Pb extends bd{constructor(i,t,o="imperative",a=null){super(i,t),this.type=0,this.navigationTrigger=o,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dp extends bd{constructor(i,t,o){super(i,t),this.urlAfterRedirects=o,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jy extends bd{constructor(i,t,o,a){super(i,t),this.reason=o,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tv extends bd{constructor(i,t,o,a){super(i,t),this.reason=o,this.code=a,this.type=16}}class Fb extends bd{constructor(i,t,o,a){super(i,t),this.error=o,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class MA extends bd{constructor(i,t,o,a){super(i,t),this.urlAfterRedirects=o,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XB extends bd{constructor(i,t,o,a){super(i,t),this.urlAfterRedirects=o,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QB extends bd{constructor(i,t,o,a,d){super(i,t),this.urlAfterRedirects=o,this.state=a,this.shouldActivate=d,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class JB extends bd{constructor(i,t,o,a){super(i,t),this.urlAfterRedirects=o,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eV extends bd{constructor(i,t,o,a){super(i,t),this.urlAfterRedirects=o,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tV{constructor(i){this.route=i,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nV{constructor(i){this.route=i,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rV{constructor(i){this.snapshot=i,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iV{constructor(i){this.snapshot=i,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oV{constructor(i){this.snapshot=i,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sV{constructor(i){this.snapshot=i,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RA{constructor(i,t,o){this.routerEvent=i,this.position=t,this.anchor=o,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class GE{}class WE{constructor(i){this.url=i}}class aV{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new e_,this.attachRef=null}}let e_=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,o){const a=this.getOrCreateContext(t);a.outlet=o,this.contexts.set(t,a)}onChildOutletDestroyed(t){const o=this.getContext(t);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let o=this.getContext(t);return o||(o=new aV,this.contexts.set(t,o)),o}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class kA{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const t=this.pathFromRoot(i);return t.length>1?t[t.length-2]:null}children(i){const t=KE(i,this._root);return t?t.children.map(o=>o.value):[]}firstChild(i){const t=KE(i,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(i){const t=YE(i,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==i)}pathFromRoot(i){return YE(i,this._root).map(t=>t.value)}}function KE(e,i){if(e===i.value)return i;for(const t of i.children){const o=KE(e,t);if(o)return o}return null}function YE(e,i){if(e===i.value)return[i];for(const t of i.children){const o=YE(e,t);if(o.length)return o.unshift(i),o}return[]}class Qh{constructor(i,t){this.value=i,this.children=t}toString(){return`TreeNode(${this.value})`}}function xv(e){const i={};return e&&e.children.forEach(t=>i[t.value.outlet]=t),i}class OA extends kA{constructor(i,t){super(i),this.snapshot=t,ZE(this,i)}toString(){return this.snapshot.toString()}}function NA(e,i){const t=function cV(e,i){const p=new Lb([],{},{},"",{},Yt,i,null,{});return new FA("",new Qh(p,[]))}(0,i),o=new Or([new Wy("",{})]),a=new Or({}),d=new Or({}),p=new Or({}),g=new Or(""),_=new Av(o,a,p,g,d,Yt,i,t.root);return _.snapshot=t.root,new OA(new Qh(_,[]),t)}class Av{constructor(i,t,o,a,d,p,g,_){this.urlSubject=i,this.paramsSubject=t,this.queryParamsSubject=o,this.fragmentSubject=a,this.dataSubject=d,this.outlet=p,this.component=g,this._futureSnapshot=_,this.title=this.dataSubject?.pipe(Ye(E=>E[Gy]))??Je(void 0),this.url=i,this.params=t,this.queryParams=o,this.fragment=a,this.data=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ye(i=>Iv(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ye(i=>Iv(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function PA(e,i="emptyOnly"){const t=e.pathFromRoot;let o=0;if("always"!==i)for(o=t.length-1;o>=1;){const a=t[o],d=t[o-1];if(a.routeConfig&&""===a.routeConfig.path)o--;else{if(d.component)break;o--}}return function uV(e){return e.reduce((i,t)=>({params:{...i.params,...t.params},data:{...i.data,...t.data},resolve:{...t.data,...i.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(o))}class Lb{get title(){return this.data?.[Gy]}constructor(i,t,o,a,d,p,g,_,E){this.url=i,this.params=t,this.queryParams=o,this.fragment=a,this.data=d,this.outlet=p,this.component=g,this.routeConfig=_,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Iv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class FA extends kA{constructor(i,t){super(t),this.url=i,ZE(this,t)}toString(){return LA(this._root)}}function ZE(e,i){i.value._routerState=e,i.children.forEach(t=>ZE(e,t))}function LA(e){const i=e.children.length>0?` { ${e.children.map(LA).join(", ")} } `:"";return`${e.value}${i}`}function XE(e){if(e.snapshot){const i=e.snapshot,t=e._futureSnapshot;e.snapshot=t,_d(i.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),i.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),_d(i.params,t.params)||e.paramsSubject.next(t.params),function IB(e,i){if(e.length!==i.length)return!1;for(let t=0;t<e.length;++t)if(!_d(e[t],i[t]))return!1;return!0}(i.url,t.url)||e.urlSubject.next(t.url),_d(i.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function QE(e,i){const t=_d(e.params,i.params)&&function AB(e,i){return Xm(e,i)&&e.every((t,o)=>_d(t.parameters,i[o].parameters))}(e.url,i.url);return t&&!(!e.parent!=!i.parent)&&(!e.parent||QE(e.parent,i.parent))}let JE=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Yt,this.activateEvents=new Xi,this.deactivateEvents=new Xi,this.attachEvents=new Xi,this.detachEvents=new Xi,this.parentContexts=Oe(e_),this.location=Oe(jc),this.changeDetector=Oe(rb),this.environmentInjector=Oe(hr),this.inputBinder=Oe(jb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:o,previousValue:a}=t.name;if(o)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ge(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ge(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ge(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new ge(4013,!1);this._activatedRoute=t;const a=this.location,p=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new lV(t,g,a.injector);this.activated=a.createComponent(p,{index:a.length,injector:_,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=_n({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[uo]})}return e})();class lV{constructor(i,t,o){this.route=i,this.childContexts=t,this.parent=o}get(i,t){return i===Av?this.route:i===e_?this.childContexts:this.parent.get(i,t)}}const jb=new Te("");let jA=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:o}=t,a=wb([o.queryParams,o.params,o.data]).pipe(un(([d,p,g],_)=>(g={...d,...p,...g},0===_?Je(g):Promise.resolve(g)))).subscribe(d=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(t);const p=function LL(e){const i=Wt(e);if(!i)return null;const t=new Dy(i);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}(o.component);if(p)for(const{templateName:g}of p.inputs)t.activatedComponentRef.setInput(g,d[g]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,a)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();function t_(e,i,t){if(t&&e.shouldReuseRoute(i.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=i.value;const a=function hV(e,i,t){return i.children.map(o=>{for(const a of t.children)if(e.shouldReuseRoute(o.value,a.value.snapshot))return t_(e,o,a);return t_(e,o)})}(e,i,t);return new Qh(o,a)}{if(e.shouldAttach(i.value)){const d=e.retrieve(i.value);if(null!==d){const p=d.route;return p.value._futureSnapshot=i.value,p.children=i.children.map(g=>t_(e,g)),p}}const o=function fV(e){return new Av(new Or(e.url),new Or(e.params),new Or(e.queryParams),new Or(e.fragment),new Or(e.data),e.outlet,e.component,e)}(i.value),a=i.children.map(d=>t_(e,d));return new Qh(o,a)}}const eD="ngNavigationCancelingError";function BA(e,i){const{redirectTo:t,navigationBehaviorOptions:o}=Qm(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,a=VA(!1,0,i);return a.url=t,a.navigationBehaviorOptions=o,a}function VA(e,i,t){const o=new Error("NavigationCancelingError: "+(e||""));return o[eD]=!0,o.cancellationCode=i,t&&(o.url=t),o}function UA(e){return e&&e[eD]}let HA=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=Fn({type:e,selectors:[["ng-component"]],standalone:!0,features:[zS],decls:1,vars:0,template:function(o,a){1&o&&yo(0,"router-outlet")},dependencies:[JE],encapsulation:2})}return e})();function tD(e){const i=e.children&&e.children.map(tD),t=i?{...e,children:i}:{...e};return!t.component&&!t.loadComponent&&(i||t.loadChildren)&&t.outlet&&t.outlet!==Yt&&(t.component=HA),t}function Zu(e){return e.outlet||Yt}function n_(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let i=e.parent;i;i=i.parent){const t=i.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class wV{constructor(i,t,o,a,d){this.routeReuseStrategy=i,this.futureState=t,this.currState=o,this.forwardEvent=a,this.inputBindingEnabled=d}activate(i){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,i),XE(this.futureState.root),this.activateChildRoutes(t,o,i)}deactivateChildRoutes(i,t,o){const a=xv(t);i.children.forEach(d=>{const p=d.value.outlet;this.deactivateRoutes(d,a[p],o),delete a[p]}),Object.values(a).forEach(d=>{this.deactivateRouteAndItsChildren(d,o)})}deactivateRoutes(i,t,o){const a=i.value,d=t?t.value:null;if(a===d)if(a.component){const p=o.getContext(a.outlet);p&&this.deactivateChildRoutes(i,t,p.children)}else this.deactivateChildRoutes(i,t,o);else d&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(i,t){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,t):this.deactivateRouteAndOutlet(i,t)}detachAndStoreRouteSubtree(i,t){const o=t.getContext(i.value.outlet),a=o&&i.value.component?o.children:t,d=xv(i);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],a);if(o&&o.outlet){const p=o.outlet.detach(),g=o.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:p,route:i,contexts:g})}}deactivateRouteAndOutlet(i,t){const o=t.getContext(i.value.outlet),a=o&&i.value.component?o.children:t,d=xv(i);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],a);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(i,t,o){const a=xv(t);i.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],o),this.forwardEvent(new sV(d.value.snapshot))}),i.children.length&&this.forwardEvent(new iV(i.value.snapshot))}activateRoutes(i,t,o){const a=i.value,d=t?t.value:null;if(XE(a),a===d)if(a.component){const p=o.getOrCreateContext(a.outlet);this.activateChildRoutes(i,t,p.children)}else this.activateChildRoutes(i,t,o);else if(a.component){const p=o.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const g=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(g.contexts),p.attachRef=g.componentRef,p.route=g.route.value,p.outlet&&p.outlet.attach(g.componentRef,g.route.value),XE(g.route.value),this.activateChildRoutes(i,null,p.children)}else{const g=n_(a.snapshot);p.attachRef=null,p.route=a,p.injector=g,p.outlet&&p.outlet.activateWith(a,p.injector),this.activateChildRoutes(i,null,p.children)}}else this.activateChildRoutes(i,null,o)}}class zA{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Bb{constructor(i,t){this.component=i,this.route=t}}function EV(e,i,t){const o=e._root;return r_(o,i?i._root:null,t,[o.value])}function Mv(e,i){const t=Symbol(),o=i.get(e,t);return o===t?"function"!=typeof e||function rl(e){return null!==Zc(e)}(e)?i.get(e):e:o}function r_(e,i,t,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=xv(i);return e.children.forEach(p=>{(function CV(e,i,t,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=e.value,p=i?i.value:null,g=t?t.getContext(e.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){const _=function IV(e,i,t){if("function"==typeof t)return t(e,i);switch(t){case"pathParamsChange":return!Xm(e.url,i.url);case"pathParamsOrQueryParamsChange":return!Xm(e.url,i.url)||!_d(e.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!QE(e,i)||!_d(e.queryParams,i.queryParams);default:return!QE(e,i)}}(p,d,d.routeConfig.runGuardsAndResolvers);_?a.canActivateChecks.push(new zA(o)):(d.data=p.data,d._resolvedData=p._resolvedData),r_(e,i,d.component?g?g.children:null:t,o,a),_&&g&&g.outlet&&g.outlet.isActivated&&a.canDeactivateChecks.push(new Bb(g.outlet.component,p))}else p&&i_(i,g,a),a.canActivateChecks.push(new zA(o)),r_(e,null,d.component?g?g.children:null:t,o,a)})(p,d[p.value.outlet],t,o.concat([p.value]),a),delete d[p.value.outlet]}),Object.entries(d).forEach(([p,g])=>i_(g,t.getContext(p),a)),a}function i_(e,i,t){const o=xv(e),a=e.value;Object.entries(o).forEach(([d,p])=>{i_(p,a.component?i?i.children.getContext(d):null:i,t)}),t.canDeactivateChecks.push(new Bb(a.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,a))}function o_(e){return"function"==typeof e}function $A(e){return e instanceof Eb||"EmptyError"===e?.name}const Vb=Symbol("INITIAL_VALUE");function Rv(){return un(e=>wb(e.map(i=>i.pipe(es(1),Ib(Vb)))).pipe(Ye(i=>{for(const t of i)if(!0!==t){if(t===Vb)return Vb;if(!1===t||t instanceof Sv)return t}return!0}),Li(i=>i!==Vb),es(1)))}function qA(e){return function Rn(...e){return no(e)}(eo(i=>{if(Qm(i))throw BA(0,i)}),Ye(i=>!0===i))}class Ub{constructor(i){this.segmentGroup=i||null}}class GA{constructor(i){this.urlTree=i}}function kv(e){return Dv(new Ub(e))}function WA(e){return Dv(new GA(e))}class qV{constructor(i,t){this.urlSerializer=i,this.urlTree=t}noMatchError(i){return new ge(4002,!1)}lineralizeSegments(i,t){let o=[],a=t.root;for(;;){if(o=o.concat(a.segments),0===a.numberOfChildren)return Je(o);if(a.numberOfChildren>1||!a.children[Yt])return Dv(new ge(4e3,!1));a=a.children[Yt]}}applyRedirectCommands(i,t,o){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),i,o)}applyRedirectCreateUrlTree(i,t,o,a){const d=this.createSegmentGroup(i,t.root,o,a);return new Sv(d,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(i,t){const o={};return Object.entries(i).forEach(([a,d])=>{if("string"==typeof d&&d.startsWith(":")){const g=d.substring(1);o[a]=t[g]}else o[a]=d}),o}createSegmentGroup(i,t,o,a){const d=this.createSegments(i,t.segments,o,a);let p={};return Object.entries(t.children).forEach(([g,_])=>{p[g]=this.createSegmentGroup(i,_,o,a)}),new Xn(d,p)}createSegments(i,t,o,a){return t.map(d=>d.path.startsWith(":")?this.findPosParam(i,d,a):this.findOrReturn(d,o))}findPosParam(i,t,o){const a=o[t.path.substring(1)];if(!a)throw new ge(4001,!1);return a}findOrReturn(i,t){let o=0;for(const a of t){if(a.path===i.path)return t.splice(o),a;o++}return i}}const nD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GV(e,i,t,o,a){const d=rD(e,i,t);return d.matched?(o=function mV(e,i){return e.providers&&!e._injector&&(e._injector=xw(e.providers,i,`Route: ${e.path}`)),e._injector??i}(i,o),function HV(e,i,t,o){const a=i.canMatch;return a&&0!==a.length?Je(a.map(p=>{const g=Mv(p,e);return Ep(function RV(e){return e&&o_(e.canMatch)}(g)?g.canMatch(i,t):e.runInContext(()=>g(i,t)))})).pipe(Rv(),qA()):Je(!0)}(o,i,t).pipe(Ye(p=>!0===p?d:{...nD}))):Je(d)}function rD(e,i,t){if(""===i.path)return"full"===i.pathMatch&&(e.hasChildren()||t.length>0)?{...nD}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(i.matcher||CB)(t,e,i);if(!a)return{...nD};const d={};Object.entries(a.posParams??{}).forEach(([g,_])=>{d[g]=_.path});const p=a.consumed.length>0?{...d,...a.consumed[a.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:p,positionalParamSegments:a.posParams??{}}}function KA(e,i,t,o){return t.length>0&&function YV(e,i,t){return t.some(o=>Hb(e,i,o)&&Zu(o)!==Yt)}(e,t,o)?{segmentGroup:new Xn(i,KV(o,new Xn(t,e.children))),slicedSegments:[]}:0===t.length&&function ZV(e,i,t){return t.some(o=>Hb(e,i,o))}(e,t,o)?{segmentGroup:new Xn(e.segments,WV(e,0,t,o,e.children)),slicedSegments:t}:{segmentGroup:new Xn(e.segments,e.children),slicedSegments:t}}function WV(e,i,t,o,a){const d={};for(const p of o)if(Hb(e,t,p)&&!a[Zu(p)]){const g=new Xn([],{});d[Zu(p)]=g}return{...a,...d}}function KV(e,i){const t={};t[Yt]=i;for(const o of e)if(""===o.path&&Zu(o)!==Yt){const a=new Xn([],{});t[Zu(o)]=a}return t}function Hb(e,i,t){return(!(e.hasChildren()||i.length>0)||"full"!==t.pathMatch)&&""===t.path}class eU{constructor(i,t,o,a,d,p,g){this.injector=i,this.configLoader=t,this.rootComponentType=o,this.config=a,this.urlTree=d,this.paramsInheritanceStrategy=p,this.urlSerializer=g,this.allowRedirects=!0,this.applyRedirects=new qV(this.urlSerializer,this.urlTree)}noMatchError(i){return new ge(4002,!1)}recognize(){const i=KA(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,i,Yt).pipe(wp(t=>{if(t instanceof GA)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Ub?this.noMatchError(t):t}),Ye(t=>{const o=new Lb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Yt,this.rootComponentType,null,{}),a=new Qh(o,t),d=new FA("",a),p=function $B(e,i,t=null,o=null){return CA(DA(e),i,t,o)}(o,[],this.urlTree.queryParams,this.urlTree.fragment);return p.queryParams=this.urlTree.queryParams,d.url=this.urlSerializer.serialize(p),this.inheritParamsAndData(d._root),{state:d,tree:p}}))}match(i){return this.processSegmentGroup(this.injector,this.config,i.root,Yt).pipe(wp(o=>{throw o instanceof Ub?this.noMatchError(o):o}))}inheritParamsAndData(i){const t=i.value,o=PA(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),i.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(i,t,o,a){return 0===o.segments.length&&o.hasChildren()?this.processChildren(i,t,o):this.processSegment(i,t,o,o.segments,a,!0)}processChildren(i,t,o){const a=[];for(const d of Object.keys(o.children))"primary"===d?a.unshift(d):a.push(d);return vt(a).pipe(Cv(d=>{const p=o.children[d],g=function _V(e,i){const t=e.filter(o=>Zu(o)===i);return t.push(...e.filter(o=>Zu(o)!==i)),t}(t,d);return this.processSegmentGroup(i,g,p,d)}),function bB(e,i){return me(function _B(e,i,t,o,a){return(d,p)=>{let g=t,_=i,E=0;d.subscribe(Ie(p,I=>{const R=E++;_=g?e(_,I,R):(g=!0,I),o&&p.next(_)},a&&(()=>{g&&p.next(_),p.complete()})))}}(e,i,arguments.length>=2,!0))}((d,p)=>(d.push(...p),d)),Sb(null),function wB(e,i){const t=arguments.length>=2;return o=>o.pipe(e?Li((a,d)=>e(a,d,o)):Mr,VE(1),t?Sb(i):lA(()=>new Eb))}(),Ct(d=>{if(null===d)return kv(o);const p=YA(d);return function tU(e){e.sort((i,t)=>i.value.outlet===Yt?-1:t.value.outlet===Yt?1:i.value.outlet.localeCompare(t.value.outlet))}(p),Je(p)}))}processSegment(i,t,o,a,d,p){return vt(t).pipe(Cv(g=>this.processSegmentAgainstRoute(g._injector??i,t,g,o,a,d,p).pipe(wp(_=>{if(_ instanceof Ub)return Je(null);throw _}))),Zm(g=>!!g),wp(g=>{if($A(g))return function QV(e,i,t){return 0===i.length&&!e.children[t]}(o,a,d)?Je([]):kv(o);throw g}))}processSegmentAgainstRoute(i,t,o,a,d,p,g){return function XV(e,i,t,o){return!!(Zu(e)===o||o!==Yt&&Hb(i,t,e))&&("**"===e.path||rD(i,e,t).matched)}(o,a,d,p)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(i,a,o,d,p,g):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,a,t,o,d,p):kv(a):kv(a)}expandSegmentAgainstRouteUsingRedirect(i,t,o,a,d,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,o,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(i,t,o,a,d,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,t,o,a){const d=this.applyRedirects.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?WA(d):this.applyRedirects.lineralizeSegments(o,d).pipe(Ct(p=>{const g=new Xn(p,{});return this.processSegment(i,t,g,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,t,o,a,d,p){const{matched:g,consumedSegments:_,remainingSegments:E,positionalParamSegments:I}=rD(t,a,d);if(!g)return kv(t);const R=this.applyRedirects.applyRedirectCommands(_,a.redirectTo,I);return a.redirectTo.startsWith("/")?WA(R):this.applyRedirects.lineralizeSegments(a,R).pipe(Ct(F=>this.processSegment(i,o,t,F.concat(E),p,!1)))}matchSegmentAgainstRoute(i,t,o,a,d,p){let g;if("**"===o.path){const _=a.length>0?hA(a).parameters:{};g=Je({snapshot:new Lb(a,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZA(o),Zu(o),o.component??o._loadedComponent??null,o,XA(o)),consumedSegments:[],remainingSegments:[]}),t.children={}}else g=GV(t,o,a,i).pipe(Ye(({matched:_,consumedSegments:E,remainingSegments:I,parameters:R})=>_?{snapshot:new Lb(E,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZA(o),Zu(o),o.component??o._loadedComponent??null,o,XA(o)),consumedSegments:E,remainingSegments:I}:null));return g.pipe(un(_=>null===_?kv(t):this.getChildConfig(i=o._injector??i,o,a).pipe(un(({routes:E})=>{const I=o._loadedInjector??i,{snapshot:R,consumedSegments:F,remainingSegments:j}=_,{segmentGroup:H,slicedSegments:W}=KA(t,F,j,E);if(0===W.length&&H.hasChildren())return this.processChildren(I,E,H).pipe(Ye(Ee=>null===Ee?null:[new Qh(R,Ee)]));if(0===E.length&&0===W.length)return Je([new Qh(R,[])]);const fe=Zu(o)===d;return this.processSegment(I,E,H,W,fe?Yt:d,!0).pipe(Ye(Ee=>[new Qh(R,Ee)]))}))))}getChildConfig(i,t,o){return t.children?Je({routes:t.children,injector:i}):t.loadChildren?void 0!==t._loadedRoutes?Je({routes:t._loadedRoutes,injector:t._loadedInjector}):function UV(e,i,t,o){const a=i.canLoad;return void 0===a||0===a.length?Je(!0):Je(a.map(p=>{const g=Mv(p,e);return Ep(function TV(e){return e&&o_(e.canLoad)}(g)?g.canLoad(i,t):e.runInContext(()=>g(i,t)))})).pipe(Rv(),qA())}(i,t,o).pipe(Ct(a=>a?this.configLoader.loadChildren(i,t).pipe(eo(d=>{t._loadedRoutes=d.routes,t._loadedInjector=d.injector})):function $V(e){return Dv(VA(!1,3))}())):Je({routes:[],injector:i})}}function nU(e){const i=e.value.routeConfig;return i&&""===i.path}function YA(e){const i=[],t=new Set;for(const o of e){if(!nU(o)){i.push(o);continue}const a=i.find(d=>o.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...o.children),t.add(a)):i.push(o)}for(const o of t){const a=YA(o.children);i.push(new Qh(o.value,a))}return i.filter(o=>!t.has(o))}function ZA(e){return e.data||{}}function XA(e){return e.resolve||{}}function QA(e){return"string"==typeof e.title||null===e.title}function iD(e){return un(i=>{const t=e(i);return t?vt(t).pipe(Ye(()=>i)):Je(i)})}const Ov=new Te("ROUTES");let oD=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Oe(FT)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Je(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const o=Ep(t.loadComponent()).pipe(Ye(JA),eo(d=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=d}),Tb(()=>{this.componentLoaders.delete(t)})),a=new uA(o,()=>new Y).pipe(BE());return this.componentLoaders.set(t,a),a}loadChildren(t,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Je({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const d=function uU(e,i,t,o){return Ep(e.loadChildren()).pipe(Ye(JA),Ct(a=>a instanceof US||Array.isArray(a)?Je(a):vt(i.compileModuleAsync(a))),Ye(a=>{o&&o(e);let d,p,g=!1;return Array.isArray(a)?(p=a,!0):(d=a.create(t).injector,p=d.get(Ov,[],{optional:!0,self:!0}).flat()),{routes:p.map(tD),injector:d}}))}(o,this.compiler,t,this.onLoadEndListener).pipe(Tb(()=>{this.childrenLoaders.delete(o)})),p=new uA(d,()=>new Y).pipe(BE());return this.childrenLoaders.set(o,p),p}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function JA(e){return function lU(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let zb=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Y,this.transitionAbortSubject=new Y,this.configLoader=Oe(oD),this.environmentInjector=Oe(hr),this.urlSerializer=Oe(Ky),this.rootContexts=Oe(e_),this.inputBindingEnabled=null!==Oe(jb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Je(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new nV(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new tV(a))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:o})}setupNavigations(t,o,a){return this.transitions=new Or({id:0,currentUrlTree:o,currentRawUrl:o,currentBrowserUrl:o,extractedUrl:t.urlHandlingStrategy.extract(o),urlAfterRedirects:t.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Qy,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Li(d=>0!==d.id),Ye(d=>({...d,extractedUrl:t.urlHandlingStrategy.extract(d.rawUrl)})),un(d=>{this.currentTransition=d;let p=!1,g=!1;return Je(d).pipe(eo(_=>{this.currentNavigation={id:_.id,initialUrl:_.rawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),un(_=>{const E=_.currentBrowserUrl.toString(),I=!t.navigated||_.extractedUrl.toString()!==E||E!==_.currentUrlTree.toString();if(!I&&"reload"!==(_.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const F="";return this.events.next(new Tv(_.id,this.urlSerializer.serialize(_.rawUrl),F,0)),_.resolve(null),cr}if(t.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return Je(_).pipe(un(F=>{const j=this.transitions?.getValue();return this.events.next(new Pb(F.id,this.urlSerializer.serialize(F.extractedUrl),F.source,F.restoredState)),j!==this.transitions?.getValue()?cr:Promise.resolve(F)}),function rU(e,i,t,o,a,d){return Ct(p=>function JV(e,i,t,o,a,d,p="emptyOnly"){return new eU(e,i,t,o,a,p,d).recognize()}(e,i,t,o,p.extractedUrl,a,d).pipe(Ye(({state:g,tree:_})=>({...p,targetSnapshot:g,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),eo(F=>{d.targetSnapshot=F.targetSnapshot,d.urlAfterRedirects=F.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:F.urlAfterRedirects};const j=new MA(F.id,this.urlSerializer.serialize(F.extractedUrl),this.urlSerializer.serialize(F.urlAfterRedirects),F.targetSnapshot);this.events.next(j)}));if(I&&t.urlHandlingStrategy.shouldProcessUrl(_.currentRawUrl)){const{id:F,extractedUrl:j,source:H,restoredState:W,extras:fe}=_,Ee=new Pb(F,this.urlSerializer.serialize(j),H,W);this.events.next(Ee);const ae=NA(0,this.rootComponentType).snapshot;return this.currentTransition=d={..._,targetSnapshot:ae,urlAfterRedirects:j,extras:{...fe,skipLocationChange:!1,replaceUrl:!1}},Je(d)}{const F="";return this.events.next(new Tv(_.id,this.urlSerializer.serialize(_.extractedUrl),F,1)),_.resolve(null),cr}}),eo(_=>{const E=new XB(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(E)}),Ye(_=>(this.currentTransition=d={..._,guards:EV(_.targetSnapshot,_.currentSnapshot,this.rootContexts)},d)),function OV(e,i){return Ct(t=>{const{targetSnapshot:o,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:p}}=t;return 0===p.length&&0===d.length?Je({...t,guardsResult:!0}):function NV(e,i,t,o){return vt(e).pipe(Ct(a=>function VV(e,i,t,o,a){const d=i&&i.routeConfig?i.routeConfig.canDeactivate:null;return d&&0!==d.length?Je(d.map(g=>{const _=n_(i)??a,E=Mv(g,_);return Ep(function MV(e){return e&&o_(e.canDeactivate)}(E)?E.canDeactivate(e,i,t,o):_.runInContext(()=>E(e,i,t,o))).pipe(Zm())})).pipe(Rv()):Je(!0)}(a.component,a.route,t,i,o)),Zm(a=>!0!==a,!0))}(p,o,a,e).pipe(Ct(g=>g&&function SV(e){return"boolean"==typeof e}(g)?function PV(e,i,t,o){return vt(i).pipe(Cv(a=>Db(function LV(e,i){return null!==e&&i&&i(new rV(e)),Je(!0)}(a.route.parent,o),function FV(e,i){return null!==e&&i&&i(new oV(e)),Je(!0)}(a.route,o),function BV(e,i,t){const o=i[i.length-1],d=i.slice(0,i.length-1).reverse().map(p=>function DV(e){const i=e.routeConfig?e.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:e,guards:i}:null}(p)).filter(p=>null!==p).map(p=>Cb(()=>Je(p.guards.map(_=>{const E=n_(p.node)??t,I=Mv(_,E);return Ep(function AV(e){return e&&o_(e.canActivateChild)}(I)?I.canActivateChild(o,e):E.runInContext(()=>I(o,e))).pipe(Zm())})).pipe(Rv())));return Je(d).pipe(Rv())}(e,a.path,t),function jV(e,i,t){const o=i.routeConfig?i.routeConfig.canActivate:null;if(!o||0===o.length)return Je(!0);const a=o.map(d=>Cb(()=>{const p=n_(i)??t,g=Mv(d,p);return Ep(function xV(e){return e&&o_(e.canActivate)}(g)?g.canActivate(i,e):p.runInContext(()=>g(i,e))).pipe(Zm())}));return Je(a).pipe(Rv())}(e,a.route,t))),Zm(a=>!0!==a,!0))}(o,d,e,i):Je(g)),Ye(g=>({...t,guardsResult:g})))})}(this.environmentInjector,_=>this.events.next(_)),eo(_=>{if(d.guardsResult=_.guardsResult,Qm(_.guardsResult))throw BA(0,_.guardsResult);const E=new QB(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.events.next(E)}),Li(_=>!!_.guardsResult||(this.cancelNavigationTransition(_,"",3),!1)),iD(_=>{if(_.guards.canActivateChecks.length)return Je(_).pipe(eo(E=>{const I=new JB(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(I)}),un(E=>{let I=!1;return Je(E).pipe(function iU(e,i){return Ct(t=>{const{targetSnapshot:o,guards:{canActivateChecks:a}}=t;if(!a.length)return Je(t);let d=0;return vt(a).pipe(Cv(p=>function oU(e,i,t,o){const a=e.routeConfig,d=e._resolve;return void 0!==a?.title&&!QA(a)&&(d[Gy]=a.title),function sU(e,i,t,o){const a=function aU(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===a.length)return Je({});const d={};return vt(a).pipe(Ct(p=>function cU(e,i,t,o){const a=n_(i)??o,d=Mv(e,a);return Ep(d.resolve?d.resolve(i,t):a.runInContext(()=>d(i,t)))}(e[p],i,t,o).pipe(Zm(),eo(g=>{d[p]=g}))),VE(1),function EB(e){return Ye(()=>e)}(d),wp(p=>$A(p)?cr:Dv(p)))}(d,e,i,o).pipe(Ye(p=>(e._resolvedData=p,e.data=PA(e,t).resolve,a&&QA(a)&&(e.data[Gy]=a.title),null)))}(p.route,o,e,i)),eo(()=>d++),VE(1),Ct(p=>d===a.length?Je(t):cr))})}(t.paramsInheritanceStrategy,this.environmentInjector),eo({next:()=>I=!0,complete:()=>{I||this.cancelNavigationTransition(E,"",2)}}))}),eo(E=>{const I=new eV(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(I)}))}),iD(_=>{const E=I=>{const R=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(I.routeConfig).pipe(eo(F=>{I.component=F}),Ye(()=>{})));for(const F of I.children)R.push(...E(F));return R};return wb(E(_.targetSnapshot.root)).pipe(Sb(),es(1))}),iD(()=>this.afterPreactivation()),Ye(_=>{const E=function dV(e,i,t){const o=t_(e,i._root,t?t._root:void 0);return new OA(o,i)}(t.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return this.currentTransition=d={..._,targetRouterState:E},d}),eo(()=>{this.events.next(new GE)}),((e,i,t,o)=>Ye(a=>(new wV(i,a.targetRouterState,a.currentRouterState,t,o).activate(e),a)))(this.rootContexts,t.routeReuseStrategy,_=>this.events.next(_),this.inputBindingEnabled),es(1),eo({next:_=>{p=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dp(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects))),t.titleStrategy?.updateTitle(_.targetRouterState.snapshot),_.resolve(!0)},complete:()=>{p=!0}}),xb(this.transitionAbortSubject.pipe(eo(_=>{throw _}))),Tb(()=>{p||g||this.cancelNavigationTransition(d,"",1),this.currentNavigation?.id===d.id&&(this.currentNavigation=null)}),wp(_=>{if(g=!0,UA(_))this.events.next(new Jy(d.id,this.urlSerializer.serialize(d.extractedUrl),_.message,_.cancellationCode)),function pV(e){return UA(e)&&Qm(e.url)}(_)?this.events.next(new WE(_.url)):d.resolve(!1);else{this.events.next(new Fb(d.id,this.urlSerializer.serialize(d.extractedUrl),_,d.targetSnapshot??void 0));try{d.resolve(t.errorHandler(_))}catch(E){d.reject(E)}}return cr}))}))}cancelNavigationTransition(t,o,a){const d=new Jy(t.id,this.urlSerializer.serialize(t.extractedUrl),o,a);this.events.next(d),t.resolve(!1)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eM(e){return e!==Qy}let tM=(()=>{class e{buildTitle(t){let o,a=t.root;for(;void 0!==a;)o=this.getResolvedTitleForRoute(a)??o,a=a.children.find(d=>d.outlet===Yt);return o}getResolvedTitleForRoute(t){return t.data[Gy]}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:function(){return Oe(dU)},providedIn:"root"})}return e})(),dU=(()=>{class e extends tM{constructor(t){super(),this.title=t}updateTitle(t){const o=this.buildTitle(t);void 0!==o&&this.title.setTitle(o)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(tA))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hU=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:function(){return Oe(pU)},providedIn:"root"})}return e})();class fU{shouldDetach(i){return!1}store(i,t){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,t){return i.routeConfig===t.routeConfig}}let pU=(()=>{class e extends fU{static#e=this.\u0275fac=function(){let t;return function(a){return(t||(t=function Qp(e){return as(()=>{const i=e.prototype.constructor,t=i[ks]||xr(i),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const d=a[ks]||xr(a);if(d&&d!==t)return d;a=Object.getPrototypeOf(a)}return d=>new d})}(e)))(a||e)}}();static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const $b=new Te("",{providedIn:"root",factory:()=>({})});let mU=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:function(){return Oe(gU)},providedIn:"root"})}return e})(),gU=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,o){return t}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var s_=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(s_||{});function nM(e,i){e.events.pipe(Li(t=>t instanceof Dp||t instanceof Jy||t instanceof Fb||t instanceof Tv),Ye(t=>t instanceof Dp||t instanceof Tv?s_.COMPLETE:t instanceof Jy&&(0===t.code||1===t.code)?s_.REDIRECTING:s_.FAILED),Li(t=>t!==s_.REDIRECTING),es(1)).subscribe(()=>{i()})}function vU(e){throw e}function yU(e,i,t){return i.parse("/")}const _U={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ss=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Oe(NT),this.isNgZoneEnabled=!1,this._events=new Y,this.options=Oe($b,{optional:!0})||{},this.pendingTasks=Oe(PT),this.errorHandler=this.options.errorHandler||vU,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||yU,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Oe(mU),this.routeReuseStrategy=Oe(hU),this.titleStrategy=Oe(tM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Oe(Ov,{optional:!0})?.flat()??[],this.navigationTransitions=Oe(zb),this.urlSerializer=Oe(Ky),this.location=Oe(Vy),this.componentInputBindingEnabled=!!Oe(jb,{optional:!0}),this.eventsSubscription=new kt,this.isNgZoneEnabled=Oe(Bt)instanceof Bt&&Bt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Sv,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=NA(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(o=>{try{const{currentTransition:a}=this.navigationTransitions;if(null===a)return void(rM(o)&&this._events.next(o));if(o instanceof Pb)eM(a.source)&&(this.browserUrlTree=a.extractedUrl);else if(o instanceof Tv)this.rawUrlTree=a.rawUrl;else if(o instanceof MA){if("eager"===this.urlUpdateStrategy){if(!a.extras.skipLocationChange){const d=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl);this.setBrowserUrl(d,a)}this.browserUrlTree=a.urlAfterRedirects}}else if(o instanceof GE)this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects);else if(o instanceof Jy)0!==o.code&&1!==o.code&&(this.navigated=!0),(3===o.code||2===o.code)&&this.restoreHistory(a);else if(o instanceof WE){const d=this.urlHandlingStrategy.merge(o.url,a.currentRawUrl),p={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||eM(a.source)};this.scheduleNavigation(d,Qy,null,p,{resolve:a.resolve,reject:a.reject,promise:a.promise})}o instanceof Fb&&this.restoreHistory(a,!0),o instanceof Dp&&(this.navigated=!0),rM(o)&&this._events.next(o)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Qy,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,o,t.state)},0)}))}navigateToSyncWithBrowser(t,o,a){const d={replaceUrl:!0},p=a?.navigationId?a:null;if(a){const _={...a};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(d.state=_)}const g=this.parseUrl(t);this.scheduleNavigation(g,o,p,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(tD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,o={}){const{relativeTo:a,queryParams:d,fragment:p,queryParamsHandling:g,preserveFragment:_}=o,E=_?this.currentUrlTree.fragment:p;let R,I=null;switch(g){case"merge":I={...this.currentUrlTree.queryParams,...d};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=d||null}null!==I&&(I=this.removeEmptyProps(I));try{R=DA(a?a.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),R=this.currentUrlTree.root}return CA(R,t,I,E??null)}navigateByUrl(t,o={skipLocationChange:!1}){const a=Qm(t)?t:this.parseUrl(t),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,Qy,null,o)}navigate(t,o={skipLocationChange:!1}){return function wU(e){for(let i=0;i<e.length;i++)if(null==e[i])throw new ge(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(a){o=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return o}isActive(t,o){let a;if(a=!0===o?{..._U}:!1===o?{...bU}:o,Qm(t))return pA(this.currentUrlTree,t,a);const d=this.parseUrl(t);return pA(this.currentUrlTree,d,a)}removeEmptyProps(t){return Object.keys(t).reduce((o,a)=>{const d=t[a];return null!=d&&(o[a]=d),o},{})}scheduleNavigation(t,o,a,d,p){if(this.disposed)return Promise.resolve(!1);let g,_,E;p?(g=p.resolve,_=p.reject,E=p.promise):E=new Promise((R,F)=>{g=R,_=F});const I=this.pendingTasks.add();return nM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:d,resolve:g,reject:_,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(R=>Promise.reject(R))}setBrowserUrl(t,o){const a=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(a)||o.extras.replaceUrl){const p={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(a,"",p)}else{const d={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(a,"",d)}}restoreHistory(t,o=!1){if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-this.browserPageId;0!==d?this.location.historyGo(d):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rM(e){return!(e instanceof GE||e instanceof WE)}let qb=(()=>{class e{constructor(t,o,a,d,p,g){this.router=t,this.route=o,this.tabIndexAttribute=a,this.renderer=d,this.el=p,this.locationStrategy=g,this.href=null,this.commands=null,this.onChanges=new Y,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _=p.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(E=>{E instanceof Dp&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,o,a,d,p){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||o||a||d||p||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function Oh(e,i,t){return function Lm(e,i){return"src"===i&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===i&&("base"===e||"link"===e)?Mc:Ko}(i,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,o){const a=this.renderer,d=this.el.nativeElement;null!==o?a.setAttribute(d,t,o):a.removeAttribute(d,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(o){return new(o||e)(_e(Ss),_e(Av),Aa("tabindex"),_e(D),_e(m),_e(Ym))};static#t=this.\u0275dir=_n({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(o,a){1&o&&Qi("click",function(p){return a.onClick(p.button,p.ctrlKey,p.shiftKey,p.altKey,p.metaKey)}),2&o&&Gh("target",a.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",sE],skipLocationChange:["skipLocationChange","skipLocationChange",sE],replaceUrl:["replaceUrl","replaceUrl",sE],routerLink:"routerLink"},standalone:!0,features:[iI,uo]})}return e})();class iM{}let CU=(()=>{class e{constructor(t,o,a,d,p){this.router=t,this.injector=a,this.preloadingStrategy=d,this.loader=p}setUpPreloading(){this.subscription=this.router.events.pipe(Li(t=>t instanceof Dp),Cv(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){const a=[];for(const d of o){d.providers&&!d._injector&&(d._injector=xw(d.providers,t,`Route: ${d.path}`));const p=d._injector??t,g=d._loadedInjector??p;(d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent)&&a.push(this.preloadConfig(p,d)),(d.children||d._loadedRoutes)&&a.push(this.processRoutes(g,d.children??d._loadedRoutes))}return vt(a).pipe(Hi())}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>{let a;a=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(t,o):Je(null);const d=a.pipe(Ct(p=>null===p?Je(void 0):(o._loadedRoutes=p.routes,o._loadedInjector=p.injector,this.processRoutes(p.injector??t,p.routes))));return o.loadComponent&&!o._loadedComponent?vt([d,this.loader.loadComponent(o)]).pipe(Hi()):d})}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Ss),ne(FT),ne(hr),ne(iM),ne(oD))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const sD=new Te("");let oM=(()=>{class e{constructor(t,o,a,d,p={}){this.urlSerializer=t,this.transitions=o,this.viewportScroller=a,this.zone=d,this.options=p,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},p.scrollPositionRestoration=p.scrollPositionRestoration||"disabled",p.anchorScrolling=p.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Pb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Dp?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Tv&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof RA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new RA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){O_()};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();function Jh(e,i){return{\u0275kind:e,\u0275providers:i}}function aM(){const e=Oe(Xr);return i=>{const t=e.get(_p);if(i!==t.components[0])return;const o=e.get(Ss),a=e.get(cM);1===e.get(aD)&&o.initialNavigation(),e.get(uM,null,Dt.Optional)?.setUpPreloading(),e.get(sD,null,Dt.Optional)?.init(),o.resetRootComponentType(t.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}const cM=new Te("",{factory:()=>new Y}),aD=new Te("",{providedIn:"root",factory:()=>1}),uM=new Te("");function xU(e){return Jh(0,[{provide:uM,useExisting:CU},{provide:iM,useExisting:e}])}const lM=new Te("ROUTER_FORROOT_GUARD"),MU=[Vy,{provide:Ky,useClass:UE},Ss,e_,{provide:Av,useFactory:function sM(e){return e.routerState.root},deps:[Ss]},oD,[]];function RU(){return new zT("Router",Ss)}let cD=(()=>{class e{constructor(t){}static forRoot(t,o){return{ngModule:e,providers:[MU,[],{provide:Ov,multi:!0,useValue:t},{provide:lM,useFactory:PU,deps:[[Ss,new jt,new Au]]},{provide:$b,useValue:o||{}},o?.useHash?{provide:Ym,useClass:HL}:{provide:Ym,useClass:_x},{provide:sD,useFactory:()=>{const e=Oe(cj),i=Oe(Bt),t=Oe($b),o=Oe(zb),a=Oe(Ky);return t.scrollOffset&&e.setOffset(t.scrollOffset),new oM(a,o,e,i,t)}},o?.preloadingStrategy?xU(o.preloadingStrategy).\u0275providers:[],{provide:zT,multi:!0,useFactory:RU},o?.initialNavigation?FU(o):[],o?.bindToComponentInputs?Jh(8,[jA,{provide:jb,useExisting:jA}]).\u0275providers:[],[{provide:dM,useFactory:aM},{provide:Jw,multi:!0,useExisting:dM}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Ov,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(o){return new(o||e)(ne(lM,8))};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({})}return e})();function PU(e){return"guarded"}function FU(e){return["disabled"===e.initialNavigation?Jh(3,[{provide:qw,multi:!0,useFactory:()=>{const i=Oe(Ss);return()=>{i.setUpLocationChangeListener()}}},{provide:aD,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Jh(2,[{provide:aD,useValue:0},{provide:qw,multi:!0,deps:[Xr],useFactory:i=>{const t=i.get(VL,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const a=i.get(Ss),d=i.get(cM);nM(a,()=>{o(!0)}),i.get(zb).afterPreactivation=()=>(o(!0),d.closed?Je(void 0):d),a.initialNavigation()}))}}]).\u0275providers:[]]}const dM=new Te(""),Ka=$t(301);class Ya{static init(i){return Ka.default.initializeApp(i),[]}static getFirestore(){return Ka.default.firestore()}static _getFirestore(){return Ka.default.firestore}static getAuth(){return Ka.default.auth()}static getStorage(){return Ka.default.storage()}static getFirestoreTimestamp(){return Ka.default.firestore.Timestamp.now()}}$t(960);class Jm{constructor(){this.auth=Ya.getAuth()}createAccountWith(i){return new Promise((t,o)=>{this.auth.createUserWithEmailAndPassword(i.email,i.password).then(a=>{try{i.onComplete(a)}catch{}t(a)}).catch(a=>{try{i.onFail(a)}catch{}o(a)})})}signInAnonymously(i){return new Promise((t,o)=>{this.auth.signInAnonymously().then(a=>{try{i.onComplete(a)}catch{}t(a)}).catch(a=>{try{i.onFail(a)}catch{}o(a)})})}signInWith(i){return new Promise((t,o)=>{i.provider?this.auth.signInWithPopup(this.getProvider(i.provider)).then(a=>{try{i.onComplete(a)}catch{}t(a)}).catch(a=>{try{i.onFail(a)}catch{}o(a)}):this.auth.signInWithEmailAndPassword(i.email,i.password).then(a=>{try{i.onComplete(a)}catch{}t(a)}).catch(a=>{try{i.onFail(a)}catch{}o(a)})})}getProvider(i){switch(i.toLowerCase()){case"google":return new Ka.default.auth.GoogleAuthProvider;case"apple":return new Ka.default.auth.OAuthProvider("apple.com");case"facebook":return new Ka.default.auth.FacebookAuthProvider;case"yahoo":return new Ka.default.auth.OAuthProvider("yahoo.com");case"github":return new Ka.default.auth.GithubAuthProvider;case"twitter":return new Ka.default.auth.TwitterAuthProvider;case"microsoft":return new Ka.default.auth.OAuthProvider("microsoft.com")}}signOut(i){return new Promise((t,o)=>{i?this.auth.signOut().then(()=>{try{i.onComplete()}catch{}t()}).catch(()=>{try{i.onFail()}catch{}o(new Error("Failed to signout."))}):this.auth.signOut()})}listenToSignInStateChanges(i){this.auth.onAuthStateChanged(t=>{i(t)})}sendVerificationEmail(){try{this.validateIsSignedIn(),this.auth.currentUser.sendEmailVerification()}catch(i){console.error(`${i} User must be signed in to use the sendVerificaitonEmail() function.`)}}sendPasswordResetEmail(i){i.onComplete?this.auth.sendPasswordResetEmail(i.email).then(()=>i.onComplete(`Instructions to reset password was sent to ${i.email}.`)).catch(()=>i.onComplete("Failed to send password reset email.")):this.auth.sendPasswordResetEmail(i.email)}isEmailVerified(){try{return this.validateIsSignedIn(),this.auth.currentUser.emailVerified}catch(i){console.error(`User must be signed in to use the isEmailVerified() function. \n${i}`)}return!1}isSignedIn(){return null!=this.auth.currentUser||null!=this.auth.currentUser}validateIsSignedIn(){if(!this.isSignedIn())throw new Error("No user was signed in.")}getAuth(){return this.auth}checkSignInState(i){let t=this.getAuth().currentUser;try{i.whenChanged(t)}catch{}if(this.isSignedIn()){try{i.whenSignedIn(t)}catch{}if(this.isEmailVerified())try{i.whenSignedInAndEmailVerified(t)}catch{}else try{i.whenSignedInAndEmailNotVerified(t)}catch{}}else try{i.whenSignedOut(t)}catch{}}}let uD;try{uD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{uD=!1}let a_,eg,lD,sa=(()=>{class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function aj(e){return e===Fx}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!uD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(o){return new(o||e)(ne(kc))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Gb(e){return function jU(){if(null==a_&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>a_=!0}))}finally{a_=a_||!1}return a_}()?e:!!e.capture}function BU(){if(null==eg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return eg=!1,eg;if("scrollBehavior"in document.documentElement.style)eg=!0;else{const e=Element.prototype.scrollTo;eg=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return eg}function dD(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){const i=e.shadowRoot.activeElement;if(i===e)break;e=i}return e}function Cp(e){return e.composedPath?e.composedPath()[0]:e.target}function hD(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function pD(e,...i){return i.length?i.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function fM(e){return Li((i,t)=>e<=t)}function Pv(e){return null!=e&&"false"!=`${e}`}function pM(e,i=0){return function WU(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):i}function Kb(e){return Array.isArray(e)?e:[e]}function ji(e){return null==e?"":"string"==typeof e?e:`${e}px`}function Fv(e){return e instanceof m?e.nativeElement:e}let KU=(()=>{class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),YU=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({providers:[KU]})}return e})();class ZU extends kt{constructor(i,t){super()}schedule(i,t=0){return this}}const Yb={setInterval(e,i,...t){const{delegate:o}=Yb;return o?.setInterval?o.setInterval(e,i,...t):setInterval(e,i,...t)},clearInterval(e){const{delegate:i}=Yb;return(i?.clearInterval||clearInterval)(e)},delegate:void 0};class mD extends ZU{constructor(i,t){super(i,t),this.scheduler=i,this.work=t,this.pending=!1}schedule(i,t=0){var o;if(this.closed)return this;this.state=i;const a=this.id,d=this.scheduler;return null!=a&&(this.id=this.recycleAsyncId(d,a,t)),this.pending=!0,this.delay=t,this.id=null!==(o=this.id)&&void 0!==o?o:this.requestAsyncId(d,this.id,t),this}requestAsyncId(i,t,o=0){return Yb.setInterval(i.flush.bind(i,this),o)}recycleAsyncId(i,t,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return t;null!=t&&Yb.clearInterval(t)}execute(i,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(i,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,t){let a,o=!1;try{this.work(i)}catch(d){o=!0,a=d||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:i,scheduler:t}=this,{actions:o}=t;this.work=this.state=this.scheduler=null,this.pending=!1,rt(o,this),null!=i&&(this.id=this.recycleAsyncId(t,i,null)),this.delay=null,super.unsubscribe()}}}const mM={now:()=>(mM.delegate||Date).now(),delegate:void 0};class c_{constructor(i,t=c_.now){this.schedulerActionCtor=i,this.now=t}schedule(i,t=0,o){return new this.schedulerActionCtor(this,i).schedule(o,t)}}c_.now=mM.now;class gD extends c_{constructor(i,t=c_.now){super(i,t),this.actions=[],this._active=!1}flush(i){const{actions:t}=this;if(this._active)return void t.push(i);let o;this._active=!0;do{if(o=i.execute(i.state,i.delay))break}while(i=t.shift());if(this._active=!1,o){for(;i=t.shift();)i.unsubscribe();throw o}}}const vD=new gD(mD),XU=vD,gM=new Set;let tg,JU=(()=>{class e{constructor(t,o){this._platform=t,this._nonce=o,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):t3}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function e3(e,i){if(!gM.has(e))try{tg||(tg=document.createElement("style"),i&&(tg.nonce=i),tg.setAttribute("type","text/css"),document.head.appendChild(tg)),tg.sheet&&(tg.sheet.insertRule(`@media ${e} {body{ }}`,0),gM.add(e))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(sa),ne(cd,8))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function t3(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let vM=(()=>{class e{constructor(t,o){this._mediaMatcher=t,this._zone=o,this._queries=new Map,this._destroySubject=new Y}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return yM(Kb(t)).some(a=>this._registerQuery(a).mql.matches)}observe(t){let d=wb(yM(Kb(t)).map(p=>this._registerQuery(p).observable));return d=Db(d.pipe(es(1)),d.pipe(fM(1),function QU(e,i=vD){return me((t,o)=>{let a=null,d=null,p=null;const g=()=>{if(a){a.unsubscribe(),a=null;const E=d;d=null,o.next(E)}};function _(){const E=p+e,I=i.now();if(I<E)return a=this.schedule(void 0,E-I),void o.add(a);g()}t.subscribe(Ie(o,E=>{d=E,p=i.now(),a||(a=i.schedule(_,e),o.add(a))},()=>{g(),o.complete()},void 0,()=>{d=a=null}))})}(0))),d.pipe(Ye(p=>{const g={matches:!1,breakpoints:{}};return p.forEach(({matches:_,query:E})=>{g.matches=g.matches||_,g.breakpoints[E]=_}),g}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const o=this._mediaMatcher.matchMedia(t),d={observable:new ft(p=>{const g=_=>this._zone.run(()=>p.next(_));return o.addListener(g),()=>{o.removeListener(g)}}).pipe(Ib(o),Ye(({matches:p})=>({query:t,matches:p})),xb(this._destroySubject)),mql:o};return this._queries.set(t,d),d}static#e=this.\u0275fac=function(o){return new(o||e)(ne(JU),ne(Bt))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yM(e){return e.map(i=>i.split(",")).reduce((i,t)=>i.concat(t)).map(i=>i.trim())}const Lv_Medium="(min-width: 960px) and (max-width: 1279.98px)",Lv_Large="(min-width: 1280px) and (max-width: 1919.98px)";let u_=(()=>{class e{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function s3(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const o=function o3(e){try{return e.frameElement}catch{return null}}(function p3(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(t));if(o&&(-1===EM(o)||!this.isVisible(o)))return!1;let a=t.nodeName.toLowerCase(),d=EM(t);return t.hasAttribute("contenteditable")?-1!==d:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function h3(e){let i=e.nodeName.toLowerCase(),t="input"===i&&e.type;return"text"===t||"password"===t||"select"===i||"textarea"===i}(t))&&("audio"===a?!!t.hasAttribute("controls")&&-1!==d:"video"===a?-1!==d&&(null!==d||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,o){return function f3(e){return!function c3(e){return function l3(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function a3(e){let i=e.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(e)||function u3(e){return function d3(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||wM(e))}(t)&&!this.isDisabled(t)&&(o?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(o){return new(o||e)(ne(sa))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wM(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let i=e.getAttribute("tabindex");return!(!i||isNaN(parseInt(i,10)))}function EM(e){if(!wM(e))return null;const i=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class m3{get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}constructor(i,t,o,a,d=!1){this._element=i,this._checker=t,this._ngZone=o,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,d||this.attachAnchors()}destroy(){const i=this._startAnchor,t=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){const t=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);return"start"==i?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const o=this._getFirstTabbableElement(t);return o?.focus(i),!!o}return t.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){const t=this._getRegionBoundary("start");return t&&t.focus(i),!!t}focusLastTabbableElement(i){const t=this._getRegionBoundary("end");return t&&t.focus(i),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const t=i.children;for(let o=0;o<t.length;o++){const a=t[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[o]):null;if(a)return a}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const t=i.children;for(let o=t.length-1;o>=0;o--){const a=t[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[o]):null;if(a)return a}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,t){i?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(es(1)).subscribe(i)}}let Zb=(()=>{class e{constructor(t,o,a){this._checker=t,this._ngZone=o,this._document=a}create(t,o=!1){return new m3(t,this._checker,this._ngZone,this._document,o)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(u_),ne(Bt),ne(tn))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function DM(e){return 0===e.buttons||0===e.offsetX&&0===e.offsetY}function CM(e){const i=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}const g3=new Te("cdk-input-modality-detector-options"),v3={ignoreKeys:[18,17,224,91,16]},jv=Gb({passive:!0,capture:!0});let y3=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(t,o,a,d){this._platform=t,this._mostRecentTarget=null,this._modality=new Or(null),this._lastTouchMs=0,this._onKeydown=p=>{this._options?.ignoreKeys?.some(g=>g===p.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Cp(p))},this._onMousedown=p=>{Date.now()-this._lastTouchMs<650||(this._modality.next(DM(p)?"keyboard":"mouse"),this._mostRecentTarget=Cp(p))},this._onTouchstart=p=>{CM(p)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Cp(p))},this._options={...v3,...d},this.modalityDetected=this._modality.pipe(fM(1)),this.modalityChanged=this.modalityDetected.pipe(xs()),t.isBrowser&&o.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,jv),a.addEventListener("mousedown",this._onMousedown,jv),a.addEventListener("touchstart",this._onTouchstart,jv)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,jv),document.removeEventListener("mousedown",this._onMousedown,jv),document.removeEventListener("touchstart",this._onTouchstart,jv))}static#e=this.\u0275fac=function(o){return new(o||e)(ne(sa),ne(Bt),ne(tn),ne(g3,8))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const b3=new Te("cdk-focus-monitor-default-options"),Xb=Gb({passive:!0,capture:!0});let l_=(()=>{class e{constructor(t,o,a,d,p){this._ngZone=t,this._platform=o,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Y,this._rootNodeFocusAndBlurListener=g=>{for(let E=Cp(g);E;E=E.parentElement)"focus"===g.type?this._onFocus(g,E):this._onBlur(g,E)},this._document=d,this._detectionMode=p?.detectionMode||0}monitor(t,o=!1){const a=Fv(t);if(!this._platform.isBrowser||1!==a.nodeType)return Je();const d=function UU(e){if(function VU(){if(null==lD){const e=typeof document<"u"?document.head:null;lD=!(!e||!e.createShadowRoot&&!e.attachShadow)}return lD}()){const i=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}(a)||this._getDocument(),p=this._elementInfo.get(a);if(p)return o&&(p.checkChildren=!0),p.subject;const g={checkChildren:o,subject:new Y,rootNode:d};return this._elementInfo.set(a,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(t){const o=Fv(t),a=this._elementInfo.get(o);a&&(a.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(a))}focusVia(t,o,a){const d=Fv(t);d===this._getDocument().activeElement?this._getClosestElementsInfo(d).forEach(([g,_])=>this._originChanged(g,o,_)):(this._setOrigin(o),"function"==typeof d.focus&&d.focus(a))}ngOnDestroy(){this._elementInfo.forEach((t,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,o){t.classList.toggle("cdk-focused",!!o),t.classList.toggle("cdk-touch-focused","touch"===o),t.classList.toggle("cdk-keyboard-focused","keyboard"===o),t.classList.toggle("cdk-mouse-focused","mouse"===o),t.classList.toggle("cdk-program-focused","program"===o)}_setOrigin(t,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,o){const a=this._elementInfo.get(o),d=Cp(t);!a||!a.checkChildren&&o!==d||this._originChanged(o,this._getFocusOrigin(d),a)}_onBlur(t,o){const a=this._elementInfo.get(o);!a||a.checkChildren&&t.relatedTarget instanceof Node&&o.contains(t.relatedTarget)||(this._setClasses(o),this._emitOrigin(a,null))}_emitOrigin(t,o){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(o))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const o=t.rootNode,a=this._rootNodeFocusListenerCount.get(o)||0;a||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,Xb),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,Xb)}),this._rootNodeFocusListenerCount.set(o,a+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(xb(this._stopInputModalityDetector)).subscribe(d=>{this._setOrigin(d,!0)}))}_removeGlobalListeners(t){const o=t.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const a=this._rootNodeFocusListenerCount.get(o);a>1?this._rootNodeFocusListenerCount.set(o,a-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Xb),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Xb),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,o,a){this._setClasses(t,o),this._emitOrigin(a,o),this._lastFocusOrigin=o}_getClosestElementsInfo(t){const o=[];return this._elementInfo.forEach((a,d)=>{(d===t||a.checkChildren&&d.contains(t))&&o.push([d,a])}),o}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:o,mostRecentModality:a}=this._inputModalityDetector;if("mouse"!==a||!o||o===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const d=t.labels;if(d)for(let p=0;p<d.length;p++)if(d[p].contains(o))return!0;return!1}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Bt),ne(sa),ne(y3),ne(tn,8),ne(b3,8))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const SM="cdk-high-contrast-black-on-white",TM="cdk-high-contrast-white-on-black",yD="cdk-high-contrast-active";let xM=(()=>{class e{constructor(t,o){this._platform=t,this._document=o,this._breakpointSubscription=Oe(vM).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const o=this._document.defaultView||window,a=o&&o.getComputedStyle?o.getComputedStyle(t):null,d=(a&&a.backgroundColor||"").replace(/ /g,"");switch(t.remove(),d){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(yD,SM,TM),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?t.add(yD,SM):2===o&&t.add(yD,TM)}}static#e=this.\u0275fac=function(o){return new(o||e)(ne(sa),ne(tn))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),w3=(()=>{class e{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(o){return new(o||e)(ne(xM))};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({imports:[YU]})}return e})();const E3=["addListener","removeListener"],D3=["addEventListener","removeEventListener"],C3=["on","off"];function _D(e,i,t,o){if(be(t)&&(o=t,t=void 0),o)return _D(e,i,t).pipe(jE(o));const[a,d]=function T3(e){return be(e.addEventListener)&&be(e.removeEventListener)}(e)?D3.map(p=>g=>e[p](i,g,t)):function I3(e){return be(e.addListener)&&be(e.removeListener)}(e)?E3.map(AM(e,i)):function S3(e){return be(e.on)&&be(e.off)}(e)?C3.map(AM(e,i)):[];if(!a&&dn(e))return Ct(p=>_D(p,i,t))(an(e));if(!a)throw new TypeError("Invalid event target");return new ft(p=>{const g=(..._)=>p.next(1<_.length?_:_[0]);return a(g),()=>d(g)})}function AM(e,i){return t=>o=>e[t](i,o)}const d_={schedule(e){let i=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:o}=d_;o&&(i=o.requestAnimationFrame,t=o.cancelAnimationFrame);const a=i(d=>{t=void 0,e(d)});return new kt(()=>t?.(a))},requestAnimationFrame(...e){const{delegate:i}=d_;return(i?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:i}=d_;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};new class A3 extends gD{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let a;i=i||o.shift();do{if(a=i.execute(i.state,i.delay))break}while((i=o[0])&&i.id===t&&o.shift());if(this._active=!1,a){for(;(i=o[0])&&i.id===t&&o.shift();)i.unsubscribe();throw a}}}(class x3 extends mD{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,o=0){return null!==o&&o>0?super.requestAsyncId(i,t,o):(i.actions.push(this),i._scheduled||(i._scheduled=d_.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,t,o=0){var a;if(null!=o?o>0:this.delay>0)return super.recycleAsyncId(i,t,o);const{actions:d}=i;null!=t&&(null===(a=d[d.length-1])||void 0===a?void 0:a.id)!==t&&(d_.cancelAnimationFrame(t),i._scheduled=void 0)}});let bD,R3=1;const Qb={};function MM(e){return e in Qb&&(delete Qb[e],!0)}const k3={setImmediate(e){const i=R3++;return Qb[i]=!0,bD||(bD=Promise.resolve()),bD.then(()=>MM(i)&&e()),i},clearImmediate(e){MM(e)}},{setImmediate:O3,clearImmediate:N3}=k3,Jb={setImmediate(...e){const{delegate:i}=Jb;return(i?.setImmediate||O3)(...e)},clearImmediate(e){const{delegate:i}=Jb;return(i?.clearImmediate||N3)(e)},delegate:void 0};new class F3 extends gD{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let a;i=i||o.shift();do{if(a=i.execute(i.state,i.delay))break}while((i=o[0])&&i.id===t&&o.shift());if(this._active=!1,a){for(;(i=o[0])&&i.id===t&&o.shift();)i.unsubscribe();throw a}}}(class P3 extends mD{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,o=0){return null!==o&&o>0?super.requestAsyncId(i,t,o):(i.actions.push(this),i._scheduled||(i._scheduled=Jb.setImmediate(i.flush.bind(i,void 0))))}recycleAsyncId(i,t,o=0){var a;if(null!=o?o>0:this.delay>0)return super.recycleAsyncId(i,t,o);const{actions:d}=i;null!=t&&(null===(a=d[d.length-1])||void 0===a?void 0:a.id)!==t&&(Jb.clearImmediate(t),i._scheduled===t&&(i._scheduled=void 0))}});function RM(e,i=vD){return function j3(e){return me((i,t)=>{let o=!1,a=null,d=null,p=!1;const g=()=>{if(d?.unsubscribe(),d=null,o){o=!1;const E=a;a=null,t.next(E)}p&&t.complete()},_=()=>{d=null,p&&t.complete()};i.subscribe(Ie(t,E=>{o=!0,a=E,d||an(e(E)).subscribe(d=Ie(t,g,_))},()=>{p=!0,(!o||!d||d.closed)&&t.complete()}))})}(()=>function V3(e=0,i,t=XU){let o=-1;return null!=i&&(In(i)?t=i:o=i),new ft(a=>{let d=function B3(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;d<0&&(d=0);let p=0;return t.schedule(function(){a.closed||(a.next(p++),0<=o?this.schedule(void 0,o):a.complete())},d)})}(e,i))}const U3=new Te("cdk-dir-doc",{providedIn:"root",factory:function H3(){return Oe(tn)}}),z3=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let wD=(()=>{class e{constructor(t){this.value="ltr",this.change=new Xi,t&&(this.value=function $3(e){const i=e?.toLowerCase()||"";return"auto"===i&&typeof navigator<"u"&&navigator?.language?z3.test(navigator.language)?"rtl":"ltr":"rtl"===i?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(o){return new(o||e)(ne(U3,8))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),h_=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({})}return e})(),G3=(()=>{class e{constructor(t,o,a){this._ngZone=t,this._platform=o,this._scrolled=new Y,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const o=this.scrollContainers.get(t);o&&(o.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ft(o=>{this._globalSubscription||this._addGlobalListener();const a=t>0?this._scrolled.pipe(RM(t)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Je()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(t,o){const a=this.getAncestorScrollContainers(t);return this.scrolled(o).pipe(Li(d=>!d||a.indexOf(d)>-1))}getAncestorScrollContainers(t){const o=[];return this.scrollContainers.forEach((a,d)=>{this._scrollableContainsElement(d,t)&&o.push(d)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,o){let a=Fv(o),d=t.getElementRef().nativeElement;do{if(a==d)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>_D(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Bt),ne(sa),ne(tn,8))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),kM=(()=>{class e{constructor(t,o,a){this._platform=t,this._change=new Y,this._changeListener=d=>{this._change.next(d)},this._document=a,o.runOutsideAngular(()=>{if(t.isBrowser){const d=this._getWindow();d.addEventListener("resize",this._changeListener),d.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:o,height:a}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+a,right:t.left+o,height:a,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,o=this._getWindow(),a=t.documentElement,d=a.getBoundingClientRect();return{top:-d.top||t.body.scrollTop||o.scrollY||a.scrollTop||0,left:-d.left||t.body.scrollLeft||o.scrollX||a.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(RM(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(o){return new(o||e)(ne(sa),ne(Bt),ne(tn,8))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),OM=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({})}return e})(),NM=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({imports:[h_,OM,h_,OM]})}return e})();class ED{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class DD extends ED{constructor(i,t,o,a,d){super(),this.component=i,this.viewContainerRef=t,this.injector=o,this.componentFactoryResolver=a,this.projectableNodes=d}}class PM extends ED{constructor(i,t,o,a){super(),this.templateRef=i,this.viewContainerRef=t,this.context=o,this.injector=a}get origin(){return this.templateRef.elementRef}attach(i,t=this.context){return this.context=t,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class K3 extends ED{constructor(i){super(),this.element=i instanceof m?i.nativeElement:i}}class CD{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof DD?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof PM?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof K3?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Y3 extends CD{constructor(i,t,o,a,d){super(),this.outletElement=i,this._componentFactoryResolver=t,this._appRef=o,this._defaultInjector=a,this.attachDomPortal=p=>{const g=p.element,_=this._document.createComment("dom-portal");g.parentNode.insertBefore(_,g),this.outletElement.appendChild(g),this._attachedPortal=p,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(g,_)})},this._document=d}attachComponentPortal(i){const o=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let a;return i.viewContainerRef?(a=i.viewContainerRef.createComponent(o,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector,i.projectableNodes||void 0),this.setDisposeFn(()=>a.destroy())):(a=o.create(i.injector||this._defaultInjector||Xr.NULL),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=i,a}attachTemplatePortal(i){let t=i.viewContainerRef,o=t.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return o.rootNodes.forEach(a=>this.outletElement.appendChild(a)),o.detectChanges(),this.setDisposeFn(()=>{let a=t.indexOf(o);-1!==a&&t.remove(a)}),this._attachedPortal=i,o}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let e0=(()=>{class e extends CD{constructor(t,o,a){super(),this._componentFactoryResolver=t,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new Xi,this.attachDomPortal=d=>{const p=d.element,g=this._document.createComment("dom-portal");d.setAttachedHost(this),p.parentNode.insertBefore(g,p),this._getRootNode().appendChild(p),this._attachedPortal=d,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(p,g)})},this._document=a}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const o=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,d=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),p=o.createComponent(d,o.length,t.injector||o.injector,t.projectableNodes||void 0);return o!==this._viewContainerRef&&this._getRootNode().appendChild(p.hostView.rootNodes[0]),super.setDisposeFn(()=>p.destroy()),this._attachedPortal=t,this._attachedRef=p,this.attached.emit(p),p}attachTemplatePortal(t){t.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(o){return new(o||e)(_e(s),_e(jc),_e(tn))};static#t=this.\u0275dir=_n({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[$u]})}return e})(),f_=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({})}return e})();const FM=BU();class Z3{constructor(i,t){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=ji(-this._previousScrollPosition.left),i.style.top=ji(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,o=i.style,a=this._document.body.style,d=o.scrollBehavior||"",p=a.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),FM&&(o.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),FM&&(o.scrollBehavior=d,a.scrollBehavior=p)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,o=this._viewportRuler.getViewportSize();return t.scrollHeight>o.height||t.scrollWidth>o.width}}class X3{constructor(i,t,o,a){this._scrollDispatcher=i,this._ngZone=t,this._viewportRuler=o,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0).pipe(Li(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class LM{enable(){}disable(){}attach(){}}function ID(e,i){return i.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function jM(e,i){return i.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class Q3{constructor(i,t,o,a){this._scrollDispatcher=i,this._viewportRuler=t,this._ngZone=o,this._config=a,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:a}=this._viewportRuler.getViewportSize();ID(t,[{width:o,height:a,bottom:a,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let J3=(()=>{class e{constructor(t,o,a,d){this._scrollDispatcher=t,this._viewportRuler=o,this._ngZone=a,this.noop=()=>new LM,this.close=p=>new X3(this._scrollDispatcher,this._ngZone,this._viewportRuler,p),this.block=()=>new Z3(this._viewportRuler,this._document),this.reposition=p=>new Q3(this._scrollDispatcher,this._viewportRuler,this._ngZone,p),this._document=d}static#e=this.\u0275fac=function(o){return new(o||e)(ne(G3),ne(kM),ne(Bt),ne(tn))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class BM{constructor(i){if(this.scrollStrategy=new LM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const t=Object.keys(i);for(const o of t)void 0!==i[o]&&(this[o]=i[o])}}}class eH{constructor(i,t){this.connectionPair=i,this.scrollableViewProperties=t}}let VM=(()=>{class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const o=this._attachedOverlays.indexOf(t);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(o){return new(o||e)(ne(tn))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tH=(()=>{class e extends VM{constructor(t,o){super(t),this._ngZone=o,this._keydownListener=a=>{const d=this._attachedOverlays;for(let p=d.length-1;p>-1;p--)if(d[p]._keydownEvents.observers.length>0){const g=d[p]._keydownEvents;this._ngZone?this._ngZone.run(()=>g.next(a)):g.next(a);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(tn),ne(Bt,8))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nH=(()=>{class e extends VM{constructor(t,o,a){super(t),this._platform=o,this._ngZone=a,this._cursorStyleIsSet=!1,this._pointerDownListener=d=>{this._pointerDownEventTarget=Cp(d)},this._clickListener=d=>{const p=Cp(d),g="click"===d.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:p;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let E=_.length-1;E>-1;E--){const I=_[E];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(p)||I.overlayElement.contains(g))break;const R=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(d)):R.next(d)}}}add(t){if(super.add(t),!this._isAttached){const o=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(o)):this._addEventListeners(o),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(tn),ne(sa),ne(Bt,8))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),t0=(()=>{class e{constructor(t,o){this._platform=o,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||hD()){const a=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let d=0;d<a.length;d++)a[d].remove()}const o=this._document.createElement("div");o.classList.add(t),hD()?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}static#e=this.\u0275fac=function(o){return new(o||e)(ne(tn),ne(sa))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Bv{constructor(i,t,o,a,d,p,g,_,E,I=!1){this._portalOutlet=i,this._host=t,this._pane=o,this._config=a,this._ngZone=d,this._keyboardDispatcher=p,this._document=g,this._location=_,this._outsideClickDispatcher=E,this._animationsDisabled=I,this._backdropElement=null,this._backdropClick=new Y,this._attachments=new Y,this._detachments=new Y,this._locationChanges=kt.EMPTY,this._backdropClickHandler=R=>this._backdropClick.next(R),this._backdropTransitionendHandler=R=>{this._disposeBackdrop(R.target)},this._keydownEvents=new Y,this._outsidePointerEvents=new Y,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(es(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config={...this._config,...i},this._updateElementSize()}setDirection(i){this._config={...this._config,direction:i},this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=ji(this._config.width),i.height=ji(this._config.height),i.minWidth=ji(this._config.minWidth),i.minHeight=ji(this._config.minHeight),i.maxWidth=ji(this._config.maxWidth),i.maxHeight=ji(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const i=this._backdropElement;if(i){if(this._animationsDisabled)return void this._disposeBackdrop(i);i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",this._backdropTransitionendHandler)}),i.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(i)},500))}}_toggleClasses(i,t,o){const a=Kb(t||[]).filter(d=>!!d);a.length&&(o?i.classList.add(...a):i.classList.remove(...a))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(xb(gi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}_disposeBackdrop(i){i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",this._backdropTransitionendHandler),i.remove(),this._backdropElement===i&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const UM="cdk-overlay-connected-position-bounding-box",rH=/([A-Za-z%]+)$/;class iH{get positions(){return this._preferredPositions}constructor(i,t,o,a,d){this._viewportRuler=t,this._document=o,this._platform=a,this._overlayContainer=d,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Y,this._resizeSubscription=kt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}attach(i){this._validatePositions(),i.hostElement.classList.add(UM),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const i=this._originRect,t=this._overlayRect,o=this._viewportRect,a=this._containerRect,d=[];let p;for(let g of this._preferredPositions){let _=this._getOriginPoint(i,a,g),E=this._getOverlayPoint(_,t,g),I=this._getOverlayFit(E,t,o,g);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(g,_);this._canFitWithFlexibleDimensions(I,E,o)?d.push({position:g,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,g)}):(!p||p.overlayFit.visibleArea<I.visibleArea)&&(p={overlayFit:I,overlayPoint:E,originPoint:_,position:g,overlayRect:t})}if(d.length){let g=null,_=-1;for(const E of d){const I=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);I>_&&(_=I,g=E)}return this._isPushed=!1,void this._applyPosition(g.position,g.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(p.position,p.originPoint);this._applyPosition(p.position,p.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ng(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(UM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,t)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,t,o){let a,d;if("center"==o.originX)a=i.left+i.width/2;else{const p=this._isRtl()?i.right:i.left,g=this._isRtl()?i.left:i.right;a="start"==o.originX?p:g}return t.left<0&&(a-=t.left),d="center"==o.originY?i.top+i.height/2:"top"==o.originY?i.top:i.bottom,t.top<0&&(d-=t.top),{x:a,y:d}}_getOverlayPoint(i,t,o){let a,d;return a="center"==o.overlayX?-t.width/2:"start"===o.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,d="center"==o.overlayY?-t.height/2:"top"==o.overlayY?0:-t.height,{x:i.x+a,y:i.y+d}}_getOverlayFit(i,t,o,a){const d=zM(t);let{x:p,y:g}=i,_=this._getOffset(a,"x"),E=this._getOffset(a,"y");_&&(p+=_),E&&(g+=E);let F=0-g,j=g+d.height-o.height,H=this._subtractOverflows(d.width,0-p,p+d.width-o.width),W=this._subtractOverflows(d.height,F,j),fe=H*W;return{visibleArea:fe,isCompletelyWithinViewport:d.width*d.height===fe,fitsInViewportVertically:W===d.height,fitsInViewportHorizontally:H==d.width}}_canFitWithFlexibleDimensions(i,t,o){if(this._hasFlexibleDimensions){const a=o.bottom-t.y,d=o.right-t.x,p=HM(this._overlayRef.getConfig().minHeight),g=HM(this._overlayRef.getConfig().minWidth);return(i.fitsInViewportVertically||null!=p&&p<=a)&&(i.fitsInViewportHorizontally||null!=g&&g<=d)}return!1}_pushOverlayOnScreen(i,t,o){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const a=zM(t),d=this._viewportRect,p=Math.max(i.x+a.width-d.width,0),g=Math.max(i.y+a.height-d.height,0),_=Math.max(d.top-o.top-i.y,0),E=Math.max(d.left-o.left-i.x,0);let I=0,R=0;return I=a.width<=d.width?E||-p:i.x<this._viewportMargin?d.left-o.left-i.x:0,R=a.height<=d.height?_||-g:i.y<this._viewportMargin?d.top-o.top-i.y:0,this._previousPushAmount={x:I,y:R},{x:i.x+I,y:i.y+R}}_applyPosition(i,t){if(this._setTransformOrigin(i),this._setOverlayElementStyles(t,i),this._setBoundingBoxStyles(t,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._lastPosition=i,this._positionChanges.observers.length){const o=this._getScrollVisibility(),a=new eH(i,o);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,a=i.overlayY;o="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let d=0;d<t.length;d++)t[d].style.transformOrigin=`${o} ${a}`}_calculateBoundingBoxRect(i,t){const o=this._viewportRect,a=this._isRtl();let d,p,g,I,R,F;if("top"===t.overlayY)p=i.y,d=o.height-p+this._viewportMargin;else if("bottom"===t.overlayY)g=o.height-i.y+2*this._viewportMargin,d=o.height-g+this._viewportMargin;else{const j=Math.min(o.bottom-i.y+o.top,i.y),H=this._lastBoundingBoxSize.height;d=2*j,p=i.y-j,d>H&&!this._isInitialRender&&!this._growAfterOpen&&(p=i.y-H/2)}if("end"===t.overlayX&&!a||"start"===t.overlayX&&a)F=o.width-i.x+this._viewportMargin,I=i.x-this._viewportMargin;else if("start"===t.overlayX&&!a||"end"===t.overlayX&&a)R=i.x,I=o.right-i.x;else{const j=Math.min(o.right-i.x+o.left,i.x),H=this._lastBoundingBoxSize.width;I=2*j,R=i.x-j,I>H&&!this._isInitialRender&&!this._growAfterOpen&&(R=i.x-H/2)}return{top:p,left:R,bottom:g,right:F,width:I,height:d}}_setBoundingBoxStyles(i,t){const o=this._calculateBoundingBoxRect(i,t);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const d=this._overlayRef.getConfig().maxHeight,p=this._overlayRef.getConfig().maxWidth;a.height=ji(o.height),a.top=ji(o.top),a.bottom=ji(o.bottom),a.width=ji(o.width),a.left=ji(o.left),a.right=ji(o.right),a.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",a.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",d&&(a.maxHeight=ji(d)),p&&(a.maxWidth=ji(p))}this._lastBoundingBoxSize=o,ng(this._boundingBox.style,a)}_resetBoundingBoxStyles(){ng(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ng(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,t){const o={},a=this._hasExactPosition(),d=this._hasFlexibleDimensions,p=this._overlayRef.getConfig();if(a){const I=this._viewportRuler.getViewportScrollPosition();ng(o,this._getExactOverlayY(t,i,I)),ng(o,this._getExactOverlayX(t,i,I))}else o.position="static";let g="",_=this._getOffset(t,"x"),E=this._getOffset(t,"y");_&&(g+=`translateX(${_}px) `),E&&(g+=`translateY(${E}px)`),o.transform=g.trim(),p.maxHeight&&(a?o.maxHeight=ji(p.maxHeight):d&&(o.maxHeight="")),p.maxWidth&&(a?o.maxWidth=ji(p.maxWidth):d&&(o.maxWidth="")),ng(this._pane.style,o)}_getExactOverlayY(i,t,o){let a={top:"",bottom:""},d=this._getOverlayPoint(t,this._overlayRect,i);return this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,o)),"bottom"===i.overlayY?a.bottom=this._document.documentElement.clientHeight-(d.y+this._overlayRect.height)+"px":a.top=ji(d.y),a}_getExactOverlayX(i,t,o){let p,a={left:"",right:""},d=this._getOverlayPoint(t,this._overlayRect,i);return this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,o)),p=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===p?a.right=this._document.documentElement.clientWidth-(d.x+this._overlayRect.width)+"px":a.left=ji(d.x),a}_getScrollVisibility(){const i=this._getOriginRect(),t=this._pane.getBoundingClientRect(),o=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jM(i,o),isOriginOutsideView:ID(i,o),isOverlayClipped:jM(t,o),isOverlayOutsideView:ID(t,o)}}_subtractOverflows(i,...t){return t.reduce((o,a)=>o-Math.max(a,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+i-this._viewportMargin,bottom:o.top+t-this._viewportMargin,width:i-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,t){return"x"===t?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Kb(i).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof m)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const t=i.width||0,o=i.height||0;return{top:i.y,bottom:i.y+o,left:i.x,right:i.x+t,height:o,width:t}}}function ng(e,i){for(let t in i)i.hasOwnProperty(t)&&(e[t]=i[t]);return e}function HM(e){if("number"!=typeof e&&null!=e){const[i,t]=e.split(rH);return t&&"px"!==t?null:parseFloat(i)}return e||null}function zM(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}const $M="cdk-global-overlay-wrapper";class oH{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(i){const t=i.getConfig();this._overlayRef=i,this._width&&!t.width&&i.updateSize({width:this._width}),this._height&&!t.height&&i.updateSize({height:this._height}),i.hostElement.classList.add($M),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:a,height:d,maxWidth:p,maxHeight:g}=o,_=!("100%"!==a&&"100vw"!==a||p&&"100%"!==p&&"100vw"!==p),E=!("100%"!==d&&"100vh"!==d||g&&"100%"!==g&&"100vh"!==g),I=this._xPosition,R=this._xOffset,F="rtl"===this._overlayRef.getConfig().direction;let j="",H="",W="";_?W="flex-start":"center"===I?(W="center",F?H=R:j=R):F?"left"===I||"end"===I?(W="flex-end",j=R):("right"===I||"start"===I)&&(W="flex-start",H=R):"left"===I||"start"===I?(W="flex-start",j=R):("right"===I||"end"===I)&&(W="flex-end",H=R),i.position=this._cssPosition,i.marginLeft=_?"0":j,i.marginTop=E?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=_?"0":H,t.justifyContent=W,t.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,o=t.style;t.classList.remove($M),o.justifyContent=o.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let sH=(()=>{class e{constructor(t,o,a,d){this._viewportRuler=t,this._document=o,this._platform=a,this._overlayContainer=d}global(){return new oH}flexibleConnectedTo(t){return new iH(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(kM),ne(tn),ne(sa),ne(t0))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),aH=0,rg=(()=>{class e{constructor(t,o,a,d,p,g,_,E,I,R,F,j){this.scrollStrategies=t,this._overlayContainer=o,this._componentFactoryResolver=a,this._positionBuilder=d,this._keyboardDispatcher=p,this._injector=g,this._ngZone=_,this._document=E,this._directionality=I,this._location=R,this._outsideClickDispatcher=F,this._animationsModuleType=j}create(t){const o=this._createHostElement(),a=this._createPaneElement(o),d=this._createPortalOutlet(a),p=new BM(t);return p.direction=p.direction||this._directionality.value,new Bv(d,o,a,p,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const o=this._document.createElement("div");return o.id="cdk-overlay-"+aH++,o.classList.add("cdk-overlay-pane"),t.appendChild(o),o}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(_p)),new Y3(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(J3),ne(t0),ne(s),ne(sH),ne(tH),ne(Xr),ne(Bt),ne(tn),ne(wD),ne(Vy),ne(nH),ne(Qo,8))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const lH={provide:new Te("cdk-connected-overlay-scroll-strategy"),deps:[rg],useFactory:function uH(e){return()=>e.scrollStrategies.reposition()}};let qM=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({providers:[rg,lH],imports:[h_,f_,NM,NM]})}return e})();function dH(e,i){}class p_{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let SD=(()=>{class e extends CD{constructor(t,o,a,d,p,g,_,E){super(),this._elementRef=t,this._focusTrapFactory=o,this._config=d,this._interactivityChecker=p,this._ngZone=g,this._overlayRef=_,this._focusMonitor=E,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=I=>{this._portalOutlet.hasAttached();const R=this._portalOutlet.attachDomPortal(I);return this._contentAttached(),R},this._document=a,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const o=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),o}attachTemplatePortal(t){this._portalOutlet.hasAttached();const o=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),o}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,o){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const a=()=>{t.removeEventListener("blur",a),t.removeEventListener("mousedown",a),t.removeAttribute("tabindex")};t.addEventListener("blur",a),t.addEventListener("mousedown",a)})),t.focus(o)}_focusByCssSelector(t,o){let a=this._elementRef.nativeElement.querySelector(t);a&&this._forceFocus(a,o)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(o=>{o||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let o=null;if("string"==typeof t?o=this._document.querySelector(t):"boolean"==typeof t?o=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(o=t),this._config.restoreFocus&&o&&"function"==typeof o.focus){const a=dD(),d=this._elementRef.nativeElement;(!a||a===this._document.body||a===d||d.contains(a))&&(this._focusMonitor?(this._focusMonitor.focusVia(o,this._closeInteractionType),this._closeInteractionType=null):o.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,o=dD();return t===o||t.contains(o)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=dD())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(o){return new(o||e)(_e(m),_e(Zb),_e(tn,8),_e(p_),_e(u_),_e(Bt),_e(Bv),_e(l_))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(o,a){if(1&o&&fT(e0,7),2&o){let d;jw(d=function Bw(){return function cF(e,i){return e[va].queries[i].queryList}(de(),Sl())}())&&(a._portalOutlet=d.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(o,a){2&o&&Gh("id",a._config.id||null)("role",a._config.role)("aria-modal",a._config.ariaModal)("aria-labelledby",a._config.ariaLabel?null:a._ariaLabelledByQueue[0])("aria-label",a._config.ariaLabel)("aria-describedby",a._config.ariaDescribedBy||null)},features:[$u],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(o,a){1&o&&ra(0,dH,0,0,"ng-template",0)},dependencies:[e0],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return e})();class TD{constructor(i,t){this.overlayRef=i,this.config=t,this.closed=new Y,this.disableClose=t.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(o=>{27===o.keyCode&&!this.disableClose&&!pD(o)&&(o.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(i,t){if(this.containerInstance){const o=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),o.next(i),o.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",t=""){return this.overlayRef.updateSize({width:i,height:t}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}}const GM=new Te("DialogScrollStrategy"),hH=new Te("DialogData"),fH=new Te("DefaultDialogConfig"),mH={provide:GM,deps:[rg],useFactory:function pH(e){return()=>e.scrollStrategies.block()}};let gH=0,xD=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,o,a,d,p,g){this._overlay=t,this._injector=o,this._defaultOptions=a,this._parentDialog=d,this._overlayContainer=p,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Y,this._afterOpenedAtThisLevel=new Y,this._ariaHiddenElements=new Map,this.afterAllClosed=Cb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ib(void 0))),this._scrollStrategy=g}open(t,o){(o={...this._defaultOptions||new p_,...o}).id=o.id||"cdk-dialog-"+gH++,o.id&&this.getDialogById(o.id);const d=this._getOverlayConfig(o),p=this._overlay.create(d),g=new TD(p,o),_=this._attachContainer(p,g,o);return g.containerInstance=_,this._attachDialogContent(t,g,_,o),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(g),g.closed.subscribe(()=>this._removeOpenDialog(g,!0)),this.afterOpened.next(g),g}closeAll(){AD(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(o=>o.id===t)}ngOnDestroy(){AD(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),AD(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const o=new BM({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(o.backdropClass=t.backdropClass),o}_attachContainer(t,o,a){const d=a.injector||a.viewContainerRef?.injector,p=[{provide:p_,useValue:a},{provide:TD,useValue:o},{provide:Bv,useValue:t}];let g;a.container?"function"==typeof a.container?g=a.container:(g=a.container.type,p.push(...a.container.providers(a))):g=SD;const _=new DD(g,a.viewContainerRef,Xr.create({parent:d||this._injector,providers:p}),a.componentFactoryResolver);return t.attach(_).instance}_attachDialogContent(t,o,a,d){if(t instanceof vd){const p=this._createInjector(d,o,a,void 0);let g={$implicit:d.data,dialogRef:o};d.templateContext&&(g={...g,..."function"==typeof d.templateContext?d.templateContext():d.templateContext}),a.attachTemplatePortal(new PM(t,null,g,p))}else{const p=this._createInjector(d,o,a,this._injector),g=a.attachComponentPortal(new DD(t,d.viewContainerRef,p,d.componentFactoryResolver));o.componentRef=g,o.componentInstance=g.instance}}_createInjector(t,o,a,d){const p=t.injector||t.viewContainerRef?.injector,g=[{provide:hH,useValue:t.data},{provide:TD,useValue:o}];return t.providers&&("function"==typeof t.providers?g.push(...t.providers(o,t,a)):g.push(...t.providers)),t.direction&&(!p||!p.get(wD,null,{optional:!0}))&&g.push({provide:wD,useValue:{value:t.direction,change:Je()}}),Xr.create({parent:p||d,providers:g})}_removeOpenDialog(t,o){const a=this.openDialogs.indexOf(t);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((d,p)=>{d?p.setAttribute("aria-hidden",d):p.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),o&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const o=t.parentElement.children;for(let a=o.length-1;a>-1;a--){const d=o[a];d!==t&&"SCRIPT"!==d.nodeName&&"STYLE"!==d.nodeName&&!d.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(d,d.getAttribute("aria-hidden")),d.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(o){return new(o||e)(ne(rg),ne(Xr),ne(fH,8),ne(e,12),ne(t0),ne(GM))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();function AD(e,i){let t=e.length;for(;t--;)i(e[t])}let WM=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({providers:[xD,mH],imports:[qM,f_,w3,f_]})}return e})(),ZM=(()=>{class e{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#r=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return e})(),XM=(()=>{class e{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return e})();const yH=new Te("mat-sanity-checks",{providedIn:"root",factory:function vH(){return!0}});let Uc=(()=>{class e{constructor(t,o,a){this._sanityChecks=o,this._document=a,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!hD()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(o){return new(o||e)(ne(xM),ne(yH,8),ne(tn))};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({imports:[h_,h_]})}return e})();function _H(e){return class extends e{get disabled(){return this._disabled}set disabled(i){this._disabled=Pv(i)}constructor(...i){super(...i),this._disabled=!1}}}function QM(e,i){return class extends e{get color(){return this._color}set color(t){const o=t||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}constructor(...t){super(...t),this.defaultColor=i,this.color=i}}}function bH(e){return class extends e{get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=Pv(i)}constructor(...i){super(...i),this._disableRipple=!1}}}class EH{constructor(i,t,o,a=!1){this._renderer=i,this.element=t,this.config=o,this._animationForciblyDisabledThroughCss=a,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const JM=Gb({passive:!0,capture:!0});class DH{constructor(){this._events=new Map,this._delegateEventHandler=i=>{const t=Cp(i);t&&this._events.get(i.type)?.forEach((o,a)=>{(a===t||a.contains(t))&&o.forEach(d=>d.handleEvent(i))})}}addHandler(i,t,o,a){const d=this._events.get(t);if(d){const p=d.get(o);p?p.add(a):d.set(o,new Set([a]))}else this._events.set(t,new Map([[o,new Set([a])]])),i.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,JM)})}removeHandler(i,t,o){const a=this._events.get(i);if(!a)return;const d=a.get(t);d&&(d.delete(o),0===d.size&&a.delete(t),0===a.size&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,JM)))}}const eR={enterDuration:225,exitDuration:150},tR=Gb({passive:!0,capture:!0}),nR=["mousedown","touchstart"],rR=["mouseup","mouseleave","touchend","touchcancel"];class n0{static#e=this._eventManager=new DH;constructor(i,t,o,a){this._target=i,this._ngZone=t,this._platform=a,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=Fv(o))}fadeInRipple(i,t,o={}){const a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),d={...eR,...o.animation};o.centered&&(i=a.left+a.width/2,t=a.top+a.height/2);const p=o.radius||function IH(e,i,t){const o=Math.max(Math.abs(e-t.left),Math.abs(e-t.right)),a=Math.max(Math.abs(i-t.top),Math.abs(i-t.bottom));return Math.sqrt(o*o+a*a)}(i,t,a),g=i-a.left,_=t-a.top,E=d.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=g-p+"px",I.style.top=_-p+"px",I.style.height=2*p+"px",I.style.width=2*p+"px",null!=o.color&&(I.style.backgroundColor=o.color),I.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(I);const R=window.getComputedStyle(I),j=R.transitionDuration,H="none"===R.transitionProperty||"0s"===j||"0s, 0s"===j||0===a.width&&0===a.height,W=new EH(this,I,o,H);I.style.transform="scale3d(1, 1, 1)",W.state=0,o.persistent||(this._mostRecentTransientRipple=W);let fe=null;return!H&&(E||d.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ee=()=>this._finishRippleTransition(W),ae=()=>this._destroyRipple(W);I.addEventListener("transitionend",Ee),I.addEventListener("transitioncancel",ae),fe={onTransitionEnd:Ee,onTransitionCancel:ae}}),this._activeRipples.set(W,fe),(H||!E)&&this._finishRippleTransition(W),W}fadeOutRipple(i){if(2===i.state||3===i.state)return;const t=i.element,o={...eR,...i.config.animation};t.style.transitionDuration=`${o.exitDuration}ms`,t.style.opacity="0",i.state=2,(i._animationForciblyDisabledThroughCss||!o.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const t=Fv(i);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,nR.forEach(o=>{n0._eventManager.addHandler(this._ngZone,o,t,this)}))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{rR.forEach(t=>{this._triggerElement.addEventListener(t,this,tR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){0===i.state?this._startFadeOutTransition(i):2===i.state&&this._destroyRipple(i)}_startFadeOutTransition(i){const t=i===this._mostRecentTransientRipple,{persistent:o}=i.config;i.state=1,!o&&(!t||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){const t=this._activeRipples.get(i)??null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=3,null!==t&&(i.element.removeEventListener("transitionend",t.onTransitionEnd),i.element.removeEventListener("transitioncancel",t.onTransitionCancel)),i.element.remove()}_onMousedown(i){const t=DM(i),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!o&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!CM(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=i.changedTouches;if(t)for(let o=0;o<t.length;o++)this.fadeInRipple(t[o].clientX,t[o].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{!i.config.persistent&&(1===i.state||i.config.terminateOnPointerUp&&0===i.state)&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const i=this._triggerElement;i&&(nR.forEach(t=>n0._eventManager.removeHandler(t,i,this)),this._pointerUpEventsRegistered&&rR.forEach(t=>i.removeEventListener(t,this,tR)))}}const iR=new Te("mat-ripple-global-options");let SH=(()=>{class e{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,o,a,d,p){this._elementRef=t,this._animationMode=p,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=d||{},this._rippleRenderer=new n0(this,o,t,a)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,o=0,a){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,o,{...this.rippleConfig,...a}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(o){return new(o||e)(_e(m),_e(Bt),_e(sa),_e(iR,8),_e(Qo,8))};static#t=this.\u0275dir=_n({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(o,a){2&o&&qu("mat-ripple-unbounded",a.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return e})(),TH=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({imports:[Uc,Uc]})}return e})();const oR={capture:!0},sR=["focus","click","mouseenter","touchstart"],MD="mat-ripple-loader-uninitialized",RD="mat-ripple-loader-class-name",aR="mat-ripple-loader-centered",r0="mat-ripple-loader-disabled";let xH=(()=>{class e{constructor(){this._document=Oe(tn,{optional:!0}),this._animationMode=Oe(Qo,{optional:!0}),this._globalRippleOptions=Oe(iR,{optional:!0}),this._platform=Oe(sa),this._ngZone=Oe(Bt),this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const a=t.target.closest(`[${MD}]`);a&&this.createRipple(a)},this._ngZone.runOutsideAngular(()=>{for(const t of sR)this._document?.addEventListener(t,this._onInteraction,oR)})}ngOnDestroy(){for(const t of sR)this._document?.removeEventListener(t,this._onInteraction,oR)}configureRipple(t,o){t.setAttribute(MD,""),(o.className||!t.hasAttribute(RD))&&t.setAttribute(RD,o.className||""),o.centered&&t.setAttribute(aR,""),o.disabled&&t.setAttribute(r0,"")}getRipple(t){return t.matRipple?t.matRipple:this.createRipple(t)}setDisabled(t,o){const a=t.matRipple;a?a.disabled=o:o?t.setAttribute(r0,""):t.removeAttribute(r0)}createRipple(t){if(!this._document)return;t.querySelector(".mat-ripple")?.remove();const o=this._document.createElement("span");o.classList.add("mat-ripple",t.getAttribute(RD)),t.append(o);const a=new SH(new m(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return a._isInitialized=!0,a.trigger=t,a.centered=t.hasAttribute(aR),a.disabled=t.hasAttribute(r0),this.attachRipple(t,a),a}attachRipple(t,o){t.removeAttribute(MD),t.matRipple=o}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class cR{}class AH{}const ef="*";function uR(e,i){return{type:7,name:e,definitions:i,options:{}}}function o0(e,i=null){return{type:4,styles:i,timings:e}}function s0(e,i=null){return{type:3,steps:e,options:i}}function lR(e,i=null){return{type:2,steps:e,options:i}}function Ip(e){return{type:6,styles:e,offset:null}}function a0(e,i,t){return{type:0,name:e,styles:i,options:t}}function c0(e,i,t=null){return{type:1,expr:e,animation:i,options:t}}function u0(e=null){return{type:9,options:e}}function l0(e,i,t=null){return{type:11,selector:e,animation:i,options:t}}class g_{constructor(i=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class dR{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let t=0,o=0,a=0;const d=this.players.length;0==d?queueMicrotask(()=>this._onFinish()):this.players.forEach(p=>{p.onDone(()=>{++t==d&&this._onFinish()}),p.onDestroy(()=>{++o==d&&this._onDestroy()}),p.onStart(()=>{++a==d&&this._onStart()})}),this.totalTime=this.players.reduce((p,g)=>Math.max(p,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const t=i*this.totalTime;this.players.forEach(o=>{const a=o.totalTime?Math.min(1,t/o.totalTime):1;o.setPosition(a)})}getPosition(){const i=this.players.reduce((t,o)=>null===t||o.totalTime>t.totalTime?o:t,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}function MH(e,i){}const RH={bottomSheetState:uR("state",[a0("void, hidden",Ip({transform:"translateY(100%)"})),a0("visible",Ip({transform:"translateY(0%)"})),c0("visible => void, visible => hidden",s0([o0(`${XM.COMPLEX} ${ZM.ACCELERATION_CURVE}`),l0("@*",u0(),{optional:!0})])),c0("void => visible",s0([o0(`${XM.EXITING} ${ZM.DECELERATION_CURVE}`),l0("@*",u0(),{optional:!0})]))])};let kH=(()=>{class e extends SD{constructor(t,o,a,d,p,g,_,E,I,R){super(t,o,a,d,p,g,_,R),this._changeDetectorRef=I,this._animationState="void",this._animationStateChanged=new Xi,this._breakpointSubscription=E.observe([Lv_Medium,Lv_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",E.isMatched(Lv_Medium)),this._toggleClass("mat-bottom-sheet-container-large",E.isMatched(Lv_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",E.isMatched("(min-width: 1920px)"))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}_toggleClass(t,o){this._elementRef.nativeElement.classList.toggle(t,o)}static#e=this.\u0275fac=function(o){return new(o||e)(_e(m),_e(Zb),_e(tn,8),_e(p_),_e(u_),_e(Bt),_e(Bv),_e(vM),_e(rb),_e(l_))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(o,a){1&o&&hw("@state.start",function(p){return a._onAnimationStart(p)})("@state.done",function(p){return a._onAnimationDone(p)}),2&o&&(Gh("role",a._config.role)("aria-modal",a._config.ariaModal)("aria-label",a._config.ariaLabel),_w("@state",a._animationState))},features:[$u],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(o,a){1&o&&ra(0,MH,0,0,"ng-template",0)},dependencies:[e0],styles:[".mat-bottom-sheet-container{--mat-bottom-sheet-container-shape:4px;box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[RH.bottomSheetState]}})}return e})(),hR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({imports:[WM,Uc,f_,Uc]})}return e})();const OH=new Te("MatBottomSheetData");class NH{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class OD{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(i,t,o){this._ref=i,this._afterOpened=new Y,this.containerInstance=o,this.disableClose=t.disableClose,o._animationStateChanged.pipe(Li(a=>"done"===a.phaseName&&"visible"===a.toState),es(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),o._animationStateChanged.pipe(Li(a=>"done"===a.phaseName&&"hidden"===a.toState),es(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),i.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),gi(this.backdropClick(),this.keydownEvents().pipe(Li(a=>27===a.keyCode))).subscribe(a=>{!this.disableClose&&("keydown"!==a.type||!pD(a))&&(a.preventDefault(),this.dismiss())})}dismiss(i){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(Li(t=>"start"===t.phaseName),es(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},t.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=i,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const PH=new Te("mat-bottom-sheet-default-options");let ND=(()=>{class e{get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(t,o,a,d){this._overlay=t,this._parentBottomSheet=a,this._defaultOptions=d,this._bottomSheetRefAtThisLevel=null,this._dialog=o.get(xD)}open(t,o){const a={...this._defaultOptions||new NH,...o};let d;return this._dialog.open(t,{...a,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:kH,scrollStrategy:a.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:d}),providers:(p,g,_)=>(d=new OD(p,a,_),[{provide:OD,useValue:d},{provide:OH,useValue:a.data}])}),d.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===d&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>d.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):d.containerInstance.enter(),this._openedBottomSheetRef=d,d}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static#e=this.\u0275fac=function(o){return new(o||e)(ne(rg),ne(Xr),ne(e,12),ne(PH,8))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:hR})}return e})();const FH=["mat-button",""],fR=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],pR=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],LH=["mat-fab",""],jH=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],BH=QM(_H(bH(class{constructor(e){this._elementRef=e}})));let mR=(()=>{class e extends BH{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Pv(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=Pv(t),this._updateRippleDisabled()}constructor(t,o,a,d){super(t),this._platform=o,this._ngZone=a,this._animationMode=d,this._focusMonitor=Oe(l_),this._rippleLoader=Oe(xH),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const p=t.nativeElement.classList;for(const g of jH)this._hasHostAttributes(g.selector)&&g.mdcClasses.forEach(_=>{p.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",o){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,o):this._elementRef.nativeElement.focus(o)}_hasHostAttributes(...t){return t.some(o=>this._elementRef.nativeElement.hasAttribute(o))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(o){O_()};static#t=this.\u0275dir=_n({type:e,features:[$u]})}return e})(),Vv=(()=>{class e extends mR{constructor(t,o,a,d){super(t,o,a,d)}static#e=this.\u0275fac=function(o){return new(o||e)(_e(m),_e(sa),_e(Bt),_e(Qo,8))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(o,a){2&o&&(Gh("disabled",a.disabled||null),qu("_mat-animation-noopable","NoopAnimations"===a._animationMode)("mat-unthemed",!a.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[$u],attrs:FH,ngContentSelectors:pR,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,a){1&o&&(zm(fR),yo(0,"span",0),Es(1),It(2,"span",1),Es(3,1),Rt(),Es(4,2),yo(5,"span",2)(6,"span",3)),2&o&&qu("mdc-button__ripple",!a._isFab)("mdc-fab__ripple",a._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return e})();const UH=new Te("mat-mdc-fab-default-options",{providedIn:"root",factory:gR});function gR(){return{color:"accent"}}const vR=gR();let HH=(()=>{class e extends mR{get extended(){return this._extended}set extended(t){this._extended=Pv(t)}constructor(t,o,a,d,p){super(t,o,a,d),this._options=p,this._isFab=!0,this._options=this._options||vR,this.color=this.defaultColor=this._options.color||vR.color}static#e=this.\u0275fac=function(o){return new(o||e)(_e(m),_e(sa),_e(Bt),_e(Qo,8),_e(UH,8))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(o,a){2&o&&(Gh("disabled",a.disabled||null),qu("_mat-animation-noopable","NoopAnimations"===a._animationMode)("mat-unthemed",!a.color)("mat-mdc-button-base",!0)("mdc-fab--extended",a.extended)("mat-mdc-extended-fab",a.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[$u],attrs:LH,ngContentSelectors:pR,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,a){1&o&&(zm(fR),yo(0,"span",0),Es(1),It(2,"span",1),Es(3,1),Rt(),Es(4,2),yo(5,"span",2)(6,"span",3)),2&o&&qu("mdc-button__ripple",!a._isFab)("mdc-fab__ripple",a._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab.mdc-ripple-upgraded--background-focused,.mdc-fab:not(.mdc-ripple-upgraded):focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-button-font-family);font-size:var(--mdc-typography-button-font-size);line-height:var(--mdc-typography-button-line-height);font-weight:var(--mdc-typography-button-font-weight);letter-spacing:var(--mdc-typography-button-letter-spacing);text-decoration:var(--mdc-typography-button-text-decoration);text-transform:var(--mdc-typography-button-text-transform);border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab,.mat-mdc-mini-fab{background-color:var(--mdc-fab-container-color);--mdc-fab-container-shape:50%;--mdc-fab-icon-size:24px}.mat-mdc-fab .mdc-fab__icon,.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-extended-fab{font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return e})(),zH=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({imports:[Uc,TH,Uc]})}return e})();const $H=["*"],WH=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],KH=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],YH=new Te("MAT_CARD_CONFIG");let d0=(()=>{class e{constructor(t){this.appearance=t?.appearance||"raised"}static#e=this.\u0275fac=function(o){return new(o||e)(_e(YH,8))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(o,a){2&o&&qu("mat-mdc-card-outlined","outlined"===a.appearance)("mdc-card--outlined","outlined"===a.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:$H,decls:1,vars:0,template:function(o,a){1&o&&(zm(),Es(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return e})(),h0=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=_n({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return e})(),yR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=_n({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return e})(),_R=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=_n({type:e,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return e})(),f0=(()=>{class e{constructor(){this.align="start"}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=_n({type:e,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(o,a){2&o&&qu("mat-mdc-card-actions-align-end","end"===a.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return e})(),p0=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=Fn({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:KH,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(o,a){1&o&&(zm(WH),Es(0),It(1,"div",0),Es(2,1),Rt(),Es(3,2))},encapsulation:2,changeDetection:0})}return e})(),bR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=_n({type:e,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]})}return e})(),QH=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({imports:[Uc,Px,Uc]})}return e})();function JH(e,i){if(1&e){const t=Wh();It(0,"div"),yo(1,"input",5,6)(3,"input",7,8),It(5,"button",9),Qi("click",function(){lo(t);const a=Lc(2),d=Lc(4);return bn(Kh().onLogin(a,d))}),En(6,"Login"),Rt()()}}function ez(e,i){if(1&e){const t=Wh();It(0,"div"),yo(1,"input",5,10)(3,"input",7,11)(5,"input",12,13),It(7,"button",9),Qi("click",function(){lo(t);const a=Lc(2),d=Lc(4),p=Lc(6);return bn(Kh().onRegister(a,d,p))}),En(8,"Create"),Rt()()}}function tz(e,i){if(1&e){const t=Wh();It(0,"div"),yo(1,"input",5,14),It(3,"button",9),Qi("click",function(){lo(t);const a=Lc(2);return bn(Kh().onResetClick(a))}),En(4,"Reset"),Rt()()}}let PD=(()=>{class e{constructor(t){this.bottomSheetRef=t,this.state=Xu.LOGIN,this.firebaseTsAuth=new Jm}onResetClick(t){let o=t.value;this.isNotEmpty(o)&&this.firebaseTsAuth.sendPasswordResetEmail({email:o,onComplete:a=>{this.bottomSheetRef.dismiss()}})}onLogin(t,o){let a=t.value,d=o.value;this.isNotEmpty(a&&d)&&this.firebaseTsAuth.signInWith({email:a,password:d,onComplete:p=>{this.bottomSheetRef.dismiss()},onFail:p=>{alert("Failed on log in!")}})}onRegister(t,o,a){let d=t.value,p=o.value,g=a.value;this.isNotEmpty(d)&&this.isNotEmpty(p)&&this.isNotEmpty(g)&&this.isAMatch(p,g)&&this.firebaseTsAuth.createAccountWith({email:d,password:p,onComplete:_=>{this.bottomSheetRef.dismiss(),t.value="",o.value="",a.value=""},onFail:_=>{alert("Failed to create the account")}})}isNotEmpty(t){return null!=t&&t.length>0}isAMatch(t,o){return t===o}onForgotPasswordClick(){this.state=Xu.FORGOT_PASSWORD}onCreateAnAccountClick(){this.state=Xu.REGISTER}onLoginClick(){this.state=Xu.LOGIN}isLoginState(){return this.state==Xu.LOGIN}isRegisterState(){return this.state==Xu.REGISTER}isForgotPasswordState(){return this.state==Xu.FORGOT_PASSWORD}getStateText(){switch(this.state){case Xu.LOGIN:return"Login";case Xu.REGISTER:return"Register";case Xu.FORGOT_PASSWORD:return"Forgot Password"}}static#e=this.\u0275fac=function(o){return new(o||e)(_e(OD))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["app-authenticator"]],decls:15,vars:4,consts:[["id","authenticator"],["id","authenticator-content"],[4,"ngIf"],["align","end"],["mat-flat-button","",3,"click"],["type","text","placeholder","Email"],["loginEmail",""],["type","password","placeholder","Password"],["loginPassword",""],["mat-flat-button","","color","warn",3,"click"],["registerEmail",""],["registerPassword",""],["type","password","placeholder","Confirm Password"],["registerConfirmPassword",""],["resetEmail",""]],template:function(o,a){1&o&&(It(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),En(4),Rt()(),ra(5,JH,7,0,"div",2),ra(6,ez,9,0,"div",2),ra(7,tz,5,0,"div",2),It(8,"mat-card-actions",3)(9,"button",4),Qi("click",function(){return a.onForgotPasswordClick()}),En(10,"Forgot Password"),Rt(),It(11,"button",4),Qi("click",function(){return a.onCreateAnAccountClick()}),En(12,"Create an Account"),Rt(),It(13,"button",4),Qi("click",function(){return a.onLoginClick()}),En(14,"Login"),Rt()()()()),2&o&&(Si(4),qm(a.getStateText()),Si(1),vo("ngIf",a.isLoginState()),Si(1),vo("ngIf",a.isRegisterState()),Si(1),vo("ngIf",a.isForgotPasswordState()))},dependencies:[zy,Vv,d0,f0,p0,h0],styles:["#authenticator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#authenticator-content[_ngcontent-%COMP%]{width:100%;max-width:30em;padding:1.5em}button[_ngcontent-%COMP%]{margin:.5em}input[_ngcontent-%COMP%]{width:100%;padding:1em;margin:.5em 0;border-radius:5px;outline:none;border:1px solid rgba(56,32,32,.5);box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}"]})}return e})();var Xu=function(e){return e[e.LOGIN=0]="LOGIN",e[e.REGISTER=1]="REGISTER",e[e.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",e}(Xu||{});let wR=(()=>{class e{constructor(t){this.loginSheet=t}onGetStartedClick(){this.loginSheet.open(PD)}static#e=this.\u0275fac=function(o){return new(o||e)(_e(ND))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["app-home"]],decls:11,vars:0,consts:[["id","home-page"],["id","home-page-landing"],["id","landing-left"],["id","landing-left-content"],["mat-flat-button","","color","warn",3,"click"],["id","landing-right"]],template:function(o,a){1&o&&(It(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),En(5,"Social Media App Platform"),Rt(),It(6,"p"),En(7," Share you favorite stories! "),Rt(),It(8,"button",4),Qi("click",function(){return a.onGetStartedClick()}),En(9,"Get Started"),Rt()()(),yo(10,"div",5),Rt()())},dependencies:[Vv],styles:["#home-page[_ngcontent-%COMP%]{width:100%;height:100%}#home-page-landing[_ngcontent-%COMP%]{width:100%;height:100%;background-image:url(home_background.dc90420a60d5610c.png);background-size:cover;background-position:center;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:100%}#landing-left[_ngcontent-%COMP%]{display:flex;color:#fff;justify-content:center;align-items:center}#landing-left-content[_ngcontent-%COMP%]{text-align:right;padding:1em}#landing-left-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5em}#landing-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3em}#landing-left-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:2em;padding:.5em}"]})}return e})(),nz=(()=>{class e{constructor(t){this.router=t,this.auth=new Jm}ngOnInit(){this.auth.isSignedIn()&&!this.auth.getAuth().currentUser?.emailVerified?this.auth.sendVerificationEmail():this.router.navigate([""])}onResendClick(){this.auth.sendVerificationEmail()}static#e=this.\u0275fac=function(o){return new(o||e)(_e(Ss))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["app-email-verification"]],decls:5,vars:0,consts:[["id","email-verification"],["mat-flat-button","",3,"click"]],template:function(o,a){1&o&&(It(0,"div",0)(1,"h1"),En(2,"Your Email is Not Verified"),Rt(),It(3,"button",1),Qi("click",function(){return a.onResendClick()}),En(4,"Resend Verification Email"),Rt()())},dependencies:[Vv],styles:["#email-verification[_ngcontent-%COMP%]{text-align:center;margin-top:8em}"]})}return e})();$t(669);class rz{constructor(){this.listeners=new Map}downloadToLocalStorage(i){return new Promise((t,o)=>{if(i instanceof Array)this.getDownloadUrl({path:i,onComplete:a=>{t(a),window.open(a,"Download")},onFail:a=>{o(a)}});else try{window.open(i,"Download"),t()}catch(a){o(a)}})}upload(i){return new Promise((t,o)=>{let a=null,d=this.genStorageRef(i.path);a=null==i.data.metadata||null==i.data.metadata?d.put(i.data.data):d.put(i.data.data,i.data.metadata),a.on("state_changed",p=>{try{i.onUpload(p)}catch{}},p=>{o(p);try{i.onFail(p)}catch{}},()=>{d.getDownloadURL().then(p=>{t(p);try{i.onComplete(p)}catch{}})}),this.listeners.set(i.uploadName,a)})}deleteWithUrl(i){return new Promise((t,o)=>{Ya.getStorage().refFromURL(i.url).delete().then(()=>{t();try{i.onComplete()}catch{}}).catch(d=>{o(d);try{i.onFail(d)}catch{}})})}delete(i){return new Promise((t,o)=>{this.genStorageRef(i.path).delete().then(()=>{t();try{i.onComplete()}catch{}}).catch(d=>{o(d);try{i.onFail(d)}catch{}})})}getDownloadUrl(i){return new Promise((t,o)=>{const a=this.genStorageRef(i.path);try{a.getDownloadURL().then(d=>{t(d);try{i.onComplete(d)}catch{}})}catch(d){o(d);try{i.onFail(d)}catch{}}})}genStorageRef(i){let t=Ya.getStorage().ref();for(let o=0;o<i.length;o++)t=t.child(i[o]);return t}}$t(677);class Uv{constructor(){this.listeners=new Map}appendArray(i){return Ya._getFirestore().FieldValue.arrayUnion(i)}increment(i){return Ya._getFirestore().FieldValue.increment(i)}genDocId(){return Ya.getFirestore().collection("TEMP").doc().id}all(i){const t=Ya.getFirestore().batch();for(let o of i.operations)o.getOperation(t);return new Promise((o,a)=>{t.commit().then(()=>{try{i.onComplete()}catch{}o()}).catch(d=>{try{i.onFail(d)}catch{}a(d)})})}create(i){return new Promise((t,o)=>{if(null==i.data||null==i.data)throw new Error("Error creating data. Data is null or undefined.");if(this.isCollectionPath(i.path)){let a=this.genCollectionReference(i.path).doc();a.set(i.data).then(()=>{try{i.onComplete(a.id)}catch{}t(a.id)}).catch(d=>{try{i.onFail(d)}catch{}o(d)})}else if(this.isDocumentPath(i.path)){let a=this.genDocumentReference(i.path);a.set(i.data).then(()=>{try{i.onComplete(a.id)}catch{}t(a.id)}).catch(d=>{try{i.onFail(d)}catch{}o(d)})}})}delete(i){return new Promise((t,o)=>{this.checkDocumentPathValidity(i.path),this.genDocumentReference(i.path).delete().then(()=>{try{i.onComplete()}catch{}t()}).catch(a=>{try{i.onFail(a)}catch{}o(a)})})}update(i){return new Promise((t,o)=>{this.checkDocumentPathValidity(i.path);const a=this.genDocumentReference(i.path);a.update(i.data).then(()=>{try{i.onComplete(a)}catch{}t(a)}).catch(d=>{try{i.onFail(d)}catch{}o(d)})})}getCollection(i){let t=this.genCollectionReference(i.path);return new Promise((null!=i.where||null!=i.where)&&i.where.length>0?(o,a)=>{let d;const p=Array(i.where)[0];for(let g=0;g<p.length;g++)d=null==d?p[g].getQuery(t):p[g].concatQuery(d);d.get().then(g=>{try{i.onComplete(g)}catch{}o(g)}).catch(g=>{try{i.onFail(g)}catch{}a(g)})}:(o,a)=>{t.get().then(d=>{try{i.onComplete(d)}catch{}o(d)}).catch(d=>{try{i.onFail(d)}catch{}a(d)})})}getDocument(i){return new Promise((t,o)=>{this.genDocumentReference(i.path).get().then(a=>{try{i.onComplete(a)}catch{}t(a)}).catch(a=>{try{i.onFail(a)}catch{}o(a)})})}listenToDocument(i){this.validateListenerName(i.name),this.addListener(i.name,this.genDocumentReference(i.path).onSnapshot(t=>{try{i.onUpdate(t)}catch{}}))}listenToCollection(i){this.validateListenerName(i.name);let t=this.genCollectionReference(i.path);if((null!=i.where||null!=i.where)&&i.where.length>0){let o;const a=Array(i.where)[0];for(let d=0;d<a.length;d++)o=null==o?a[d].getQuery(t):a[d].concatQuery(o);this.addListener(i.name,o.onSnapshot(d=>{try{i.onUpdate(d)}catch{}}))}else this.addListener(i.name,t.onSnapshot(o=>{try{i.onUpdate(o)}catch{}}))}genCollectionReference(i){this.checkCollectionPathValidity(i);const t=Array(i)[0];let o,a;for(let d=0;d<t.length;d++)d%2==0?o=null==o?Ya.getFirestore().collection(t[d]):a.collection(t[d]):a=o.doc(t[d]);return o}genDocumentReference(i){this.checkDocumentPathValidity(i);const t=Array(i)[0];let o,a;for(let d=0;d<t.length;d++)d%2==0?o=null==o?Ya.getFirestore().collection(t[d]):a.collection(t[d]):a=o.doc(t[d]);return a}addListener(i,t){return this.listeners.set(i,t),t}stopListeningTo(i){try{this.listeners.get(i)(),this.listeners.delete(i)}catch{}}stopListeningToAll(){this.listeners.forEach((i,t,o)=>{this.stopListeningTo(t)})}validateListenerName(i){if(null==i||null==i||"string"!=typeof i||i.trim().length<=0)throw"Listener name cannot be empty.";if(null!=this.listeners.get(i))throw`Listener name: ${i} is already taken.`}checkCollectionPathValidity(i){if(null==i||null==i||i.length<=0||!this.isCollectionPath(i))throw"Not a valid path to a collection."}isCollectionPath(i){return Array(i)[0].length%2==1}checkDocumentPathValidity(i){if(null==i||null==i||i.length<=0||!this.isDocumentPath(i))throw"Not a valid path to a document."}isDocumentPath(i){return Array(i)[0].length%2==0}}class ER{constructor(i,t){this.field=i,this.direction=t}getQuery(i){return i.orderBy(this.field,this.direction)}concatQuery(i){return i.orderBy(this.field,this.direction)}}class iz{constructor(i){this.limit=i}getQuery(i){return i.limit(this.limit)}concatQuery(i){return i.limit(this.limit)}}function oz(e,i){}class m0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const FD="mdc-dialog--open",DR="mdc-dialog--opening",CR="mdc-dialog--closing";let cz=(()=>{class e extends SD{constructor(t,o,a,d,p,g,_,E){super(t,o,a,d,p,g,_,E),this._animationStateChanged=new Xi}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}static#e=this.\u0275fac=function(o){return new(o||e)(_e(m),_e(Zb),_e(tn,8),_e(m0),_e(u_),_e(Bt),_e(Bv),_e(l_))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["ng-component"]],features:[$u],decls:0,vars:0,template:function(o,a){},encapsulation:2})}return e})();const IR="--mat-dialog-transition-duration";function SR(e){return null==e?null:"number"==typeof e?e:e.endsWith("ms")?pM(e.substring(0,e.length-2)):e.endsWith("s")?1e3*pM(e.substring(0,e.length-1)):"0"===e?0:null}let uz=(()=>{class e extends cz{constructor(t,o,a,d,p,g,_,E,I){super(t,o,a,d,p,g,_,I),this._animationMode=E,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?SR(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?SR(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(IR,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(DR,FD)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(FD),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(FD),this._animationsEnabled?(this._hostElement.style.setProperty(IR,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(CR)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(DR,CR)}_waitForAnimationToComplete(t,o){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(o,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}static#e=this.\u0275fac=function(o){return new(o||e)(_e(m),_e(Zb),_e(tn,8),_e(m0),_e(u_),_e(Bt),_e(Bv),_e(Qo,8),_e(l_))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(o,a){2&o&&(yw("id",a._config.id),Gh("aria-modal",a._config.ariaModal)("role",a._config.role)("aria-labelledby",a._config.ariaLabel?null:a._ariaLabelledByQueue[0])("aria-label",a._config.ariaLabel)("aria-describedby",a._config.ariaDescribedBy||null),qu("_mat-animation-noopable",!a._animationsEnabled))},features:[$u],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(o,a){1&o&&(It(0,"div",0)(1,"div",1),ra(2,oz,0,0,"ng-template",2),Rt()())},dependencies:[e0],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return e})();class TR{constructor(i,t,o){this._ref=i,this._containerInstance=o,this._afterOpened=new Y,this._beforeClosed=new Y,this._state=0,this.disableClose=t.disableClose,this.id=i.id,o._animationStateChanged.pipe(Li(a=>"opened"===a.state),es(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),o._animationStateChanged.pipe(Li(a=>"closed"===a.state),es(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),gi(this.backdropClick(),this.keydownEvents().pipe(Li(a=>27===a.keyCode&&!this.disableClose&&!pD(a)))).subscribe(a=>{this.disableClose||(a.preventDefault(),function lz(e,i,t){e._closeInteractionType=i,e.close(t)}(this,"keydown"===a.type?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(Li(t=>"closing"===t.state),es(1)).subscribe(t=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let t=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?t.left(i.left):t.right(i.right):t.centerHorizontally(),i&&(i.top||i.bottom)?i.top?t.top(i.top):t.bottom(i.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",t=""){return this._ref.updateSize(i,t),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const xR=new Te("MatMdcDialogData"),dz=new Te("mat-mdc-dialog-default-options"),AR=new Te("mat-mdc-dialog-scroll-strategy"),fz={provide:AR,deps:[rg],useFactory:function hz(e){return()=>e.scrollStrategies.block()}};let pz=0,mz=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,o,a,d,p,g,_,E,I,R){this._overlay=t,this._defaultOptions=a,this._parentDialog=d,this._dialogRefConstructor=_,this._dialogContainerType=E,this._dialogDataToken=I,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Y,this._afterOpenedAtThisLevel=new Y,this._idPrefix="mat-dialog-",this.dialogConfigClass=m0,this.afterAllClosed=Cb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ib(void 0))),this._scrollStrategy=g,this._dialog=o.get(xD)}open(t,o){let a;(o={...this._defaultOptions||new m0,...o}).id=o.id||`${this._idPrefix}${pz++}`,o.scrollStrategy=o.scrollStrategy||this._scrollStrategy();const d=this._dialog.open(t,{...o,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:o},{provide:p_,useValue:o}]},templateContext:()=>({dialogRef:a}),providers:(p,g,_)=>(a=new this._dialogRefConstructor(p,o,_),a.updatePosition(o?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:g.data},{provide:this._dialogRefConstructor,useValue:a}])});return a.componentRef=d.componentRef,a.componentInstance=d.componentInstance,this.openDialogs.push(a),this.afterOpened.next(a),a.afterClosed().subscribe(()=>{const p=this.openDialogs.indexOf(a);p>-1&&(this.openDialogs.splice(p,1),this.openDialogs.length||this._getAfterAllClosed().next())}),a}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(o=>o.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let o=t.length;for(;o--;)t[o].close()}static#e=this.\u0275fac=function(o){O_()};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})(),LD=(()=>{class e extends mz{constructor(t,o,a,d,p,g,_,E){super(t,o,d,g,_,p,TR,uz,xR,E),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(o){return new(o||e)(ne(rg),ne(Xr),ne(Vy,8),ne(dz,8),ne(AR),ne(e,12),ne(t0),ne(Qo,8))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})(),gz=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({providers:[LD,fz],imports:[WM,qM,f_,Uc,Uc]})}return e})();class jD{}class tf{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?"string"==typeof i?this.lazyInit=()=>{this.headers=new Map,i.split("\n").forEach(t=>{const o=t.indexOf(":");if(o>0){const a=t.slice(0,o),d=a.toLowerCase(),p=t.slice(o+1).trim();this.maybeSetNormalizedName(a,d),this.headers.has(d)?this.headers.get(d).push(p):this.headers.set(d,[p])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((t,o)=>{this.setHeaderEntries(o,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([t,o])=>{this.setHeaderEntries(t,o)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const t=this.headers.get(i.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,t){return this.clone({name:i,value:t,op:"a"})}set(i,t){return this.clone({name:i,value:t,op:"s"})}delete(i,t){return this.clone({name:i,value:t,op:"d"})}maybeSetNormalizedName(i,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,i)}init(){this.lazyInit&&(this.lazyInit instanceof tf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(t=>{this.headers.set(t,i.headers.get(t)),this.normalizedNames.set(t,i.normalizedNames.get(t))})}clone(i){const t=new tf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof tf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([i]),t}applyUpdate(i){const t=i.name.toLowerCase();switch(i.op){case"a":case"s":let o=i.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(i.name,t);const a=("a"===i.op?this.headers.get(t):void 0)||[];a.push(...o),this.headers.set(t,a);break;case"d":const d=i.value;if(d){let p=this.headers.get(t);if(!p)return;p=p.filter(g=>-1===d.indexOf(g)),0===p.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,p)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(i,t){const o=(Array.isArray(t)?t:[t]).map(d=>d.toString()),a=i.toLowerCase();this.headers.set(a,o),this.maybeSetNormalizedName(i,a)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>i(this.normalizedNames.get(t),this.headers.get(t)))}}class yz{encodeKey(i){return RR(i)}encodeValue(i){return RR(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const bz=/%(\d[a-f0-9])/gi,wz={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function RR(e){return encodeURIComponent(e).replace(bz,(i,t)=>wz[t]??i)}function g0(e){return`${e}`}class Sp{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new yz,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _z(e,i){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(a=>{const d=a.indexOf("="),[p,g]=-1==d?[i.decodeKey(a),""]:[i.decodeKey(a.slice(0,d)),i.decodeValue(a.slice(d+1))],_=t.get(p)||[];_.push(g),t.set(p,_)}),t}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(t=>{const o=i.fromObject[t],a=Array.isArray(o)?o.map(g0):[g0(o)];this.map.set(t,a)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const t=this.map.get(i);return t?t[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,t){return this.clone({param:i,value:t,op:"a"})}appendAll(i){const t=[];return Object.keys(i).forEach(o=>{const a=i[o];Array.isArray(a)?a.forEach(d=>{t.push({param:o,value:d,op:"a"})}):t.push({param:o,value:a,op:"a"})}),this.clone(t)}set(i,t){return this.clone({param:i,value:t,op:"s"})}delete(i,t){return this.clone({param:i,value:t,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const t=this.encoder.encodeKey(i);return this.map.get(i).map(o=>t+"="+this.encoder.encodeValue(o)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const t=new Sp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(i),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const t=("a"===i.op?this.map.get(i.param):void 0)||[];t.push(g0(i.value)),this.map.set(i.param,t);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let o=this.map.get(i.param)||[];const a=o.indexOf(g0(i.value));-1!==a&&o.splice(a,1),o.length>0?this.map.set(i.param,o):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class Ez{constructor(){this.map=new Map}set(i,t){return this.map.set(i,t),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function kR(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function OR(e){return typeof Blob<"u"&&e instanceof Blob}function NR(e){return typeof FormData<"u"&&e instanceof FormData}class v_{constructor(i,t,o,a){let d;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function Dz(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==o?o:null,d=a):d=o,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new tf),this.context||(this.context=new Ez),this.params){const p=this.params.toString();if(0===p.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+p}}else this.params=new Sp,this.urlWithParams=t}serializeBody(){return null===this.body?null:kR(this.body)||OR(this.body)||NR(this.body)||function Cz(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Sp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||NR(this.body)?null:OR(this.body)?this.body.type||null:kR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Sp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const t=i.method||this.method,o=i.url||this.url,a=i.responseType||this.responseType,d=void 0!==i.body?i.body:this.body,p=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,g=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let _=i.headers||this.headers,E=i.params||this.params;const I=i.context??this.context;return void 0!==i.setHeaders&&(_=Object.keys(i.setHeaders).reduce((R,F)=>R.set(F,i.setHeaders[F]),_)),i.setParams&&(E=Object.keys(i.setParams).reduce((R,F)=>R.set(F,i.setParams[F]),E)),new v_(t,o,d,{params:E,headers:_,context:I,reportProgress:g,responseType:a,withCredentials:p})}}var VD=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(VD||{});class Iz{constructor(i,t=200,o="OK"){this.headers=i.headers||new tf,this.status=void 0!==i.status?i.status:t,this.statusText=i.statusText||o,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class y_ extends Iz{constructor(i={}){super(i),this.type=VD.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new y_({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}function UD(e,i){return{body:i,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let HD=(()=>{class e{constructor(t){this.handler=t}request(t,o,a={}){let d;if(t instanceof v_)d=t;else{let _,E;_=a.headers instanceof tf?a.headers:new tf(a.headers),a.params&&(E=a.params instanceof Sp?a.params:new Sp({fromObject:a.params})),d=new v_(t,o,void 0!==a.body?a.body:null,{headers:_,context:a.context,params:E,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const p=Je(d).pipe(Cv(_=>this.handler.handle(_)));if(t instanceof v_||"events"===a.observe)return p;const g=p.pipe(Li(_=>_ instanceof y_));switch(a.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return g.pipe(Ye(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return g.pipe(Ye(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return g.pipe(Ye(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return g.pipe(Ye(_=>_.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(t,o={}){return this.request("DELETE",t,o)}get(t,o={}){return this.request("GET",t,o)}head(t,o={}){return this.request("HEAD",t,o)}jsonp(t,o){return this.request("JSONP",t,{params:(new Sp).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,o={}){return this.request("OPTIONS",t,o)}patch(t,o,a={}){return this.request("PATCH",t,UD(a,o))}post(t,o,a={}){return this.request("POST",t,UD(a,o))}put(t,o,a={}){return this.request("PUT",t,UD(a,o))}static#e=this.\u0275fac=function(o){return new(o||e)(ne(jD))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();const qz=["*"];let _0;function __(e){return function Gz(){if(void 0===_0&&(_0=null,typeof window<"u")){const e=window;void 0!==e.trustedTypes&&(_0=e.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return _0}()?.createHTML(e)||e}function $R(e){return Error(`Unable to find icon with the name "${e}"`)}function qR(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function GR(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class og{constructor(i,t,o){this.url=i,this.svgText=t,this.options=o}}let b0=(()=>{class e{constructor(t,o,a,d){this._httpClient=t,this._sanitizer=o,this._errorHandler=d,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=a}addSvgIcon(t,o,a){return this.addSvgIconInNamespace("",t,o,a)}addSvgIconLiteral(t,o,a){return this.addSvgIconLiteralInNamespace("",t,o,a)}addSvgIconInNamespace(t,o,a,d){return this._addSvgIconConfig(t,o,new og(a,null,d))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,o,a,d){const p=this._sanitizer.sanitize(hi.HTML,a);if(!p)throw GR(a);const g=__(p);return this._addSvgIconConfig(t,o,new og("",g,d))}addSvgIconSet(t,o){return this.addSvgIconSetInNamespace("",t,o)}addSvgIconSetLiteral(t,o){return this.addSvgIconSetLiteralInNamespace("",t,o)}addSvgIconSetInNamespace(t,o,a){return this._addSvgIconSetConfig(t,new og(o,null,a))}addSvgIconSetLiteralInNamespace(t,o,a){const d=this._sanitizer.sanitize(hi.HTML,o);if(!d)throw GR(o);const p=__(d);return this._addSvgIconSetConfig(t,new og("",p,a))}registerFontClassAlias(t,o=t){return this._fontCssClassesByAlias.set(t,o),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const o=this._sanitizer.sanitize(hi.RESOURCE_URL,t);if(!o)throw qR(t);const a=this._cachedIconsByUrl.get(o);return a?Je(w0(a)):this._loadSvgIconFromConfig(new og(t,null)).pipe(eo(d=>this._cachedIconsByUrl.set(o,d)),Ye(d=>w0(d)))}getNamedSvgIcon(t,o=""){const a=WR(o,t);let d=this._svgIconConfigs.get(a);if(d)return this._getSvgFromConfig(d);if(d=this._getIconConfigFromResolvers(o,t),d)return this._svgIconConfigs.set(a,d),this._getSvgFromConfig(d);const p=this._iconSetConfigs.get(o);return p?this._getSvgFromIconSetConfigs(t,p):Dv($R(a))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Je(w0(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Ye(o=>w0(o)))}_getSvgFromIconSetConfigs(t,o){const a=this._extractIconWithNameFromAnySet(t,o);return a?Je(a):function vz(...e){const i=G(e),{args:t,keys:o}=sA(e),a=new ft(d=>{const{length:p}=t;if(!p)return void d.complete();const g=new Array(p);let _=p,E=p;for(let I=0;I<p;I++){let R=!1;an(t[I]).subscribe(Ie(d,F=>{R||(R=!0,E--),g[I]=F},()=>_--,void 0,()=>{(!_||!R)&&(E||d.next(o?aA(o,g):g),d.complete())}))}});return i?a.pipe(jE(i)):a}(o.filter(p=>!p.svgText).map(p=>this._loadSvgIconSetFromConfig(p).pipe(wp(g=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(hi.RESOURCE_URL,p.url)} failed: ${g.message}`;return this._errorHandler.handleError(new Error(E)),Je(null)})))).pipe(Ye(()=>{const p=this._extractIconWithNameFromAnySet(t,o);if(!p)throw $R(t);return p}))}_extractIconWithNameFromAnySet(t,o){for(let a=o.length-1;a>=0;a--){const d=o[a];if(d.svgText&&d.svgText.toString().indexOf(t)>-1){const p=this._svgElementFromConfig(d),g=this._extractSvgIconFromSet(p,t,d.options);if(g)return g}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(eo(o=>t.svgText=o),Ye(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Je(null):this._fetchIcon(t).pipe(eo(o=>t.svgText=o))}_extractSvgIconFromSet(t,o,a){const d=t.querySelector(`[id="${o}"]`);if(!d)return null;const p=d.cloneNode(!0);if(p.removeAttribute("id"),"svg"===p.nodeName.toLowerCase())return this._setSvgAttributes(p,a);if("symbol"===p.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(p),a);const g=this._svgElementFromString(__("<svg></svg>"));return g.appendChild(p),this._setSvgAttributes(g,a)}_svgElementFromString(t){const o=this._document.createElement("DIV");o.innerHTML=t;const a=o.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}_toSvgElement(t){const o=this._svgElementFromString(__("<svg></svg>")),a=t.attributes;for(let d=0;d<a.length;d++){const{name:p,value:g}=a[d];"id"!==p&&o.setAttribute(p,g)}for(let d=0;d<t.childNodes.length;d++)t.childNodes[d].nodeType===this._document.ELEMENT_NODE&&o.appendChild(t.childNodes[d].cloneNode(!0));return o}_setSvgAttributes(t,o){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),o&&o.viewBox&&t.setAttribute("viewBox",o.viewBox),t}_fetchIcon(t){const{url:o,options:a}=t,d=a?.withCredentials??!1;if(!this._httpClient)throw function Wz(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const p=this._sanitizer.sanitize(hi.RESOURCE_URL,o);if(!p)throw qR(o);const g=this._inProgressUrlFetches.get(p);if(g)return g;const _=this._httpClient.get(p,{responseType:"text",withCredentials:d}).pipe(Ye(E=>__(E)),Tb(()=>this._inProgressUrlFetches.delete(p)),tl());return this._inProgressUrlFetches.set(p,_),_}_addSvgIconConfig(t,o,a){return this._svgIconConfigs.set(WR(t,o),a),this}_addSvgIconSetConfig(t,o){const a=this._iconSetConfigs.get(t);return a?a.push(o):this._iconSetConfigs.set(t,[o]),this}_svgElementFromConfig(t){if(!t.svgElement){const o=this._svgElementFromString(t.svgText);this._setSvgAttributes(o,t.options),t.svgElement=o}return t.svgElement}_getIconConfigFromResolvers(t,o){for(let a=0;a<this._resolvers.length;a++){const d=this._resolvers[a](o,t);if(d)return Yz(d)?new og(d.url,null,d.options):new og(d,null)}}static#e=this.\u0275fac=function(o){return new(o||e)(ne(HD,8),ne(LE),ne(tn,8),ne(Pc))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function w0(e){return e.cloneNode(!0)}function WR(e,i){return e+":"+i}function Yz(e){return!(!e.url||!e.options)}const Zz=QM(class{constructor(e){this._elementRef=e}}),Xz=new Te("MAT_ICON_DEFAULT_OPTIONS"),Qz=new Te("mat-icon-location",{providedIn:"root",factory:function Jz(){const e=Oe(tn),i=e?e.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),KR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],e4=KR.map(e=>`[${e}]`).join(", "),t4=/^url\(['"]?#(.*?)['"]?\)$/;let E0=(()=>{class e extends Zz{get inline(){return this._inline}set inline(t){this._inline=Pv(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const o=this._cleanupFontValue(t);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const o=this._cleanupFontValue(t);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}constructor(t,o,a,d,p,g){super(t),this._iconRegistry=o,this._location=d,this._errorHandler=p,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=kt.EMPTY,g&&(g.color&&(this.color=this.defaultColor=g.color),g.fontSet&&(this.fontSet=g.fontSet)),a||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const o=t.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let o=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){const a=t.childNodes[o];(1!==a.nodeType||"svg"===a.nodeName.toLowerCase())&&a.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,o=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(a=>a.length>0);this._previousFontSetClass.forEach(a=>t.classList.remove(a)),o.forEach(a=>t.classList.add(a)),this._previousFontSetClass=o,this.fontIcon!==this._previousFontIconClass&&!o.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const o=this._elementsWithExternalReferences;o&&o.forEach((a,d)=>{a.forEach(p=>{d.setAttribute(p.name,`url('${t}#${p.value}')`)})})}_cacheChildrenWithExternalReferences(t){const o=t.querySelectorAll(e4),a=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let d=0;d<o.length;d++)KR.forEach(p=>{const g=o[d],_=g.getAttribute(p),E=_?_.match(t4):null;if(E){let I=a.get(g);I||(I=[],a.set(g,I)),I.push({name:p,value:E[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[o,a]=this._splitIconName(t);o&&(this._svgNamespace=o),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,o).pipe(es(1)).subscribe(d=>this._setSvgElement(d),d=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${o}:${a}! ${d.message}`))})}}static#e=this.\u0275fac=function(o){return new(o||e)(_e(m),_e(b0),Aa("aria-hidden"),_e(Qz),_e(Pc),_e(Xz,8))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(o,a){2&o&&(Gh("data-mat-icon-type",a._usingFontIcon()?"font":"svg")("data-mat-icon-name",a._svgName||a.fontIcon)("data-mat-icon-namespace",a._svgNamespace||a.fontSet)("fontIcon",a._usingFontIcon()?a.fontIcon:null),qu("mat-icon-inline",a.inline)("mat-icon-no-color","primary"!==a.color&&"accent"!==a.color&&"warn"!==a.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[$u],ngContentSelectors:qz,decls:1,vars:0,template:function(o,a){1&o&&(zm(),Es(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return e})(),n4=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({imports:[Uc,Uc]})}return e})();function r4(e,i){1&e&&(It(0,"div",9),yo(1,"img",10),Rt())}let i4=(()=>{class e{constructor(t){this.dialog=t,this.auth=new Jm,this.firestore=new Uv,this.storage=new rz}ngOnInit(){}onPhotoSelected(t){if(this.selectedImageFile=t.files?.[0],!this.selectedImageFile)return;let o=new FileReader;o.readAsDataURL(this.selectedImageFile),o.addEventListener("loadend",a=>{let d=o.result?.toString();document.getElementById("post-preview-image").src=d})}onPostClick(t){let o=t.value;o.length<=0||(this.selectedImageFile?this.uploadImagePost(o):this.uploadPost(o))}uploadImagePost(t){let o=this.firestore.genDocId();this.storage.upload({uploadName:"Upload Image Post",path:["Posts",o,"image"],data:{data:this.selectedImageFile},onComplete:a=>{this.firestore.create({path:["Posts",o],data:{comment:t,imageDownloadUrl:a,creatorId:this.auth.getAuth().currentUser?.uid,timestamp:Ya.getFirestoreTimestamp()},onComplete:d=>{this.dialog.close()}})}})}uploadPost(t){this.firestore.create({path:["Posts"],data:{comment:t,creatorId:this.auth.getAuth().currentUser?.uid,timestamp:Ya.getFirestoreTimestamp()},onComplete:o=>{this.dialog.close()}})}static#e=this.\u0275fac=function(o){return new(o||e)(_e(TR))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["app-create-post"]],decls:17,vars:1,consts:[["placeholder","Type Message..."],["commentInput",""],["id","post-preview",4,"ngIf"],["align","end"],["mat-button","","color","warn"],["for","photo-upload"],["id","photo_upload","type","file","accept","image/*",3,"change"],["photoSelector",""],["mat-flat-button","","color","warn",3,"click"],["id","post-preview"],["id","post-preview-image"]],template:function(o,a){if(1&o){const d=Wh();It(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),En(3," Create Post "),Rt()(),It(4,"div"),yo(5,"textarea",0,1),Rt(),ra(7,r4,2,0,"div",2),It(8,"mat-card-actions",3)(9,"button",4)(10,"label",5)(11,"input",6,7),Qi("change",function(){lo(d);const g=Lc(12);return bn(a.onPhotoSelected(g))}),Rt(),It(13,"mat-icon"),En(14,"Insert_Photo"),Rt()()(),It(15,"button",8),Qi("click",function(){lo(d);const g=Lc(6);return bn(a.onPostClick(g))}),En(16,"Post"),Rt()()()}2&o&&(Si(7),vo("ngIf",a.selectedImageFile))},dependencies:[zy,Vv,d0,f0,p0,h0,E0],styles:["#photo-upload[_ngcontent-%COMP%]{display:none}textarea[_ngcontent-%COMP%]{font-size:1.5em;padding:1em;resize:none;width:250px;min-height:200px;border:none;outline:none}#post-preview[_ngcontent-%COMP%]{text-align:right;margin-top:1em}#post-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;border-radius:1em;border:1px dashed gray}"]})}return e})();function o4(e,i){1&e&&yo(0,"app-post",3),2&e&&vo("postData",i.$implicit)}let YR=(()=>{class e{constructor(t,o,a){this.dialog=t,this.router=o,this.loginSheet=a,this.firestore=new Uv,this.auth=new Jm,this.posts=[]}ngOnInit(){this.getPosts()}onCreatePostClick(){this.auth.isSignedIn()?this.dialog.open(i4):this.loginSheet.open(PD)}getPosts(){this.firestore.getCollection({path:["Posts"],where:[new ER("timestamp","desc"),new iz(10)],onComplete:t=>{t.docs.forEach(o=>{let a=o.data();a.postId=o.id,this.posts.push(a)})},onFail:t=>{}})}static#e=this.\u0275fac=function(o){return new(o||e)(_e(LD),_e(Ss),_e(ND))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["app-post-feed"]],decls:5,vars:1,consts:[["id","post-feed"],[3,"postData",4,"ngFor","ngForOf"],["mat-fab","","color","warn","id","post-button",3,"click"],[3,"postData"]],template:function(o,a){1&o&&(It(0,"div",0),ra(1,o4,1,1,"app-post",1),Rt(),It(2,"button",2),Qi("click",function(){return a.onCreatePostClick()}),It(3,"mat-icon"),En(4,"add"),Rt()()),2&o&&(Si(1),vo("ngForOf",a.posts))},styles:["#post-button[_ngcontent-%COMP%]{position:fixed;bottom:2em;right:2em}#post-feed[_ngcontent-%COMP%]{max-width:500px;margin-top:5em;margin-left:auto;margin-right:auto}"]})}return e})();const s4=[{path:"",component:wR},{path:"emailVerification",component:nz},{path:"postfeed",component:YR},{path:"**",component:wR}];let a4=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({imports:[cD.forRoot(s4),cD]})}return e})();const c4=function(e,i){return{active:e,idle:i}};let u4=(()=>{class e{constructor(){this.show=!1,this.firestore=new Uv,this.auth=new Jm}onContinueClick(t,o){let a=t.value,d=o.value;this.firestore.create({path:["Users",this.auth.getAuth().currentUser?.uid],data:{publicName:a,description:d},onComplete:p=>{alert("Profile Created!"),t.value="",o.value=""},onFail:p=>{}})}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=Fn({type:e,selectors:[["app-profile"]],inputs:{show:"show"},decls:8,vars:4,consts:[["id","profile",3,"ngClass"],["id","profile-content"],["type","text","placeholder","Name"],["nameInput",""],["placeholder","Description"],["descriptionInput",""],["mat-flat-button","","color","warn",3,"click"]],template:function(o,a){if(1&o){const d=Wh();It(0,"div",0)(1,"div",1),yo(2,"input",2,3)(4,"textarea",4,5),It(6,"button",6),Qi("click",function(){lo(d);const g=Lc(3),_=Lc(5);return bn(a.onContinueClick(g,_))}),En(7,"Continue"),Rt()()()}2&o&&vo("ngClass",ZS(1,c4,a.show,!a.show))},dependencies:[bE,Vv],styles:["#profile[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100vh;background-color:#1f1f1f;z-index:9;transition-duration:.5s;overflow:hidden;display:flex;justify-content:center;align-items:center}.active[_ngcontent-%COMP%]{width:100vw}.idle[_ngcontent-%COMP%]{width:0}#profile-content[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:2em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:1em;border-radius:1em;margin-bottom:.5em;resize:none;outline:none;border:1px solid grey;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}"]})}return e})();function l4(e,i){if(1&e){const t=Wh();It(0,"div",10),Qi("click",function(){return lo(t),bn(Kh().onLoginClick())}),En(1,"Login "),Rt()}}function d4(e,i){if(1&e&&(It(0,"span",11),En(1),Rt()),2&e){const t=Kh();Si(1),Ay("Hello, ",t.getUsername()," ")}}function h4(e,i){if(1&e){const t=Wh();It(0,"div",10),Qi("click",function(){return lo(t),bn(Kh().onLogout())}),En(1,"Logout"),Rt()}}let D0=(()=>{class e{constructor(t,o){this.loginSheet=t,this.router=o,this.userHasProfile=!1,this.auth=new Jm,this.firestore=new Uv,this.auth.listenToSignInStateChanges(a=>{this.auth.checkSignInState({whenSignedIn:d=>{},whenSignedOut:d=>{e.userDocument=null},whenSignedInAndEmailNotVerified:d=>{this.router.navigate(["emailVerification"])},whenSignedInAndEmailVerified:d=>{this.getUserProfile()},whenChanged:d=>{}})})}getUsername(){try{return e.userDocument?.publicName}catch{return"NO name"}}static getUserDocument(){return e.userDocument}getUserProfile(){this.firestore.listenToDocument({name:"Getting Document",path:["Users",this.auth.getAuth().currentUser?.uid],onUpdate:t=>{e.userDocument=t.data(),e.userDocument.userId=this.auth.getAuth().currentUser?.uid,this.userHasProfile=t.exists,this.userHasProfile&&this.router.navigate(["postfeed"])}})}loggedIn(){return this.auth.isSignedIn()}onLogout(){this.auth.signOut()}onLoginClick(){this.loginSheet.open(PD)}static#e=this.\u0275fac=function(o){return new(o||e)(_e(ND),_e(Ss))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["app-root"]],decls:14,vars:4,consts:[["id","nav-bar"],["id","nav-bar-content"],["id","nav-bar-left"],[1,"nav-bar-items",2,"font-size","1.5em"],["routerLink","/"],["id","nav-bar-right"],["routerLink","/postfeed"],["class","nav-bar-items",3,"click",4,"ngIf"],["class","nav-bar-items",4,"ngIf"],[3,"show"],[1,"nav-bar-items",3,"click"],[1,"nav-bar-items"]],template:function(o,a){1&o&&(It(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),En(5,"Logo"),Rt()()(),It(6,"div",5)(7,"a",6),En(8,"PostFeed "),Rt(),ra(9,l4,2,0,"div",7),ra(10,d4,2,1,"span",8),ra(11,h4,2,0,"div",7),Rt()()(),yo(12,"router-outlet")(13,"app-profile",9)),2&o&&(Si(9),vo("ngIf",!a.loggedIn()),Si(1),vo("ngIf",a.loggedIn()&&a.userHasProfile),Si(1),vo("ngIf",a.loggedIn()),Si(2),vo("show",a.loggedIn()&&!a.userHasProfile))},dependencies:[zy,JE,qb,u4],styles:["#nav-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:5em;z-index:10}#nav-bar-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;height:100%}#nav-bar-left[_ngcontent-%COMP%], #nav-bar-right[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;padding:0 2em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;color:#fff}#nav-bar-right[_ngcontent-%COMP%]{justify-content:flex-end}.nav-bar-items[_ngcontent-%COMP%]{font-size:1em;display:inline-block;cursor:pointer;margin:1em}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:larger}"]})}return e})();function ZR(e){return new ge(3e3,!1)}function xp(e){switch(e.length){case 0:return new g_;case 1:return e[0];default:return new dR(e)}}function XR(e,i,t=new Map,o=new Map){const a=[],d=[];let p=-1,g=null;if(i.forEach(_=>{const E=_.get("offset"),I=E==p,R=I&&g||new Map;_.forEach((F,j)=>{let H=j,W=F;if("offset"!==j)switch(H=e.normalizePropertyName(H,a),W){case"!":W=t.get(j);break;case ef:W=o.get(j);break;default:W=e.normalizeStyleValue(j,H,W,a)}R.set(H,W)}),I||d.push(R),g=R,p=E}),a.length)throw function P4(e){return new ge(3502,!1)}();return d}function $D(e,i,t,o){switch(i){case"start":e.onStart(()=>o(t&&qD(t,"start",e)));break;case"done":e.onDone(()=>o(t&&qD(t,"done",e)));break;case"destroy":e.onDestroy(()=>o(t&&qD(t,"destroy",e)))}}function qD(e,i,t){const d=GD(e.element,e.triggerName,e.fromState,e.toState,i||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),p=e._data;return null!=p&&(d._data=p),d}function GD(e,i,t,o,a="",d=0,p){return{element:e,triggerName:i,fromState:t,toState:o,phaseName:a,totalTime:d,disabled:!!p}}function Za(e,i,t){let o=e.get(i);return o||e.set(i,o=t),o}function QR(e){const i=e.indexOf(":");return[e.substring(1,i),e.slice(i+1)]}const W4=(()=>typeof document>"u"?null:document.documentElement)();function WD(e){const i=e.parentNode||e.host||null;return i===W4?null:i}let sg=null,JR=!1;function e1(e,i){for(;i;){if(i===e)return!0;i=WD(i)}return!1}function t1(e,i,t){if(t)return Array.from(e.querySelectorAll(i));const o=e.querySelector(i);return o?[o]:[]}let n1=(()=>{class e{validateStyleProperty(t){return function Y4(e){sg||(sg=function Z4(){return typeof document<"u"?document.body:null}()||{},JR=!!sg.style&&"WebkitAppearance"in sg.style);let i=!0;return sg.style&&!function K4(e){return"ebkit"==e.substring(1,6)}(e)&&(i=e in sg.style,!i&&JR&&(i="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in sg.style)),i}(t)}matchesElement(t,o){return!1}containsElement(t,o){return e1(t,o)}getParentElement(t){return WD(t)}query(t,o,a){return t1(t,o,a)}computeStyle(t,o,a){return a||""}animate(t,o,a,d,p,g=[],_){return new g_(a,d)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})(),KD=(()=>{class e{static#e=this.NOOP=new n1}return e})();const X4=1e3,YD="ng-enter",C0="ng-leave",I0="ng-trigger",S0=".ng-trigger",o1="ng-animating",ZD=".ng-animating";function nf(e){if("number"==typeof e)return e;const i=e.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:XD(parseFloat(i[1]),i[2])}function XD(e,i){return"s"===i?e*X4:e}function T0(e,i,t){return e.hasOwnProperty("duration")?e:function J4(e,i,t){let a,d=0,p="";if("string"==typeof e){const g=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return i.push(ZR()),{duration:0,delay:0,easing:""};a=XD(parseFloat(g[1]),g[2]);const _=g[3];null!=_&&(d=XD(parseFloat(_),g[4]));const E=g[5];E&&(p=E)}else a=e;if(!t){let g=!1,_=i.length;a<0&&(i.push(function f4(){return new ge(3100,!1)}()),g=!0),d<0&&(i.push(function p4(){return new ge(3101,!1)}()),g=!0),g&&i.splice(_,0,ZR())}return{duration:a,delay:d,easing:p}}(e,i,t)}function b_(e,i={}){return Object.keys(e).forEach(t=>{i[t]=e[t]}),i}function s1(e){const i=new Map;return Object.keys(e).forEach(t=>{i.set(t,e[t])}),i}function Ap(e,i=new Map,t){if(t)for(let[o,a]of t)i.set(o,a);for(let[o,a]of e)i.set(o,a);return i}function wd(e,i,t){i.forEach((o,a)=>{const d=JD(a);t&&!t.has(a)&&t.set(a,e.style[d]),e.style[d]=o})}function ag(e,i){i.forEach((t,o)=>{const a=JD(o);e.style[a]=""})}function w_(e){return Array.isArray(e)?1==e.length?e[0]:lR(e):e}const QD=new RegExp("{{\\s*(.+?)\\s*}}","g");function c1(e){let i=[];if("string"==typeof e){let t;for(;t=QD.exec(e);)i.push(t[1]);QD.lastIndex=0}return i}function E_(e,i,t){const o=e.toString(),a=o.replace(QD,(d,p)=>{let g=i[p];return null==g&&(t.push(function g4(e){return new ge(3003,!1)}()),g=""),g.toString()});return a==o?e:a}function x0(e){const i=[];let t=e.next();for(;!t.done;)i.push(t.value),t=e.next();return i}const n$=/-+([a-z0-9])/g;function JD(e){return e.replace(n$,(...i)=>i[1].toUpperCase())}function Xa(e,i,t){switch(i.type){case 7:return e.visitTrigger(i,t);case 0:return e.visitState(i,t);case 1:return e.visitTransition(i,t);case 2:return e.visitSequence(i,t);case 3:return e.visitGroup(i,t);case 4:return e.visitAnimate(i,t);case 5:return e.visitKeyframes(i,t);case 6:return e.visitStyle(i,t);case 8:return e.visitReference(i,t);case 9:return e.visitAnimateChild(i,t);case 10:return e.visitAnimateRef(i,t);case 11:return e.visitQuery(i,t);case 12:return e.visitStagger(i,t);default:throw function v4(e){return new ge(3004,!1)}()}}function u1(e,i){return window.getComputedStyle(e)[i]}const A0="*";function o$(e,i){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(o=>function s$(e,i,t){if(":"==e[0]){const _=function a$(e,i){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return i.push(function R4(e){return new ge(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof _)return void i.push(_);e=_}const o=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(function M4(e){return new ge(3015,!1)}()),i;const a=o[1],d=o[2],p=o[3];i.push(l1(a,p));"<"==d[0]&&!(a==A0&&p==A0)&&i.push(l1(p,a))}(o,t,i)):t.push(e),t}const M0=new Set(["true","1"]),R0=new Set(["false","0"]);function l1(e,i){const t=M0.has(e)||R0.has(e),o=M0.has(i)||R0.has(i);return(a,d)=>{let p=e==A0||e==a,g=i==A0||i==d;return!p&&t&&"boolean"==typeof a&&(p=a?M0.has(e):R0.has(e)),!g&&o&&"boolean"==typeof d&&(g=d?M0.has(i):R0.has(i)),p&&g}}const c$=new RegExp("s*:selfs*,?","g");function eC(e,i,t,o){return new u$(e).build(i,t,o)}class u${constructor(i){this._driver=i}build(i,t,o){const a=new h$(t);return this._resetContextStyleTimingState(a),Xa(this,w_(i),a)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,t){let o=t.queryCount=0,a=t.depCount=0;const d=[],p=[];return"@"==i.name.charAt(0)&&t.errors.push(function _4(){return new ge(3006,!1)}()),i.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),0==g.type){const _=g,E=_.name;E.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,d.push(this.visitState(_,t))}),_.name=E}else if(1==g.type){const _=this.visitTransition(g,t);o+=_.queryCount,a+=_.depCount,p.push(_)}else t.errors.push(function b4(){return new ge(3007,!1)}())}),{type:7,name:i.name,states:d,transitions:p,queryCount:o,depCount:a,options:null}}visitState(i,t){const o=this.visitStyle(i.styles,t),a=i.options&&i.options.params||null;if(o.containsDynamicStyles){const d=new Set,p=a||{};o.styles.forEach(g=>{g instanceof Map&&g.forEach(_=>{c1(_).forEach(E=>{p.hasOwnProperty(E)||d.add(E)})})}),d.size&&(x0(d.values()),t.errors.push(function w4(e,i){return new ge(3008,!1)}()))}return{type:0,name:i.name,style:o,options:a?{params:a}:null}}visitTransition(i,t){t.queryCount=0,t.depCount=0;const o=Xa(this,w_(i.animation),t);return{type:1,matchers:o$(i.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:cg(i.options)}}visitSequence(i,t){return{type:2,steps:i.steps.map(o=>Xa(this,o,t)),options:cg(i.options)}}visitGroup(i,t){const o=t.currentTime;let a=0;const d=i.steps.map(p=>{t.currentTime=o;const g=Xa(this,p,t);return a=Math.max(a,t.currentTime),g});return t.currentTime=a,{type:3,steps:d,options:cg(i.options)}}visitAnimate(i,t){const o=function p$(e,i){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return tC(T0(e,i).duration,0,"");const t=e;if(t.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=tC(0,0,"");return d.dynamic=!0,d.strValue=t,d}const a=T0(t,i);return tC(a.duration,a.delay,a.easing)}(i.timings,t.errors);t.currentAnimateTimings=o;let a,d=i.styles?i.styles:Ip({});if(5==d.type)a=this.visitKeyframes(d,t);else{let p=i.styles,g=!1;if(!p){g=!0;const E={};o.easing&&(E.easing=o.easing),p=Ip(E)}t.currentTime+=o.duration+o.delay;const _=this.visitStyle(p,t);_.isEmptyStep=g,a=_}return t.currentAnimateTimings=null,{type:4,timings:o,style:a,options:null}}visitStyle(i,t){const o=this._makeStyleAst(i,t);return this._validateStyleAst(o,t),o}_makeStyleAst(i,t){const o=[],a=Array.isArray(i.styles)?i.styles:[i.styles];for(let g of a)"string"==typeof g?g===ef?o.push(g):t.errors.push(new ge(3002,!1)):o.push(s1(g));let d=!1,p=null;return o.forEach(g=>{if(g instanceof Map&&(g.has("easing")&&(p=g.get("easing"),g.delete("easing")),!d))for(let _ of g.values())if(_.toString().indexOf("{{")>=0){d=!0;break}}),{type:6,styles:o,easing:p,offset:i.offset,containsDynamicStyles:d,options:null}}_validateStyleAst(i,t){const o=t.currentAnimateTimings;let a=t.currentTime,d=t.currentTime;o&&d>0&&(d-=o.duration+o.delay),i.styles.forEach(p=>{"string"!=typeof p&&p.forEach((g,_)=>{const E=t.collectedStyles.get(t.currentQuerySelector),I=E.get(_);let R=!0;I&&(d!=a&&d>=I.startTime&&a<=I.endTime&&(t.errors.push(function D4(e,i,t,o,a){return new ge(3010,!1)}()),R=!1),d=I.startTime),R&&E.set(_,{startTime:d,endTime:a}),t.options&&function t$(e,i,t){const o=i.params||{},a=c1(e);a.length&&a.forEach(d=>{o.hasOwnProperty(d)||t.push(function m4(e){return new ge(3001,!1)}())})}(g,t.options,t.errors)})})}visitKeyframes(i,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function C4(){return new ge(3011,!1)}()),o;let d=0;const p=[];let g=!1,_=!1,E=0;const I=i.steps.map(Ee=>{const ae=this._makeStyleAst(Ee,t);let Ue=null!=ae.offset?ae.offset:function f$(e){if("string"==typeof e)return null;let i=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const o=t;i=parseFloat(o.get("offset")),o.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;i=parseFloat(t.get("offset")),t.delete("offset")}return i}(ae.styles),qe=0;return null!=Ue&&(d++,qe=ae.offset=Ue),_=_||qe<0||qe>1,g=g||qe<E,E=qe,p.push(qe),ae});_&&t.errors.push(function I4(){return new ge(3012,!1)}()),g&&t.errors.push(function S4(){return new ge(3200,!1)}());const R=i.steps.length;let F=0;d>0&&d<R?t.errors.push(function T4(){return new ge(3202,!1)}()):0==d&&(F=1/(R-1));const j=R-1,H=t.currentTime,W=t.currentAnimateTimings,fe=W.duration;return I.forEach((Ee,ae)=>{const Ue=F>0?ae==j?1:F*ae:p[ae],qe=Ue*fe;t.currentTime=H+W.delay+qe,W.duration=qe,this._validateStyleAst(Ee,t),Ee.offset=Ue,o.styles.push(Ee)}),o}visitReference(i,t){return{type:8,animation:Xa(this,w_(i.animation),t),options:cg(i.options)}}visitAnimateChild(i,t){return t.depCount++,{type:9,options:cg(i.options)}}visitAnimateRef(i,t){return{type:10,animation:this.visitReference(i.animation,t),options:cg(i.options)}}visitQuery(i,t){const o=t.currentQuerySelector,a=i.options||{};t.queryCount++,t.currentQuery=i;const[d,p]=function l$(e){const i=!!e.split(/\s*,\s*/).find(t=>":self"==t);return i&&(e=e.replace(c$,"")),e=e.replace(/@\*/g,S0).replace(/@\w+/g,t=>S0+"-"+t.slice(1)).replace(/:animating/g,ZD),[e,i]}(i.selector);t.currentQuerySelector=o.length?o+" "+d:d,Za(t.collectedStyles,t.currentQuerySelector,new Map);const g=Xa(this,w_(i.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:d,limit:a.limit||0,optional:!!a.optional,includeSelf:p,animation:g,originalSelector:i.selector,options:cg(i.options)}}visitStagger(i,t){t.currentQuery||t.errors.push(function x4(){return new ge(3013,!1)}());const o="full"===i.timings?{duration:0,delay:0,easing:"full"}:T0(i.timings,t.errors,!0);return{type:12,animation:Xa(this,w_(i.animation),t),timings:o,options:null}}}class h${constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function cg(e){return e?(e=b_(e)).params&&(e.params=function d$(e){return e?b_(e):null}(e.params)):e={},e}function tC(e,i,t){return{duration:e,delay:i,easing:t}}function nC(e,i,t,o,a,d,p=null,g=!1){return{type:1,element:e,keyframes:i,preStyleProps:t,postStyleProps:o,duration:a,delay:d,totalTime:a+d,easing:p,subTimeline:g}}class k0{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,t){let o=this._map.get(i);o||this._map.set(i,o=[]),o.push(...t)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const v$=new RegExp(":enter","g"),_$=new RegExp(":leave","g");function rC(e,i,t,o,a,d=new Map,p=new Map,g,_,E=[]){return(new b$).buildKeyframes(e,i,t,o,a,d,p,g,_,E)}class b${buildKeyframes(i,t,o,a,d,p,g,_,E,I=[]){E=E||new k0;const R=new iC(i,t,E,a,d,I,[]);R.options=_;const F=_.delay?nf(_.delay):0;R.currentTimeline.delayNextStep(F),R.currentTimeline.setStyles([p],null,R.errors,_),Xa(this,o,R);const j=R.timelines.filter(H=>H.containsAnimation());if(j.length&&g.size){let H;for(let W=j.length-1;W>=0;W--){const fe=j[W];if(fe.element===t){H=fe;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([g],null,R.errors,_)}return j.length?j.map(H=>H.buildKeyframes()):[nC(t,[],[],[],0,F,"",!1)]}visitTrigger(i,t){}visitState(i,t){}visitTransition(i,t){}visitAnimateChild(i,t){const o=t.subInstructions.get(t.element);if(o){const a=t.createSubContext(i.options),d=t.currentTimeline.currentTime,p=this._visitSubInstructions(o,a,a.options);d!=p&&t.transformIntoNewTimeline(p)}t.previousNode=i}visitAnimateRef(i,t){const o=t.createSubContext(i.options);o.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],t,o),this.visitReference(i.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=i}_applyAnimationRefDelays(i,t,o){for(const a of i){const d=a?.delay;if(d){const p="number"==typeof d?d:nf(E_(d,a?.params??{},t.errors));o.delayNextStep(p)}}}_visitSubInstructions(i,t,o){let d=t.currentTimeline.currentTime;const p=null!=o.duration?nf(o.duration):null,g=null!=o.delay?nf(o.delay):null;return 0!==p&&i.forEach(_=>{const E=t.appendInstructionToTimeline(_,p,g);d=Math.max(d,E.duration+E.delay)}),d}visitReference(i,t){t.updateOptions(i.options,!0),Xa(this,i.animation,t),t.previousNode=i}visitSequence(i,t){const o=t.subContextCount;let a=t;const d=i.options;if(d&&(d.params||d.delay)&&(a=t.createSubContext(d),a.transformIntoNewTimeline(),null!=d.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=O0);const p=nf(d.delay);a.delayNextStep(p)}i.steps.length&&(i.steps.forEach(p=>Xa(this,p,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>o&&a.transformIntoNewTimeline()),t.previousNode=i}visitGroup(i,t){const o=[];let a=t.currentTimeline.currentTime;const d=i.options&&i.options.delay?nf(i.options.delay):0;i.steps.forEach(p=>{const g=t.createSubContext(i.options);d&&g.delayNextStep(d),Xa(this,p,g),a=Math.max(a,g.currentTimeline.currentTime),o.push(g.currentTimeline)}),o.forEach(p=>t.currentTimeline.mergeTimelineCollectedStyles(p)),t.transformIntoNewTimeline(a),t.previousNode=i}_visitTiming(i,t){if(i.dynamic){const o=i.strValue;return T0(t.params?E_(o,t.params,t.errors):o,t.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,t){const o=t.currentAnimateTimings=this._visitTiming(i.timings,t),a=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),a.snapshotCurrentStyles());const d=i.style;5==d.type?this.visitKeyframes(d,t):(t.incrementTime(o.duration),this.visitStyle(d,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=i}visitStyle(i,t){const o=t.currentTimeline,a=t.currentAnimateTimings;!a&&o.hasCurrentStyleProperties()&&o.forwardFrame();const d=a&&a.easing||i.easing;i.isEmptyStep?o.applyEmptyStep(d):o.setStyles(i.styles,d,t.errors,t.options),t.previousNode=i}visitKeyframes(i,t){const o=t.currentAnimateTimings,a=t.currentTimeline.duration,d=o.duration,g=t.createSubContext().currentTimeline;g.easing=o.easing,i.styles.forEach(_=>{g.forwardTime((_.offset||0)*d),g.setStyles(_.styles,_.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(a+d),t.previousNode=i}visitQuery(i,t){const o=t.currentTimeline.currentTime,a=i.options||{},d=a.delay?nf(a.delay):0;d&&(6===t.previousNode.type||0==o&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=O0);let p=o;const g=t.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=g.length;let _=null;g.forEach((E,I)=>{t.currentQueryIndex=I;const R=t.createSubContext(i.options,E);d&&R.delayNextStep(d),E===t.element&&(_=R.currentTimeline),Xa(this,i.animation,R),R.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,R.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(p),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=i}visitStagger(i,t){const o=t.parentContext,a=t.currentTimeline,d=i.timings,p=Math.abs(d.duration),g=p*(t.currentQueryTotal-1);let _=p*t.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":_=g-_;break;case"full":_=o.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const R=I.currentTime;Xa(this,i.animation,t),t.previousNode=i,o.currentStaggerTime=a.currentTime-R+(a.startTime-o.currentTimeline.startTime)}}const O0={};class iC{constructor(i,t,o,a,d,p,g,_){this._driver=i,this.element=t,this.subInstructions=o,this._enterClassName=a,this._leaveClassName=d,this.errors=p,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=O0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new N0(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,t){if(!i)return;const o=i;let a=this.options;null!=o.duration&&(a.duration=nf(o.duration)),null!=o.delay&&(a.delay=nf(o.delay));const d=o.params;if(d){let p=a.params;p||(p=this.options.params={}),Object.keys(d).forEach(g=>{(!t||!p.hasOwnProperty(g))&&(p[g]=E_(d[g],p,this.errors))})}}_copyOptions(){const i={};if(this.options){const t=this.options.params;if(t){const o=i.params={};Object.keys(t).forEach(a=>{o[a]=t[a]})}}return i}createSubContext(i=null,t,o){const a=t||this.element,d=new iC(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,o||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(i),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(i){return this.previousNode=O0,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,t,o){const a={duration:t??i.duration,delay:this.currentTimeline.currentTime+(o??0)+i.delay,easing:""},d=new w$(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,a,i.stretchStartingKeyframe);return this.timelines.push(d),a}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,t,o,a,d,p){let g=[];if(a&&g.push(this.element),i.length>0){i=(i=i.replace(v$,"."+this._enterClassName)).replace(_$,"."+this._leaveClassName);let E=this._driver.query(this.element,i,1!=o);0!==o&&(E=o<0?E.slice(E.length+o,E.length):E.slice(0,o)),g.push(...E)}return!d&&0==g.length&&p.push(function A4(e){return new ge(3014,!1)}()),g}}class N0{constructor(i,t,o,a){this._driver=i,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=a,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+i),t&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,t){return this.applyStylesToKeyframe(),new N0(this._driver,i,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,t){this._localTimelineStyles.set(i,t),this._globalTimelineStyles.set(i,t),this._styleSummary.set(i,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[t,o]of this._globalTimelineStyles)this._backFill.set(t,o||ef),this._currentKeyframe.set(t,ef);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,t,o,a){t&&this._previousKeyframe.set("easing",t);const d=a&&a.params||{},p=function E$(e,i){const t=new Map;let o;return e.forEach(a=>{if("*"===a){o=o||i.keys();for(let d of o)t.set(d,ef)}else Ap(a,t)}),t}(i,this._globalTimelineStyles);for(let[g,_]of p){const E=E_(_,d,o);this._pendingStyles.set(g,E),this._localTimelineStyles.has(g)||this._backFill.set(g,this._globalTimelineStyles.get(g)??ef),this._updateStyle(g,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,t)=>{this._currentKeyframe.set(t,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,i)}))}snapshotCurrentStyles(){for(let[i,t]of this._localTimelineStyles)this._pendingStyles.set(i,t),this._updateStyle(i,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let t in this._currentKeyframe)i.push(t);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((t,o)=>{const a=this._styleSummary.get(o);(!a||t.time>a.time)&&this._updateStyle(o,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((g,_)=>{const E=Ap(g,new Map,this._backFill);E.forEach((I,R)=>{"!"===I?i.add(R):I===ef&&t.add(R)}),o||E.set("offset",_/this.duration),a.push(E)});const d=i.size?x0(i.values()):[],p=t.size?x0(t.values()):[];if(o){const g=a[0],_=new Map(g);g.set("offset",0),_.set("offset",1),a=[g,_]}return nC(this.element,a,d,p,this.duration,this.startTime,this.easing,!1)}}class w$ extends N0{constructor(i,t,o,a,d,p,g=!1){super(i,t,p.delay),this.keyframes=o,this.preStyleProps=a,this.postStyleProps=d,this._stretchStartingKeyframe=g,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:t,duration:o,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const d=[],p=o+t,g=t/p,_=Ap(i[0]);_.set("offset",0),d.push(_);const E=Ap(i[0]);E.set("offset",f1(g)),d.push(E);const I=i.length-1;for(let R=1;R<=I;R++){let F=Ap(i[R]);const j=F.get("offset");F.set("offset",f1((t+j*o)/p)),d.push(F)}o=p,t=0,a="",i=d}return nC(this.element,i,this.preStyleProps,this.postStyleProps,o,t,a,!0)}}function f1(e,i=3){const t=Math.pow(10,i-1);return Math.round(e*t)/t}class oC{}const D$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class C$ extends oC{normalizePropertyName(i,t){return JD(i)}normalizeStyleValue(i,t,o,a){let d="";const p=o.toString().trim();if(D$.has(t)&&0!==o&&"0"!==o)if("number"==typeof o)d="px";else{const g=o.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&a.push(function y4(e,i){return new ge(3005,!1)}())}return p+d}}function p1(e,i,t,o,a,d,p,g,_,E,I,R,F){return{type:0,element:e,triggerName:i,isRemovalTransition:a,fromState:t,fromStyles:d,toState:o,toStyles:p,timelines:g,queriedElements:_,preStyleProps:E,postStyleProps:I,totalTime:R,errors:F}}const sC={};class m1{constructor(i,t,o){this._triggerName=i,this.ast=t,this._stateStyles=o}match(i,t,o,a){return function I$(e,i,t,o,a){return e.some(d=>d(i,t,o,a))}(this.ast.matchers,i,t,o,a)}buildStyles(i,t,o){let a=this._stateStyles.get("*");return void 0!==i&&(a=this._stateStyles.get(i?.toString())||a),a?a.buildStyles(t,o):new Map}build(i,t,o,a,d,p,g,_,E,I){const R=[],F=this.ast.options&&this.ast.options.params||sC,H=this.buildStyles(o,g&&g.params||sC,R),W=_&&_.params||sC,fe=this.buildStyles(a,W,R),Ee=new Set,ae=new Map,Ue=new Map,qe="void"===a,Ut={params:S$(W,F),delay:this.ast.options?.delay},tr=I?[]:rC(i,t,this.ast.animation,d,p,H,fe,Ut,E,R);let gr=0;if(tr.forEach(Qa=>{gr=Math.max(Qa.duration+Qa.delay,gr)}),R.length)return p1(t,this._triggerName,o,a,qe,H,fe,[],[],ae,Ue,gr,R);tr.forEach(Qa=>{const Ju=Qa.element,j0=Za(ae,Ju,new Set);Qa.preStyleProps.forEach(ug=>j0.add(ug));const C_=Za(Ue,Ju,new Set);Qa.postStyleProps.forEach(ug=>C_.add(ug)),Ju!==t&&Ee.add(Ju)});const No=x0(Ee.values());return p1(t,this._triggerName,o,a,qe,H,fe,tr,No,ae,Ue,gr)}}function S$(e,i){const t=b_(i);for(const o in e)e.hasOwnProperty(o)&&null!=e[o]&&(t[o]=e[o]);return t}class T${constructor(i,t,o){this.styles=i,this.defaultParams=t,this.normalizer=o}buildStyles(i,t){const o=new Map,a=b_(this.defaultParams);return Object.keys(i).forEach(d=>{const p=i[d];null!==p&&(a[d]=p)}),this.styles.styles.forEach(d=>{"string"!=typeof d&&d.forEach((p,g)=>{p&&(p=E_(p,a,t));const _=this.normalizer.normalizePropertyName(g,t);p=this.normalizer.normalizeStyleValue(g,_,p,t),o.set(g,p)})}),o}}class A${constructor(i,t,o){this.name=i,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states=new Map,t.states.forEach(a=>{this.states.set(a.name,new T$(a.style,a.options&&a.options.params||{},o))}),g1(this.states,"true","1"),g1(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new m1(i,a,this.states))}),this.fallbackTransition=function M$(e,i,t){return new m1(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,g)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,t,o,a){return this.transitionFactories.find(p=>p.match(i,t,o,a))||null}matchStyles(i,t,o){return this.fallbackTransition.buildStyles(i,t,o)}}function g1(e,i,t){e.has(i)?e.has(t)||e.set(t,e.get(i)):e.has(t)&&e.set(i,e.get(t))}const R$=new k0;class k${constructor(i,t,o){this.bodyNode=i,this._driver=t,this._normalizer=o,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,t){const o=[],d=eC(this._driver,t,o,[]);if(o.length)throw function F4(e){return new ge(3503,!1)}();this._animations.set(i,d)}_buildPlayer(i,t,o){const a=i.element,d=XR(this._normalizer,i.keyframes,t,o);return this._driver.animate(a,d,i.duration,i.delay,i.easing,[],!0)}create(i,t,o={}){const a=[],d=this._animations.get(i);let p;const g=new Map;if(d?(p=rC(this._driver,t,d,YD,C0,new Map,new Map,o,R$,a),p.forEach(I=>{const R=Za(g,I.element,new Map);I.postStyleProps.forEach(F=>R.set(F,null))})):(a.push(function L4(){return new ge(3300,!1)}()),p=[]),a.length)throw function j4(e){return new ge(3504,!1)}();g.forEach((I,R)=>{I.forEach((F,j)=>{I.set(j,this._driver.computeStyle(R,j,ef))})});const E=xp(p.map(I=>{const R=g.get(I.element);return this._buildPlayer(I,new Map,R)}));return this._playersById.set(i,E),E.onDestroy(()=>this.destroy(i)),this.players.push(E),E}destroy(i){const t=this._getPlayer(i);t.destroy(),this._playersById.delete(i);const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(i){const t=this._playersById.get(i);if(!t)throw function B4(e){return new ge(3301,!1)}();return t}listen(i,t,o,a){const d=GD(t,"","","");return $D(this._getPlayer(i),o,d,a),()=>{}}command(i,t,o,a){if("register"==o)return void this.register(i,a[0]);if("create"==o)return void this.create(i,t,a[0]||{});const d=this._getPlayer(i);switch(o){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(i)}}}const v1="ng-animate-queued",aC="ng-animate-disabled",L$=[],y1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},j$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qu="__ng_removed";class cC{get params(){return this.options.params}constructor(i,t=""){this.namespaceId=t;const o=i&&i.hasOwnProperty("value");if(this.value=function H$(e){return e??null}(o?i.value:i),o){const d=b_(i);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const t=i.params;if(t){const o=this.options.params;Object.keys(t).forEach(a=>{null==o[a]&&(o[a]=t[a])})}}}const D_="void",uC=new cC(D_);class B${constructor(i,t,o){this.id=i,this.hostElement=t,this._engine=o,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Hc(t,this._hostClassName)}listen(i,t,o,a){if(!this._triggers.has(t))throw function V4(e,i){return new ge(3302,!1)}();if(null==o||0==o.length)throw function U4(e){return new ge(3303,!1)}();if(!function z$(e){return"start"==e||"done"==e}(o))throw function H4(e,i){return new ge(3400,!1)}();const d=Za(this._elementListeners,i,[]),p={name:t,phase:o,callback:a};d.push(p);const g=Za(this._engine.statesByElement,i,new Map);return g.has(t)||(Hc(i,I0),Hc(i,I0+"-"+t),g.set(t,uC)),()=>{this._engine.afterFlush(()=>{const _=d.indexOf(p);_>=0&&d.splice(_,1),this._triggers.has(t)||g.delete(t)})}}register(i,t){return!this._triggers.has(i)&&(this._triggers.set(i,t),!0)}_getTrigger(i){const t=this._triggers.get(i);if(!t)throw function z4(e){return new ge(3401,!1)}();return t}trigger(i,t,o,a=!0){const d=this._getTrigger(t),p=new lC(this.id,t,i);let g=this._engine.statesByElement.get(i);g||(Hc(i,I0),Hc(i,I0+"-"+t),this._engine.statesByElement.set(i,g=new Map));let _=g.get(t);const E=new cC(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&_&&E.absorbOptions(_.options),g.set(t,E),_||(_=uC),E.value!==D_&&_.value===E.value){if(!function G$(e,i){const t=Object.keys(e),o=Object.keys(i);if(t.length!=o.length)return!1;for(let a=0;a<t.length;a++){const d=t[a];if(!i.hasOwnProperty(d)||e[d]!==i[d])return!1}return!0}(_.params,E.params)){const W=[],fe=d.matchStyles(_.value,_.params,W),Ee=d.matchStyles(E.value,E.params,W);W.length?this._engine.reportError(W):this._engine.afterFlush(()=>{ag(i,fe),wd(i,Ee)})}return}const F=Za(this._engine.playersByElement,i,[]);F.forEach(W=>{W.namespaceId==this.id&&W.triggerName==t&&W.queued&&W.destroy()});let j=d.matchTransition(_.value,E.value,i,E.params),H=!1;if(!j){if(!a)return;j=d.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:t,transition:j,fromState:_,toState:E,player:p,isFallbackTransition:H}),H||(Hc(i,v1),p.onStart(()=>{Hv(i,v1)})),p.onDone(()=>{let W=this.players.indexOf(p);W>=0&&this.players.splice(W,1);const fe=this._engine.playersByElement.get(i);if(fe){let Ee=fe.indexOf(p);Ee>=0&&fe.splice(Ee,1)}}),this.players.push(p),F.push(p),p}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(t=>t.delete(i)),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(a=>a.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const t=this._engine.playersByElement.get(i);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,t){const o=this._engine.driver.query(i,S0,!0);o.forEach(a=>{if(a[Qu])return;const d=this._engine.fetchNamespacesByElement(a);d.size?d.forEach(p=>p.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(i,t,o,a){const d=this._engine.statesByElement.get(i),p=new Map;if(d){const g=[];if(d.forEach((_,E)=>{if(p.set(E,_.value),this._triggers.has(E)){const I=this.trigger(i,E,D_,a);I&&g.push(I)}}),g.length)return this._engine.markElementAsRemoved(this.id,i,!0,t,p),o&&xp(g).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const t=this._elementListeners.get(i),o=this._engine.statesByElement.get(i);if(t&&o){const a=new Set;t.forEach(d=>{const p=d.name;if(a.has(p))return;a.add(p);const _=this._triggers.get(p).fallbackTransition,E=o.get(p)||uC,I=new cC(D_),R=new lC(this.id,p,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:p,transition:_,fromState:E,toState:I,player:R,isFallbackTransition:!0})})}}removeNode(i,t){const o=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,t),this.triggerLeaveAnimation(i,t,!0))return;let a=!1;if(o.totalAnimations){const d=o.players.length?o.playersByQueriedElement.get(i):[];if(d&&d.length)a=!0;else{let p=i;for(;p=p.parentNode;)if(o.statesByElement.get(p)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(i),a)o.markElementAsRemoved(this.id,i,!1,t);else{const d=i[Qu];(!d||d===y1)&&(o.afterFlush(()=>this.clearElementCache(i)),o.destroyInnerAnimations(i),o._onRemovalComplete(i,t))}}insertNode(i,t){Hc(i,this._hostClassName)}drainQueuedTransitions(i){const t=[];return this._queue.forEach(o=>{const a=o.player;if(a.destroyed)return;const d=o.element,p=this._elementListeners.get(d);p&&p.forEach(g=>{if(g.name==o.triggerName){const _=GD(d,o.triggerName,o.fromState.value,o.toState.value);_._data=i,$D(o.player,g.phase,_,g.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(o)}),this._queue=[],t.sort((o,a)=>{const d=o.transition.ast.depCount,p=a.transition.ast.depCount;return 0==d||0==p?d-p:this._engine.driver.containsElement(o.element,a.element)?1:-1})}destroy(i){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}}class V${_onRemovalComplete(i,t){this.onRemovalComplete(i,t)}constructor(i,t,o){this.bodyNode=i,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,d)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&i.push(o)})}),i}createNamespace(i,t){const o=new B$(i,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[i]=o}_balanceNamespaceList(i,t){const o=this._namespaceList,a=this.namespacesByHostElement;if(o.length-1>=0){let p=!1,g=this.driver.getParentElement(t);for(;g;){const _=a.get(g);if(_){const E=o.indexOf(_);o.splice(E+1,0,i),p=!0;break}g=this.driver.getParentElement(g)}p||o.unshift(i)}else o.push(i);return a.set(t,i),i}register(i,t){let o=this._namespaceLookup[i];return o||(o=this.createNamespace(i,t)),o}registerTrigger(i,t,o){let a=this._namespaceLookup[i];a&&a.register(t,o)&&this.totalAnimations++}destroy(i,t){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const o=this._fetchNamespace(i);this.namespacesByHostElement.delete(o.hostElement);const a=this._namespaceList.indexOf(o);a>=0&&this._namespaceList.splice(a,1),o.destroy(t),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const t=new Set,o=this.statesByElement.get(i);if(o)for(let a of o.values())if(a.namespaceId){const d=this._fetchNamespace(a.namespaceId);d&&t.add(d)}return t}trigger(i,t,o,a){if(P0(t)){const d=this._fetchNamespace(i);if(d)return d.trigger(t,o,a),!0}return!1}insertNode(i,t,o,a){if(!P0(t))return;const d=t[Qu];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const p=this.collectedLeaveElements.indexOf(t);p>=0&&this.collectedLeaveElements.splice(p,1)}if(i){const p=this._fetchNamespace(i);p&&p.insertNode(t,o)}a&&this.collectEnterElement(t)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,t){t?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Hc(i,aC)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),Hv(i,aC))}removeNode(i,t,o){if(P0(t)){const a=i?this._fetchNamespace(i):null;a?a.removeNode(t,o):this.markElementAsRemoved(i,t,!1,o);const d=this.namespacesByHostElement.get(t);d&&d.id!==i&&d.removeNode(t,o)}else this._onRemovalComplete(t,o)}markElementAsRemoved(i,t,o,a,d){this.collectedLeaveElements.push(t),t[Qu]={namespaceId:i,setForRemoval:a,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:d}}listen(i,t,o,a,d){return P0(t)?this._fetchNamespace(i).listen(t,o,a,d):()=>{}}_buildInstruction(i,t,o,a,d){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,o,a,i.fromState.options,i.toState.options,t,d)}destroyInnerAnimations(i){let t=this.driver.query(i,S0,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(i,ZD,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(i){const t=this.playersByElement.get(i);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(i){const t=this.playersByQueriedElement.get(i);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return xp(this.players).onDone(()=>i());i()})}processLeaveNode(i){const t=i[Qu];if(t&&t.setForRemoval){if(i[Qu]=y1,t.namespaceId){this.destroyInnerAnimations(i);const o=this._fetchNamespace(t.namespaceId);o&&o.clearElementCache(i)}this._onRemovalComplete(i,t.setForRemoval)}i.classList?.contains(aC)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(i=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,a)=>this._balanceNamespaceList(o,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Hc(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,i)}finally{for(let a=0;a<o.length;a++)o[a]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?xp(t).onDone(()=>{o.forEach(a=>a())}):o.forEach(a=>a())}}reportError(i){throw function $4(e){return new ge(3402,!1)}()}_flushAnimations(i,t){const o=new k0,a=[],d=new Map,p=[],g=new Map,_=new Map,E=new Map,I=new Set;this.disabledNodes.forEach(Qe=>{I.add(Qe);const wt=this.driver.query(Qe,".ng-animate-queued",!0);for(let xt=0;xt<wt.length;xt++)I.add(wt[xt])});const R=this.bodyNode,F=Array.from(this.statesByElement.keys()),j=w1(F,this.collectedEnterElements),H=new Map;let W=0;j.forEach((Qe,wt)=>{const xt=YD+W++;H.set(wt,xt),Qe.forEach(Dn=>Hc(Dn,xt))});const fe=[],Ee=new Set,ae=new Set;for(let Qe=0;Qe<this.collectedLeaveElements.length;Qe++){const wt=this.collectedLeaveElements[Qe],xt=wt[Qu];xt&&xt.setForRemoval&&(fe.push(wt),Ee.add(wt),xt.hasAnimation?this.driver.query(wt,".ng-star-inserted",!0).forEach(Dn=>Ee.add(Dn)):ae.add(wt))}const Ue=new Map,qe=w1(F,Array.from(Ee));qe.forEach((Qe,wt)=>{const xt=C0+W++;Ue.set(wt,xt),Qe.forEach(Dn=>Hc(Dn,xt))}),i.push(()=>{j.forEach((Qe,wt)=>{const xt=H.get(wt);Qe.forEach(Dn=>Hv(Dn,xt))}),qe.forEach((Qe,wt)=>{const xt=Ue.get(wt);Qe.forEach(Dn=>Hv(Dn,xt))}),fe.forEach(Qe=>{this.processLeaveNode(Qe)})});const Ut=[],tr=[];for(let Qe=this._namespaceList.length-1;Qe>=0;Qe--)this._namespaceList[Qe].drainQueuedTransitions(t).forEach(xt=>{const Dn=xt.player,_o=xt.element;if(Ut.push(Dn),this.collectedEnterElements.length){const ts=_o[Qu];if(ts&&ts.setForMove){if(ts.previousTriggersValues&&ts.previousTriggersValues.has(xt.triggerName)){const lg=ts.previousTriggersValues.get(xt.triggerName),zc=this.statesByElement.get(xt.element);if(zc&&zc.has(xt.triggerName)){const B0=zc.get(xt.triggerName);B0.value=lg,zc.set(xt.triggerName,B0)}}return void Dn.destroy()}}const Ed=!R||!this.driver.containsElement(R,_o),Ja=Ue.get(_o),Mp=H.get(_o),Qr=this._buildInstruction(xt,o,Mp,Ja,Ed);if(Qr.errors&&Qr.errors.length)return void tr.push(Qr);if(Ed)return Dn.onStart(()=>ag(_o,Qr.fromStyles)),Dn.onDestroy(()=>wd(_o,Qr.toStyles)),void a.push(Dn);if(xt.isFallbackTransition)return Dn.onStart(()=>ag(_o,Qr.fromStyles)),Dn.onDestroy(()=>wd(_o,Qr.toStyles)),void a.push(Dn);const O1=[];Qr.timelines.forEach(ts=>{ts.stretchStartingKeyframe=!0,this.disabledNodes.has(ts.element)||O1.push(ts)}),Qr.timelines=O1,o.append(_o,Qr.timelines),p.push({instruction:Qr,player:Dn,element:_o}),Qr.queriedElements.forEach(ts=>Za(g,ts,[]).push(Dn)),Qr.preStyleProps.forEach((ts,lg)=>{if(ts.size){let zc=_.get(lg);zc||_.set(lg,zc=new Set),ts.forEach((B0,fC)=>zc.add(fC))}}),Qr.postStyleProps.forEach((ts,lg)=>{let zc=E.get(lg);zc||E.set(lg,zc=new Set),ts.forEach((B0,fC)=>zc.add(fC))})});if(tr.length){const Qe=[];tr.forEach(wt=>{Qe.push(function q4(e,i){return new ge(3505,!1)}())}),Ut.forEach(wt=>wt.destroy()),this.reportError(Qe)}const gr=new Map,No=new Map;p.forEach(Qe=>{const wt=Qe.element;o.has(wt)&&(No.set(wt,wt),this._beforeAnimationBuild(Qe.player.namespaceId,Qe.instruction,gr))}),a.forEach(Qe=>{const wt=Qe.element;this._getPreviousPlayers(wt,!1,Qe.namespaceId,Qe.triggerName,null).forEach(Dn=>{Za(gr,wt,[]).push(Dn),Dn.destroy()})});const Qa=fe.filter(Qe=>D1(Qe,_,E)),Ju=new Map;b1(Ju,this.driver,ae,E,ef).forEach(Qe=>{D1(Qe,_,E)&&Qa.push(Qe)});const C_=new Map;j.forEach((Qe,wt)=>{b1(C_,this.driver,new Set(Qe),_,"!")}),Qa.forEach(Qe=>{const wt=Ju.get(Qe),xt=C_.get(Qe);Ju.set(Qe,new Map([...wt?.entries()??[],...xt?.entries()??[]]))});const ug=[],R1=[],k1={};p.forEach(Qe=>{const{element:wt,player:xt,instruction:Dn}=Qe;if(o.has(wt)){if(I.has(wt))return xt.onDestroy(()=>wd(wt,Dn.toStyles)),xt.disabled=!0,xt.overrideTotalTime(Dn.totalTime),void a.push(xt);let _o=k1;if(No.size>1){let Ja=wt;const Mp=[];for(;Ja=Ja.parentNode;){const Qr=No.get(Ja);if(Qr){_o=Qr;break}Mp.push(Ja)}Mp.forEach(Qr=>No.set(Qr,_o))}const Ed=this._buildAnimation(xt.namespaceId,Dn,gr,d,C_,Ju);if(xt.setRealPlayer(Ed),_o===k1)ug.push(xt);else{const Ja=this.playersByElement.get(_o);Ja&&Ja.length&&(xt.parentPlayer=xp(Ja)),a.push(xt)}}else ag(wt,Dn.fromStyles),xt.onDestroy(()=>wd(wt,Dn.toStyles)),R1.push(xt),I.has(wt)&&a.push(xt)}),R1.forEach(Qe=>{const wt=d.get(Qe.element);if(wt&&wt.length){const xt=xp(wt);Qe.setRealPlayer(xt)}}),a.forEach(Qe=>{Qe.parentPlayer?Qe.syncPlayerEvents(Qe.parentPlayer):Qe.destroy()});for(let Qe=0;Qe<fe.length;Qe++){const wt=fe[Qe],xt=wt[Qu];if(Hv(wt,C0),xt&&xt.hasAnimation)continue;let Dn=[];if(g.size){let Ed=g.get(wt);Ed&&Ed.length&&Dn.push(...Ed);let Ja=this.driver.query(wt,ZD,!0);for(let Mp=0;Mp<Ja.length;Mp++){let Qr=g.get(Ja[Mp]);Qr&&Qr.length&&Dn.push(...Qr)}}const _o=Dn.filter(Ed=>!Ed.destroyed);_o.length?$$(this,wt,_o):this.processLeaveNode(wt)}return fe.length=0,ug.forEach(Qe=>{this.players.push(Qe),Qe.onDone(()=>{Qe.destroy();const wt=this.players.indexOf(Qe);this.players.splice(wt,1)}),Qe.play()}),ug}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,t,o,a,d){let p=[];if(t){const g=this.playersByQueriedElement.get(i);g&&(p=g)}else{const g=this.playersByElement.get(i);if(g){const _=!d||d==D_;g.forEach(E=>{E.queued||!_&&E.triggerName!=a||p.push(E)})}}return(o||a)&&(p=p.filter(g=>!(o&&o!=g.namespaceId||a&&a!=g.triggerName))),p}_beforeAnimationBuild(i,t,o){const d=t.element,p=t.isRemovalTransition?void 0:i,g=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const E=_.element,I=E!==d,R=Za(o,E,[]);this._getPreviousPlayers(E,I,p,g,t.toState).forEach(j=>{const H=j.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),j.destroy(),R.push(j)})}ag(d,t.fromStyles)}_buildAnimation(i,t,o,a,d,p){const g=t.triggerName,_=t.element,E=[],I=new Set,R=new Set,F=t.timelines.map(H=>{const W=H.element;I.add(W);const fe=W[Qu];if(fe&&fe.removedBeforeQueried)return new g_(H.duration,H.delay);const Ee=W!==_,ae=function q$(e){const i=[];return E1(e,i),i}((o.get(W)||L$).map(gr=>gr.getRealPlayer())).filter(gr=>!!gr.element&&gr.element===W),Ue=d.get(W),qe=p.get(W),Ut=XR(this._normalizer,H.keyframes,Ue,qe),tr=this._buildPlayer(H,Ut,ae);if(H.subTimeline&&a&&R.add(W),Ee){const gr=new lC(i,g,W);gr.setRealPlayer(tr),E.push(gr)}return tr});E.forEach(H=>{Za(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function U$(e,i,t){let o=e.get(i);if(o){if(o.length){const a=o.indexOf(t);o.splice(a,1)}0==o.length&&e.delete(i)}return o}(this.playersByQueriedElement,H.element,H))}),I.forEach(H=>Hc(H,o1));const j=xp(F);return j.onDestroy(()=>{I.forEach(H=>Hv(H,o1)),wd(_,t.toStyles)}),R.forEach(H=>{Za(a,H,[]).push(j)}),j}_buildPlayer(i,t,o){return t.length>0?this.driver.animate(i.element,t,i.duration,i.delay,i.easing,o):new g_(i.duration,i.delay)}}class lC{constructor(i,t,o){this.namespaceId=i,this.triggerName=t,this.element=o,this._player=new g_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((t,o)=>{t.forEach(a=>$D(i,o,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const t=this._player;t.triggerCallback&&i.onStart(()=>t.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,t){Za(this._queuedCallbacks,i,[]).push(t)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const t=this._player;t.triggerCallback&&t.triggerCallback(i)}}function P0(e){return e&&1===e.nodeType}function _1(e,i){const t=e.style.display;return e.style.display=i??"none",t}function b1(e,i,t,o,a){const d=[];t.forEach(_=>d.push(_1(_)));const p=[];o.forEach((_,E)=>{const I=new Map;_.forEach(R=>{const F=i.computeStyle(E,R,a);I.set(R,F),(!F||0==F.length)&&(E[Qu]=j$,p.push(E))}),e.set(E,I)});let g=0;return t.forEach(_=>_1(_,d[g++])),p}function w1(e,i){const t=new Map;if(e.forEach(g=>t.set(g,[])),0==i.length)return t;const a=new Set(i),d=new Map;function p(g){if(!g)return 1;let _=d.get(g);if(_)return _;const E=g.parentNode;return _=t.has(E)?E:a.has(E)?1:p(E),d.set(g,_),_}return i.forEach(g=>{const _=p(g);1!==_&&t.get(_).push(g)}),t}function Hc(e,i){e.classList?.add(i)}function Hv(e,i){e.classList?.remove(i)}function $$(e,i,t){xp(t).onDone(()=>e.processLeaveNode(i))}function E1(e,i){for(let t=0;t<e.length;t++){const o=e[t];o instanceof dR?E1(o.players,i):i.push(o)}}function D1(e,i,t){const o=t.get(e);if(!o)return!1;let a=i.get(e);return a?o.forEach(d=>a.add(d)):i.set(e,o),t.delete(e),!0}class F0{constructor(i,t,o){this.bodyNode=i,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(a,d)=>{},this._transitionEngine=new V$(i,t,o),this._timelineEngine=new k$(i,t,o),this._transitionEngine.onRemovalComplete=(a,d)=>this.onRemovalComplete(a,d)}registerTrigger(i,t,o,a,d){const p=i+"-"+a;let g=this._triggerCache[p];if(!g){const _=[],I=eC(this._driver,d,_,[]);if(_.length)throw function N4(e,i){return new ge(3404,!1)}();g=function x$(e,i,t){return new A$(e,i,t)}(a,I,this._normalizer),this._triggerCache[p]=g}this._transitionEngine.registerTrigger(t,a,g)}register(i,t){this._transitionEngine.register(i,t)}destroy(i,t){this._transitionEngine.destroy(i,t)}onInsert(i,t,o,a){this._transitionEngine.insertNode(i,t,o,a)}onRemove(i,t,o){this._transitionEngine.removeNode(i,t,o)}disableAnimations(i,t){this._transitionEngine.markElementAsDisabled(i,t)}process(i,t,o,a){if("@"==o.charAt(0)){const[d,p]=QR(o);this._timelineEngine.command(d,t,p,a)}else this._transitionEngine.trigger(i,t,o,a)}listen(i,t,o,a,d){if("@"==o.charAt(0)){const[p,g]=QR(o);return this._timelineEngine.listen(p,t,g,d)}return this._transitionEngine.listen(i,t,o,a,d)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}}let K$=(()=>{class e{static#e=this.initialStylesByElement=new WeakMap;constructor(t,o,a){this._element=t,this._startStyles=o,this._endStyles=a,this._state=0;let d=e.initialStylesByElement.get(t);d||e.initialStylesByElement.set(t,d=new Map),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&wd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wd(this._element,this._initialStyles),this._endStyles&&(wd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(ag(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ag(this._element,this._endStyles),this._endStyles=null),wd(this._element,this._initialStyles),this._state=3)}}return e})();function dC(e){let i=null;return e.forEach((t,o)=>{(function Y$(e){return"display"===e||"position"===e})(o)&&(i=i||new Map,i.set(o,t))}),i}class C1{constructor(i,t,o,a){this.element=i,this.keyframes=t,this.options=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const t=[];return i.forEach(o=>{t.push(Object.fromEntries(o))}),t}_triggerWebAnimation(i,t,o){return i.animate(this._convertKeyframesToObject(t),o)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((o,a)=>{"offset"!==a&&i.set(a,this._finished?o:u1(this.element,a))}),this.currentSnapshot=i}triggerCallback(i){const t="start"===i?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class Z${validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,t){return!1}containsElement(i,t){return e1(i,t)}getParentElement(i){return WD(i)}query(i,t,o){return t1(i,t,o)}computeStyle(i,t,o){return window.getComputedStyle(i)[t]}animate(i,t,o,a,d,p=[]){const _={duration:o,delay:a,fill:0==a?"both":"forwards"};d&&(_.easing=d);const E=new Map,I=p.filter(j=>j instanceof C1);(function r$(e,i){return 0===e||0===i})(o,a)&&I.forEach(j=>{j.currentSnapshot.forEach((H,W)=>E.set(W,H))});let R=function e$(e){return e.length?e[0]instanceof Map?e:e.map(i=>s1(i)):[]}(t).map(j=>Ap(j));R=function i$(e,i,t){if(t.size&&i.length){let o=i[0],a=[];if(t.forEach((d,p)=>{o.has(p)||a.push(p),o.set(p,d)}),a.length)for(let d=1;d<i.length;d++){let p=i[d];a.forEach(g=>p.set(g,u1(e,g)))}}return i}(i,R,E);const F=function W$(e,i){let t=null,o=null;return Array.isArray(i)&&i.length?(t=dC(i[0]),i.length>1&&(o=dC(i[i.length-1]))):i instanceof Map&&(t=dC(i)),t||o?new K$(e,t,o):null}(i,R);return new C1(i,R,_,F)}}let X$=(()=>{class e extends cR{constructor(t,o){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(o.body,{id:"0",encapsulation:$i.None,styles:[],data:{animation:[]}})}build(t){const o=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(t)?lR(t):t;return I1(this._renderer,null,o,"register",[a]),new Q$(o,this._renderer)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(b),ne(tn))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();class Q$ extends AH{constructor(i,t){super(),this._id=i,this._renderer=t}create(i,t){return new J$(this._id,i,t||{},this._renderer)}}class J${constructor(i,t,o,a){this.id=i,this.element=t,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(i,t){return this._renderer.listen(this.element,`@@${this.id}:${i}`,t)}_command(i,...t){return I1(this._renderer,this.element,this.id,i,t)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function I1(e,i,t,o,a){return e.setProperty(i,`@@${t}:${o}`,a)}const S1="@.disabled";let e5=(()=>{class e{constructor(t,o,a){this.delegate=t,this.engine=o,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,o.onRemovalComplete=(d,p)=>{const g=p?.parentNode(d);g&&p.removeChild(g,d)}}createRenderer(t,o){const d=this.delegate.createRenderer(t,o);if(!(t&&o&&o.data&&o.data.animation)){let I=this._rendererCache.get(d);return I||(I=new T1("",d,this.engine,()=>this._rendererCache.delete(d)),this._rendererCache.set(d,I)),I}const p=o.id,g=o.id+"-"+this._currentId;this._currentId++,this.engine.register(g,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(p,g,t,I.name,I)};return o.data.animation.forEach(_),new t5(this,g,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,o,a){t>=0&&t<this._microtaskId?this._zone.run(()=>o(a)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[p,g]=d;p(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(o){return new(o||e)(ne(b),ne(F0),ne(Bt))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();class T1{constructor(i,t,o,a){this.namespaceId=i,this.delegate=t,this.engine=o,this._onDestroy=a}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,t){return this.delegate.createElement(i,t)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,t){this.delegate.appendChild(i,t),this.engine.onInsert(this.namespaceId,t,i,!1)}insertBefore(i,t,o,a=!0){this.delegate.insertBefore(i,t,o),this.engine.onInsert(this.namespaceId,t,i,a)}removeChild(i,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(i,t){return this.delegate.selectRootElement(i,t)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,t,o,a){this.delegate.setAttribute(i,t,o,a)}removeAttribute(i,t,o){this.delegate.removeAttribute(i,t,o)}addClass(i,t){this.delegate.addClass(i,t)}removeClass(i,t){this.delegate.removeClass(i,t)}setStyle(i,t,o,a){this.delegate.setStyle(i,t,o,a)}removeStyle(i,t,o){this.delegate.removeStyle(i,t,o)}setProperty(i,t,o){"@"==t.charAt(0)&&t==S1?this.disableAnimations(i,!!o):this.delegate.setProperty(i,t,o)}setValue(i,t){this.delegate.setValue(i,t)}listen(i,t,o){return this.delegate.listen(i,t,o)}disableAnimations(i,t){this.engine.disableAnimations(i,t)}}class t5 extends T1{constructor(i,t,o,a,d){super(t,o,a,d),this.factory=i,this.namespaceId=t}setProperty(i,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==S1?this.disableAnimations(i,o=void 0===o||!!o):this.engine.process(this.namespaceId,i,t.slice(1),o):this.delegate.setProperty(i,t,o)}listen(i,t,o){if("@"==t.charAt(0)){const a=function n5(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(i);let d=t.slice(1),p="";return"@"!=d.charAt(0)&&([d,p]=function r5(e){const i=e.indexOf(".");return[e.substring(0,i),e.slice(i+1)]}(d)),this.engine.listen(this.namespaceId,a,d,p,g=>{this.factory.scheduleListenerCallback(g._data||-1,o,g)})}return this.delegate.listen(i,t,o)}}const x1=[{provide:cR,useClass:X$},{provide:oC,useFactory:function s5(){return new C$}},{provide:F0,useClass:(()=>{class e extends F0{constructor(t,o,a,d){super(t.body,o,a)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(o){return new(o||e)(ne(tn),ne(KD),ne(oC),ne(_p))};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac})}return e})()},{provide:b,useFactory:function a5(e,i,t){return new e5(e,i,t)},deps:[OE,F0,Bt]}],hC=[{provide:KD,useFactory:()=>new Z$},{provide:Qo,useValue:"BrowserAnimations"},...x1],A1=[{provide:KD,useClass:n1},{provide:Qo,useValue:"NoopAnimations"},...x1];let c5=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?A1:hC}}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Ln({type:e});static#n=this.\u0275inj=pn({providers:hC,imports:[eA]})}return e})();const u5_firebaseConfig={apiKey:"AIzaSyAzQ33PejluAeWnrgGrtSVLig9WiSfx1yw",authDomain:"socialmedia-c6f22.firebaseapp.com",projectId:"socialmedia-c6f22",storageBucket:"socialmedia-c6f22.appspot.com",messagingSenderId:"791187921097",appId:"1:791187921097:web:612a7e7d4e9d6d585d9518"};let M1=(()=>{class e{constructor(){this.auth=new Jm}isLoggedIn(){return this.auth.isSignedIn()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const l5=function(e){return{"comment-container":!0,"creator-comment-container":e}},d5=function(e){return{comment:!0,"creator-comment":e}};function h5(e,i){if(1&e&&(It(0,"div",4)(1,"div")(2,"p",5),En(3),Rt(),It(4,"p",4),En(5),Rt()()()),2&e){const t=i.$implicit,o=Kh();vo("ngClass",Mw(4,l5,o.isCommentCreator(t))),Si(3),qm(null==t?null:t.creatorName),Si(1),vo("ngClass",Mw(6,d5,o.isCommentCreator(t))),Si(1),qm(null==t?null:t.comment)}}function f5(e,i){if(1&e){const t=Wh();It(0,"div",6)(1,"button",7),Qi("click",function(){lo(t);const a=Lc(5);return bn(Kh().onSendClick(a))}),It(2,"mat-icon"),En(3,"send"),Rt()(),yo(4,"input",8,9),Rt()}}let p5=(()=>{class e{constructor(t,o){this.postId=t,this.auth=o,this.firestore=new Uv,this.comments=[]}ngOnInit(){this.getComments()}isCommentCreator(t){try{return t.creatorId==D0.getUserDocument()?.userId}catch{return!1}}getComments(){this.firestore.listenToCollection({name:"Post Comments",path:["Posts",this.postId,"PostComment"],where:[new ER("timestamp","asc")],onUpdate:t=>{t.docChanges().forEach(o=>{"added"===o.type&&this.comments.unshift(o.doc.data())})}})}onSendClick(t){t.value.length<=0||this.firestore.create({path:["Posts",this.postId,"PostComment"],data:{comment:t.value,creatorId:D0.getUserDocument()?.userId,creatorName:D0.getUserDocument()?.publicName,timestamp:Ya.getFirestoreTimestamp()},onComplete:o=>{t.value=""}})}static#e=this.\u0275fac=function(o){return new(o||e)(_e(xR),_e(M1))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["app-reply"]],decls:5,vars:2,consts:[[2,"margin-left","0.5em"],["id","reply-box"],[3,"ngClass",4,"ngFor","ngForOf"],["id","reply-action-bar",4,"ngIf"],[3,"ngClass"],[1,"comment-name"],["id","reply-action-bar"],["mat-flat-button","","color","warn",3,"click"],["type","text","placeholder","Comment..."],["commentInput",""]],template:function(o,a){1&o&&(It(0,"p",0),En(1,"Reply"),Rt(),It(2,"div",1),ra(3,h5,6,8,"div",2),Rt(),ra(4,f5,6,0,"div",3)),2&o&&(Si(3),vo("ngForOf",a.comments),Si(1),vo("ngIf",a.auth.isLoggedIn()))},dependencies:[bE,wE,zy,Vv,E0],styles:["#reply-box[_ngcontent-%COMP%]{width:100%;height:300px;overflow:auto;min-width:400px;max-width:600px;padding:0 1em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#reply-action-bar[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:3em 1fr;margin-top:1em;direction:rtl}input[_ngcontent-%COMP%]{padding:1em 2em 1em 1em;border:1px solid gray;width:100%;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;direction:ltr}.comment-container[_ngcontent-%COMP%]{display:flex}.comment-name[_ngcontent-%COMP%]{font-size:.9em}.comment[_ngcontent-%COMP%]{border-radius:1em;background-color:#dcdcdc;padding:1em}.creator-comment-container[_ngcontent-%COMP%]{justify-content:flex-end;text-align:end}.comment-creator[_ngcontent-%COMP%]{background-color:red;color:#fff}"]})}return e})(),m5=(()=>{class e{constructor(t){this.dialog=t,this.firestore=new Uv}ngOnInit(){this.getCreatorInfo()}onReplyClick(){this.dialog.open(p5,{data:this.postData?.postId})}getCreatorInfo(){this.firestore.getDocument({path:["Users",this.postData?.creatorId],onComplete:t=>{let o=t.data();this.creatorName=o?.publicName,this.creatorDescription=o?.description}})}static#e=this.\u0275fac=function(o){return new(o||e)(_e(LD))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["app-post"]],inputs:{postData:"postData"},decls:16,vars:4,consts:[["mat-card-image","","alt","Background_Image",3,"src"],["color","warn",1,"action-item",3,"click"],["color","warn",1,"action-item"]],template:function(o,a){1&o&&(It(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),En(3),Rt(),It(4,"mat-card-subtitle"),En(5),Rt()(),yo(6,"img",0),It(7,"mat-card-content"),En(8),Rt(),It(9,"mat-card-actions")(10,"mat-icon",1),Qi("click",function(){return a.onReplyClick()}),En(11,"chat_bubble_outline"),Rt(),It(12,"mat-icon",2),En(13,"favorite_border"),Rt(),It(14,"mat-icon",2),En(15,"save"),Rt()()()),2&o&&(Si(3),qm(a.creatorName),Si(2),qm(a.creatorDescription),Si(1),vo("src",null==a.postData?null:a.postData.imageDownloadUrl,Ko),Si(2),Ay(" ",null==a.postData?null:a.postData.comment," "))},dependencies:[d0,f0,yR,p0,bR,_R,h0,E0],styles:[".action-item[_ngcontent-%COMP%]{margin-left:.5em;cursor:pointer}"]})}return e})(),g5=(()=>{class e{constructor(){Ya.init(u5_firebaseConfig)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Ln({type:e,bootstrap:[D0]});static#n=this.\u0275inj=pn({providers:[M1],imports:[eA,a4,c5,zH,hR,QH,gz,n4,cD]})}return e})();(function nr(e,i,t){const o=e.\u0275cmp;o.directiveDefs=ao(i,!1),o.pipeDefs=ao(t,!0)})(YR,[wE,HH,E0,m5],[]),eB().bootstrapModule(g5).catch(e=>console.error(e))},301:(ec,mi,$t)=>{$t.r(mi),$t.d(mi,{default:()=>be.Z});var be=$t(778);be.Z.registerVersion("firebase","8.10.1","app"),be.Z.SDK_VERSION="8.10.1"},960:(ec,mi,$t)=>{$t.r(mi);var be=$t(778);(function(){var S,$e="function"==typeof Object.defineProperties?Object.defineProperty:function(u,f,v){u!=Array.prototype&&u!=Object.prototype&&(u[f]=v.value)},kt=function rt(u){u=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,u];for(var f=0;f<u.length;++f){var v=u[f];if(v&&v.Math==Math)return v}return globalThis}(this);function Ar(u){var f=0;return function(){return f<u.length?{done:!1,value:u[f++]}:{done:!0}}}function Vi(u){var f=typeof Symbol<"u"&&Symbol.iterator&&u[Symbol.iterator];return f?f.call(u):{next:Ar(u)}}!function Bi(u,f){if(f){var v=kt;u=u.split(".");for(var w=0;w<u.length-1;w++){var C=u[w];C in v||(v[C]={}),v=v[C]}(f=f(w=v[u=u[u.length-1]]))!=w&&null!=f&&$e(v,u,{configurable:!0,writable:!0,value:f})}}("Promise",function(u){function f(N){this.b=0,this.c=void 0,this.a=[];var V=this.f();try{N(V.resolve,V.reject)}catch(ve){V.reject(ve)}}function v(){this.a=null}function w(N){return N instanceof f?N:new f(function(V){V(N)})}if(u)return u;v.prototype.b=function(N){if(null==this.a){this.a=[];var V=this;this.c(function(){V.g()})}this.a.push(N)};var C=kt.setTimeout;v.prototype.c=function(N){C(N,0)},v.prototype.g=function(){for(;this.a&&this.a.length;){var N=this.a;this.a=[];for(var V=0;V<N.length;++V){var ve=N[V];N[V]=null;try{ve()}catch(c){this.f(c)}}}this.a=null},v.prototype.f=function(N){this.c(function(){throw N})},f.prototype.f=function(){function N(c){return function(s){ve||(ve=!0,c.call(V,s))}}var V=this,ve=!1;return{resolve:N(this.m),reject:N(this.g)}},f.prototype.m=function(N){if(N===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(N instanceof f)this.s(N);else{e:switch(typeof N){case"object":var V=null!=N;break e;case"function":V=!0;break e;default:V=!1}V?this.v(N):this.h(N)}},f.prototype.v=function(N){var V=void 0;try{V=N.then}catch(ve){return void this.g(ve)}"function"==typeof V?this.u(V,N):this.h(N)},f.prototype.g=function(N){this.i(2,N)},f.prototype.h=function(N){this.i(1,N)},f.prototype.i=function(N,V){if(0!=this.b)throw Error("Cannot settle("+N+", "+V+"): Promise already settled in state"+this.b);this.b=N,this.c=V,this.l()},f.prototype.l=function(){if(null!=this.a){for(var N=0;N<this.a.length;++N)k.b(this.a[N]);this.a=null}};var k=new v;return f.prototype.s=function(N){var V=this.f();N.Ra(V.resolve,V.reject)},f.prototype.u=function(N,V){var ve=this.f();try{N.call(V,ve.resolve,ve.reject)}catch(c){ve.reject(c)}},f.prototype.then=function(N,V){function ve(h,m){return"function"==typeof h?function(y){try{c(h(y))}catch(b){s(b)}}:m}var c,s,l=new f(function(h,m){c=h,s=m});return this.Ra(ve(N,c),ve(V,s)),l},f.prototype.catch=function(N){return this.then(void 0,N)},f.prototype.Ra=function(N,V){function ve(){switch(c.b){case 1:N(c.c);break;case 2:V(c.c);break;default:throw Error("Unexpected state: "+c.b)}}var c=this;null==this.a?k.b(ve):this.a.push(ve)},f.resolve=w,f.reject=function(N){return new f(function(V,ve){ve(N)})},f.race=function(N){return new f(function(V,ve){for(var c=Vi(N),s=c.next();!s.done;s=c.next())w(s.value).Ra(V,ve)})},f.all=function(N){var V=Vi(N),ve=V.next();return ve.done?w([]):new f(function(c,s){function l(y){return function(b){h[y]=b,0==--m&&c(h)}}var h=[],m=0;do{h.push(void 0),m++,w(ve.value).Ra(l(h.length-1),s),ve=V.next()}while(!ve.done)})},f});var le=le||{},$=this||self,Ce=/^[\w+/_-]+[=]{0,2}$/,ke=null;function xe(u){return(u=u.querySelector&&u.querySelector("script[nonce]"))&&(u=u.nonce||u.getAttribute("nonce"))&&Ce.test(u)?u:""}function Fe(){}function Ft(u){var f=typeof u;return"object"!=f?f:u?Array.isArray(u)?"array":f:"null"}function Ot(u){var f=Ft(u);return"array"==f||"object"==f&&"number"==typeof u.length}function Lt(u){return"function"==Ft(u)}function dt(u){var f=typeof u;return"object"==f&&null!=u||"function"==f}function sr(u){return Object.prototype.hasOwnProperty.call(u,qt)&&u[qt]||(u[qt]=++ar)}var qt="closure_uid_"+(1e9*Math.random()>>>0),ar=0;function ht(u,f,v){return u.call.apply(u.bind,arguments)}function qn(u,f,v){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,w),u.apply(f,C)}}return function(){return u.apply(f,arguments)}}function Ge(u,f,v){return(Ge=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ht:qn).apply(null,arguments)}function Gt(u,f){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),u.apply(this,w)}}var Ui=Date.now;function st(u,f){function v(){}v.prototype=f.prototype,u.bb=f.prototype,u.prototype=new v,u.prototype.constructor=u}function to(u){return u}function Q(u,f,v){this.code=Rn+u,this.message=f||no[u]||"",this.a=v||null}function Mr(u){var f=u&&u.code;return f?new Q(f.substring(Rn.length),u.message,u.serverResponse):null}st(Q,Error),Q.prototype.w=function(){var u={code:this.code,message:this.message};return this.a&&(u.serverResponse=this.a),u},Q.prototype.toJSON=function(){return this.w()};var Gn,Rn="auth/",no={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ft={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Jr(u){for(var f in ft)if(ft[f].id===u)return{firebaseEndpoint:(u=ft[f]).Ua,secureTokenEndpoint:u.$a,identityPlatformEndpoint:u.Xa};return null}function ce(u){if(!u)return!1;try{return!!u.$goog_Thenable}catch{return!1}}function se(u){if(Error.captureStackTrace)Error.captureStackTrace(this,se);else{var f=Error().stack;f&&(this.stack=f)}u&&(this.message=String(u))}function Y(u,f){for(var v="",w=(u=u.split("%s")).length-1,C=0;C<w;C++)v+=u[C]+(C<f.length?f[C]:"%s");se.call(this,v+u[w])}function J(u,f){throw new Y("Failure"+(u?": "+u:""),Array.prototype.slice.call(arguments,1))}function ye(u,f){this.c=u,this.f=f,this.b=0,this.a=null}function me(u,f){u.f(f),100>u.b&&(u.b++,f.next=u.a,u.a=f)}function Ie(){this.b=this.a=null}Gn=Jr("__EID__")?"__EID__":void 0,st(se,Error),se.prototype.name="CustomError",st(Y,se),Y.prototype.name="AssertionError",ye.prototype.get=function(){if(0<this.b){this.b--;var u=this.a;this.a=u.next,u.next=null}else u=this.c();return u};var Nt=new ye(function(){return new Ke},function(u){u.reset()});function Ye(){var u=ic,f=null;return u.a&&(f=u.a,u.a=u.a.next,u.a||(u.b=null),f.next=null),f}function Ke(){this.next=this.b=this.a=null}Ie.prototype.add=function(u,f){var v=Nt.get();v.set(u,f),this.b?this.b.next=v:this.a=v,this.b=v},Ke.prototype.set=function(u,f){this.a=u,this.b=f,this.next=null},Ke.prototype.reset=function(){this.next=this.b=this.a=null};var dn=Array.prototype.indexOf?function(u,f){return Array.prototype.indexOf.call(u,f,void 0)}:function(u,f){if("string"==typeof u)return"string"!=typeof f||1!=f.length?-1:u.indexOf(f,0);for(var v=0;v<u.length;v++)if(v in u&&u[v]===f)return v;return-1},gt=Array.prototype.forEach?function(u,f,v){Array.prototype.forEach.call(u,f,v)}:function(u,f,v){for(var w=u.length,C="string"==typeof u?u.split(""):u,k=0;k<w;k++)k in C&&f.call(v,C[k],k,u)},ei=Array.prototype.filter?function(u,f){return Array.prototype.filter.call(u,f,void 0)}:function(u,f){for(var v=u.length,w=[],C=0,k="string"==typeof u?u.split(""):u,N=0;N<v;N++)if(N in k){var V=k[N];f.call(void 0,V,N,u)&&(w[C++]=V)}return w},Et=Array.prototype.map?function(u,f){return Array.prototype.map.call(u,f,void 0)}:function(u,f){for(var v=u.length,w=Array(v),C="string"==typeof u?u.split(""):u,k=0;k<v;k++)k in C&&(w[k]=f.call(void 0,C[k],k,u));return w},St=Array.prototype.some?function(u,f){return Array.prototype.some.call(u,f,void 0)}:function(u,f){for(var v=u.length,w="string"==typeof u?u.split(""):u,C=0;C<v;C++)if(C in w&&f.call(void 0,w[C],C,u))return!0;return!1};function nn(u,f){return 0<=dn(u,f)}function Cn(u,f){var v;return(v=0<=(f=dn(u,f)))&&Array.prototype.splice.call(u,f,1),v}function kn(u,f){!function Vt(u,f){for(var v="string"==typeof u?u.split(""):u,w=u.length-1;0<=w;--w)w in v&&f.call(void 0,v[w],w,u)}(u,function(w,C){f.call(void 0,w,C,u)&&Array.prototype.splice.call(u,C,1)})}function an(u){return Array.prototype.concat.apply([],arguments)}function On(u){var f=u.length;if(0<f){for(var v=Array(f),w=0;w<f;w++)v[w]=u[w];return v}return[]}var cr,Ts=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]},ro=/&/g,Dd=/</g,Rr=/>/g,ns=/"/g,rf=/'/g,xi=/\x00/g,Cd=/[\x00&<>"']/;function Ct(u,f){return-1!=u.indexOf(f)}function Hi(u,f){return u<f?-1:u>f?1:0}e:{var el=$.navigator;if(el){var $c=el.userAgent;if($c){cr=$c;break e}}cr=""}function In(u){return Ct(cr,u)}function Po(u,f){for(var v in u)f.call(void 0,u[v],v,u)}function G(u){for(var f in u)return!1;return!0}function q(u){var v,f={};for(v in u)f[v]=u[v];return f}var ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(u,f){for(var v,w,C=1;C<arguments.length;C++){for(v in w=arguments[C])u[v]=w[v];for(var k=0;k<ee.length;k++)v=ee[k],Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}function X(u,f){e:{try{var v=u&&u.ownerDocument,w=v&&(v.defaultView||v.parentWindow);if((w=w||$).Element&&w.Location){var C=w;break e}}catch{}C=null}if(C&&typeof C[f]<"u"&&(!u||!(u instanceof C[f])&&(u instanceof C.Location||u instanceof C.Element))){if(dt(u))try{var k=u.constructor.displayName||u.constructor.name||Object.prototype.toString.call(u)}catch{k="<object could not be stringified>"}else k=void 0===u?"undefined":null===u?"null":typeof u;J("Argument is not a %s (or a non-Element, non-Location mock); got: %s",f,k)}}function Ae(u,f){this.a=u===cn&&f||"",this.b=Zt}function at(u){return u instanceof Ae&&u.constructor===Ae&&u.b===Zt?u.a:(J("expected object of type Const, got '"+u+"'"),"type_error:Const")}Ae.prototype.ta=!0,Ae.prototype.sa=function(){return this.a},Ae.prototype.toString=function(){return"Const{"+this.a+"}"};var Jt,Zt={},cn={};function kr(){if(void 0===Jt){var u=null,f=$.trustedTypes;if(f&&f.createPolicy){try{u=f.createPolicy("goog#html",{createHTML:to,createScript:to,createScriptURL:to})}catch(v){$.console&&$.console.error(v.message)}Jt=u}else Jt=u}return Jt}function Xt(u,f){this.a=f===tl?u:""}function vt(u){return u instanceof Xt&&u.constructor===Xt?u.a:(J("expected object of type TrustedResourceUrl, got '"+u+"' of type "+Ft(u)),"type_error:TrustedResourceUrl")}function gi(u,f){var v=at(u);if(!Je.test(v))throw Error("Invalid TrustedResourceUrl format: "+v);return function io(u){var f=kr();return new Xt(u=f?f.createScriptURL(u):u,tl)}(u=v.replace(Or,function(w,C){if(!Object.prototype.hasOwnProperty.call(f,C))throw Error('Found marker, "'+C+'", in format string, "'+v+'", but no valid label mapping found in args: '+JSON.stringify(f));return(w=f[C])instanceof Ae?at(w):encodeURIComponent(String(w))}))}Xt.prototype.ta=!0,Xt.prototype.sa=function(){return this.a.toString()},Xt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Or=/%{(\w+)}/g,Je=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,tl={};function un(u,f){this.a=f===qc?u:""}function xs(u){return u instanceof un&&u.constructor===un?u.a:(J("expected object of type SafeUrl, got '"+u+"' of type "+Ft(u)),"type_error:SafeUrl")}un.prototype.ta=!0,un.prototype.sa=function(){return this.a.toString()},un.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Id=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,hn=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Fo=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Nn(u){if(u instanceof un)return u;if(u="object"==typeof u&&u.ta?u.sa():String(u),Fo.test(u))u=new un(u,qc);else{var f=(u=(u=String(u)).replace(/(%0A|%0D)/g,"")).match(hn);u=f&&Id.test(f[1])?new un(u,qc):null}return u}function tc(u){return u instanceof un?u:(u="object"==typeof u&&u.ta?u.sa():String(u),Fo.test(u)||(u="about:invalid#zClosurez"),new un(u,qc))}var qc={},aa=new un("about:invalid#zClosurez",qc);function tt(u,f,v){this.a=v===Wc?u:""}tt.prototype.ta=!0,tt.prototype.sa=function(){return this.a.toString()},tt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Wc={};function ca(u,f,v,w){return u=u instanceof un?u:tc(u),f=f||$,v=v instanceof Ae?at(v):v||"",f.open(xs(u),v,w,void 0)}function ge(u,f){for(var v=u.split("%s"),w="",C=Array.prototype.slice.call(arguments,1);C.length&&1<v.length;)w+=v.shift()+C.shift();return w+v.join("%s")}function rs(u){return Cd.test(u)&&(-1!=u.indexOf("&")&&(u=u.replace(ro,"&amp;")),-1!=u.indexOf("<")&&(u=u.replace(Dd,"&lt;")),-1!=u.indexOf(">")&&(u=u.replace(Rr,"&gt;")),-1!=u.indexOf('"')&&(u=u.replace(ns,"&quot;")),-1!=u.indexOf("'")&&(u=u.replace(rf,"&#39;")),-1!=u.indexOf("\0")&&(u=u.replace(xi,"&#0;"))),u}function pt(u){return pt[" "](u),u}pt[" "]=Fe;var nc,u,sf=In("Opera"),Lo=In("Trident")||In("MSIE"),ua=In("Edge"),As=ua||Lo,vi=In("Gecko")&&!(Ct(cr.toLowerCase(),"webkit")&&!In("Edge"))&&!(In("Trident")||In("MSIE"))&&!In("Edge"),is=Ct(cr.toLowerCase(),"webkit")&&!In("Edge");function Sd(){var u=$.document;return u?u.documentMode:void 0}e:{var bo="",la=(u=cr,vi?/rv:([^\);]+)(\)|;)/.exec(u):ua?/Edge\/([\d\.]+)/.exec(u):Lo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):is?/WebKit\/(\S+)/.exec(u):sf?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if(la&&(bo=la?la[1]:""),Lo){var Td=Sd();if(null!=Td&&Td>parseFloat(bo)){nc=String(Td);break e}}nc=bo}var Ai={};function af(u){return function rn(u,f){var v=Ai;return Object.prototype.hasOwnProperty.call(v,u)?v[u]:v[u]=f(u)}(u,function(){for(var f=0,v=Ts(String(nc)).split("."),w=Ts(String(u)).split("."),C=Math.max(v.length,w.length),k=0;0==f&&k<C;k++){var N=v[k]||"",V=w[k]||"";do{if(N=/(\d*)(\D*)(.*)/.exec(N)||["","","",""],V=/(\d*)(\D*)(.*)/.exec(V)||["","","",""],0==N[0].length&&0==V[0].length)break;f=Hi(0==N[1].length?0:parseInt(N[1],10),0==V[1].length?0:parseInt(V[1],10))||Hi(0==N[2].length,0==V[2].length)||Hi(N[2],V[2]),N=N[3],V=V[3]}while(0==f)}return 0<=f})}var wo=$.document&&Lo&&(Sd()||parseInt(nc,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var cf=!Lo||9<=Number(wo);function Nr(u){var f=document;return"string"==typeof u?f.getElementById(u):u}function ct(u,f){Po(f,function(v,w){v&&"object"==typeof v&&v.ta&&(v=v.sa()),"style"==w?u.style.cssText=v:"class"==w?u.className=v:"for"==w?u.htmlFor=v:rc.hasOwnProperty(w)?u.setAttribute(rc[w],v):0==w.lastIndexOf("aria-",0)||0==w.lastIndexOf("data-",0)?u.setAttribute(w,v):u[w]=v})}var pn,ha,rc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Re(u,f){return f=String(f),"application/xhtml+xml"===u.contentType&&(f=f.toLowerCase()),u.createElement(f)}function nl(u){$.setTimeout(function(){throw u},0)}function rl(u,f){ha||function il(){if($.Promise&&$.Promise.resolve){var u=$.Promise.resolve(void 0);ha=function(){u.then(Xc)}}else ha=function(){var f=Xc;!Lt($.setImmediate)||$.Window&&$.Window.prototype&&!In("Edge")&&$.Window.prototype.setImmediate==$.setImmediate?(pn||(pn=function Zc(){var u=$.MessageChannel;if(typeof u>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!In("Presto")&&(u=function(){var C=Re(document,"IFRAME");C.style.display="none",document.documentElement.appendChild(C);var k=C.contentWindow;(C=k.document).open(),C.close();var N="callImmediate"+Math.random(),V="file:"==k.location.protocol?"*":k.location.protocol+"//"+k.location.host;C=Ge(function(ve){("*"==V||ve.origin==V)&&ve.data==N&&this.port1.onmessage()},this),k.addEventListener("message",C,!1),this.port1={},this.port2={postMessage:function(){k.postMessage(N,V)}}}),typeof u<"u"&&!In("Trident")&&!In("MSIE")){var f=new u,v={},w=v;return f.port1.onmessage=function(){if(void 0!==v.next){var C=(v=v.next).Hb;v.Hb=null,C()}},function(C){w.next={Hb:C},w=w.next,f.port2.postMessage(0)}}return function(C){$.setTimeout(C,0)}}()),pn(f)):$.setImmediate(f)}}(),os||(ha(),os=!0),ic.add(u,f)}var os=!1,ic=new Ie;function Xc(){for(var u;u=Ye();){try{u.a.call(u.b)}catch(f){nl(f)}me(Nt,u)}os=!1}function At(u,f){if(this.a=Ms,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,u!=Fe)try{var v=this;u.call(f,function(w){ie(v,Dt,w)},function(w){if(!(w instanceof on))try{throw w instanceof Error?w:Error("Promise rejected.")}catch{}ie(v,ti,w)})}catch(w){ie(this,ti,w)}}var Ms=0,Dt=2,ti=3;function oc(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}oc.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var vr=new ye(function(){return new oc},function(u){u.reset()});function jo(u,f,v){var w=vr.get();return w.g=u,w.b=f,w.f=v,w}function et(u){if(u instanceof At)return u;var f=new At(Fe);return ie(f,Dt,u),f}function ut(u){return new At(function(f,v){v(u)})}function xd(u,f,v){De(u,f,v,null)||rl(Gt(f,u))}function x(u){return new At(function(f){var v=u.length,w=[];if(v)for(var C=function(V,ve,c){v--,w[V]=ve?{Qb:!0,value:c}:{Qb:!1,reason:c},0==v&&f(w)},k=0;k<u.length;k++)xd(u[k],Gt(C,k,!0),Gt(C,k,!1));else f(w)})}function L(u,f){if(u.a==Ms)if(u.c){var v=u.c;if(v.b){for(var w=0,C=null,k=null,N=v.b;N&&(N.c||(w++,N.a==u&&(C=N),!(C&&1<w)));N=N.next)C||(k=N);C&&(v.a==Ms&&1==w?L(v,f):(k?((w=k).next==v.f&&(v.f=w),w.next=w.next.next):Ze(v),yt(v,C,ti,f)))}u.c=null}else ie(u,ti,f)}function U(u,f){u.b||u.a!=Dt&&u.a!=ti||Ne(u),u.f?u.f.next=f:u.b=f,u.f=f}function K(u,f,v,w){var C=jo(null,null,null);return C.a=new At(function(k,N){C.g=f?function(V){try{var ve=f.call(w,V);k(ve)}catch(c){N(c)}}:k,C.b=v?function(V){try{var ve=v.call(w,V);void 0===ve&&V instanceof on?N(V):k(ve)}catch(c){N(c)}}:N}),C.a.c=u,U(u,C),C.a}function ie(u,f,v){u.a==Ms&&(u===v&&(f=ti,v=new TypeError("Promise cannot resolve to itself")),u.a=1,De(v,u.$c,u.ad,u)||(u.i=v,u.a=f,u.c=null,Ne(u),f!=ti||v instanceof on||function Sn(u,f){u.g=!0,rl(function(){u.g&&yr.call(null,f)})}(u,v)))}function De(u,f,v,w){if(u instanceof At)return U(u,jo(f||Fe,v||null,w)),!0;if(ce(u))return u.then(f,v,w),!0;if(dt(u))try{var C=u.then;if(Lt(C))return function Be(u,f,v,w,C){function k(ve){V||(V=!0,w.call(C,ve))}var V=!1;try{f.call(u,function N(ve){V||(V=!0,v.call(C,ve))},k)}catch(ve){k(ve)}}(u,C,f,v,w),!0}catch(k){return v.call(w,k),!0}return!1}function Ne(u){u.h||(u.h=!0,rl(u.gc,u))}function Ze(u){var f=null;return u.b&&(u.b=(f=u.b).next,f.next=null),u.b||(u.f=null),f}function yt(u,f,v,w){if(v==ti&&f.b&&!f.c)for(;u&&u.g;u=u.c)u.g=!1;if(f.a)f.a.c=null,_t(f,v,w);else try{f.c?f.g.call(f.f):_t(f,v,w)}catch(C){yr.call(null,C)}me(vr,f)}function _t(u,f,v){f==Dt?u.g.call(u.f,v):u.b&&u.b.call(u.f,v)}At.prototype.then=function(u,f,v){return K(this,Lt(u)?u:null,Lt(f)?f:null,v)},At.prototype.$goog_Thenable=!0,(S=At.prototype).oa=function(u,f){return(u=jo(u,u,f)).c=!0,U(this,u),this},S.o=function(u,f){return K(this,null,u,f)},S.cancel=function(u){if(this.a==Ms){var f=new on(u);rl(function(){L(this,f)},this)}},S.$c=function(u){this.a=Ms,ie(this,Dt,u)},S.ad=function(u){this.a=Ms,ie(this,ti,u)},S.gc=function(){for(var u;u=Ze(this);)yt(this,u,this.a,this.i);this.h=!1};var yr=nl;function on(u){se.call(this,u)}function Pn(){0!=ur&&(ss[sr(this)]=this),this.ya=this.ya,this.pa=this.pa}st(on,se),on.prototype.name="cancel";var ur=0,ss={};function ni(u){if(!u.ya&&(u.ya=!0,u.Da(),0!=ur)){var f=sr(u);if(0!=ur&&u.pa&&0<u.pa.length)throw Error(u+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ss[f]}}Pn.prototype.ya=!1,Pn.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var zr=Object.freeze||function(u){return u},Bo=!Lo||9<=Number(wo),zi=Lo&&!af("9"),sc=function(){if(!$.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{$.addEventListener("test",Fe,f),$.removeEventListener("test",Fe,f)}catch{}return u}();function ne(u,f){this.type=u,this.b=this.target=f,this.defaultPrevented=!1}function _r(u,f){if(ne.call(this,u?u.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,u){var v=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.b=f,f=u.relatedTarget){if(vi){e:{try{pt(f.nodeName);var C=!0;break e}catch{}C=!1}C||(f=null)}}else"mouseover"==v?f=u.fromElement:"mouseout"==v&&(f=u.toElement);this.relatedTarget=f,w?(this.clientX=void 0!==w.clientX?w.clientX:w.pageX,this.clientY=void 0!==w.clientY?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:Oe[u.pointerType]||"",this.a=u,u.defaultPrevented&&this.preventDefault()}}ne.prototype.preventDefault=function(){this.defaultPrevented=!0},st(_r,ne);var Oe=zr({2:"touch",3:"pen",4:"mouse"});_r.prototype.preventDefault=function(){_r.bb.preventDefault.call(this);var u=this.a;if(u.preventDefault)u.preventDefault();else if(u.returnValue=!1,zi)try{(u.ctrlKey||112<=u.keyCode&&123>=u.keyCode)&&(u.keyCode=-1)}catch{}},_r.prototype.g=function(){return this.a};var fa="closure_listenable_"+(1e6*Math.random()|0),lf=0;function Rs(u,f,v,w,C){this.listener=u,this.proxy=null,this.src=f,this.type=v,this.capture=!!w,this.Wa=C,this.key=++lf,this.wa=this.Qa=!1}function df(u){u.wa=!0,u.listener=null,u.proxy=null,u.src=null,u.Wa=null}function hf(u){this.src=u,this.a={},this.b=0}function ff(u,f){var v=f.type;v in u.a&&Cn(u.a[v],f)&&(df(f),0==u.a[v].length&&(delete u.a[v],u.b--))}function as(u,f,v,w){for(var C=0;C<u.length;++C){var k=u[C];if(!k.wa&&k.listener==f&&k.capture==!!v&&k.Wa==w)return C}return-1}hf.prototype.add=function(u,f,v,w,C){var k=u.toString();(u=this.a[k])||(u=this.a[k]=[],this.b++);var N=as(u,f,w,C);return-1<N?(f=u[N],v||(f.Qa=!1)):((f=new Rs(f,this.src,k,!!w,C)).Qa=v,u.push(f)),f};var Qc="closure_lm_"+(1e6*Math.random()|0),$i={};function Tt(u,f,v,w,C){if(w&&w.once)Jc(u,f,v,w,C);else if(Array.isArray(f))for(var k=0;k<f.length;k++)Tt(u,f[k],v,w,C);else v=cs(v),u&&u[fa]?kp(u,f,v,dt(w)?!!w.capture:!!w,C):ol(u,f,v,!1,w,C)}function ol(u,f,v,w,C,k){if(!f)throw Error("Invalid event type");var N=dt(C)?!!C.capture:!!C,V=tu(u);if(V||(u[Qc]=V=new hf(u)),!(v=V.add(f,v,w,N,k)).proxy)if(w=function pf(){var u=cl,f=Bo?function(v){return u.call(f.src,f.listener,v)}:function(v){if(!(v=u.call(f.src,f.listener,v)))return v};return f}(),v.proxy=w,w.src=u,w.listener=v,u.addEventListener)sc||(C=N),void 0===C&&(C=!1),u.addEventListener(f.toString(),w,C);else if(u.attachEvent)u.attachEvent(sl(f.toString()),w);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(w)}}function Jc(u,f,v,w,C){if(Array.isArray(f))for(var k=0;k<f.length;k++)Jc(u,f[k],v,w,C);else v=cs(v),u&&u[fa]?lr(u,f,v,dt(w)?!!w.capture:!!w,C):ol(u,f,v,!0,w,C)}function oo(u,f,v,w,C){if(Array.isArray(f))for(var k=0;k<f.length;k++)oo(u,f[k],v,w,C);else w=dt(w)?!!w.capture:!!w,v=cs(v),u&&u[fa]?(u=u.v,(f=String(f).toString())in u.a&&-1<(v=as(k=u.a[f],v,w,C))&&(df(k[v]),Array.prototype.splice.call(k,v,1),0==k.length&&(delete u.a[f],u.b--))):u&&(u=tu(u))&&(f=u.a[f.toString()],u=-1,f&&(u=as(f,v,w,C)),(v=-1<u?f[u]:null)&&ks(v))}function ks(u){if("number"!=typeof u&&u&&!u.wa){var f=u.src;if(f&&f[fa])ff(f.v,u);else{var v=u.type,w=u.proxy;f.removeEventListener?f.removeEventListener(v,w,u.capture):f.detachEvent?f.detachEvent(sl(v),w):f.addListener&&f.removeListener&&f.removeListener(w),(v=tu(f))?(ff(v,u),0==v.b&&(v.src=null,f[Qc]=null)):df(u)}}}function sl(u){return u in $i?$i[u]:$i[u]="on"+u}function al(u,f,v,w){var C=!0;if((u=tu(u))&&(f=u.a[f.toString()]))for(f=f.concat(),u=0;u<f.length;u++){var k=f[u];k&&k.capture==v&&!k.wa&&(k=eu(k,w),C=C&&!1!==k)}return C}function eu(u,f){var v=u.listener,w=u.Wa||u.src;return u.Qa&&ks(u),v.call(w,f)}function cl(u,f){if(u.wa)return!0;if(!Bo){if(!f)e:{f=["window","event"];for(var v=$,w=0;w<f.length;w++)if(null==(v=v[f[w]])){f=null;break e}f=v}if(f=new _r(w=f,this),v=!0,!(0>w.keyCode||null!=w.returnValue)){e:{var C=!1;if(0==w.keyCode)try{w.keyCode=-1;break e}catch{C=!0}(C||null==w.returnValue)&&(w.returnValue=!0)}for(w=[],C=f.b;C;C=C.parentNode)w.push(C);for(u=u.type,C=w.length-1;0<=C;C--){f.b=w[C];var k=al(w[C],u,!0,f);v=v&&k}for(C=0;C<w.length;C++)f.b=w[C],k=al(w[C],u,!1,f),v=v&&k}return v}return eu(u,new _r(f,this))}function tu(u){return(u=u[Qc])instanceof hf?u:null}var Ad="__closure_events_fn_"+(1e9*Math.random()>>>0);function cs(u){return Lt(u)?u:(u[Ad]||(u[Ad]=function(f){return u.handleEvent(f)}),u[Ad])}function Pr(){Pn.call(this),this.v=new hf(this),this.bc=this,this.hb=null}function kp(u,f,v,w,C){u.v.add(String(f),v,!1,w,C)}function lr(u,f,v,w,C){u.v.add(String(f),v,!0,w,C)}function ul(u,f,v,w){if(!(f=u.v.a[String(f)]))return!0;f=f.concat();for(var C=!0,k=0;k<f.length;++k){var N=f[k];if(N&&!N.wa&&N.capture==v){var V=N.listener,ve=N.Wa||N.src;N.Qa&&ff(u.v,N),C=!1!==V.call(ve,w)&&C}}return C&&!w.defaultPrevented}function Op(u,f,v){if(Lt(u))v&&(u=Ge(u,v));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=Ge(u.handleEvent,u)}return 2147483647<Number(f)?-1:$.setTimeout(u,f||0)}function ll(u){var f=null;return new At(function(v,w){-1==(f=Op(function(){v(void 0)},u))&&w(Error("Failed to schedule timer."))}).o(function(v){throw $.clearTimeout(f),v})}function Vo(u){if(u.X&&"function"==typeof u.X)return u.X();if("string"==typeof u)return u.split("");if(Ot(u)){for(var f=[],v=u.length,w=0;w<v;w++)f.push(u[w]);return f}for(w in f=[],v=0,u)f[v++]=u[w];return f}function dg(u){if(u.Y&&"function"==typeof u.Y)return u.Y();if(!u.X||"function"!=typeof u.X){if(Ot(u)||"string"==typeof u){var f=[];u=u.length;for(var v=0;v<u;v++)f.push(v);return f}for(var w in f=[],v=0,u)f[v++]=w;return f}}function nu(u,f){this.b={},this.a=[],this.c=0;var v=arguments.length;if(1<v){if(v%2)throw Error("Uneven number of arguments");for(var w=0;w<v;w+=2)this.set(arguments[w],arguments[w+1])}else if(u)if(u instanceof nu)for(v=u.Y(),w=0;w<v.length;w++)this.set(v[w],u.get(v[w]));else for(w in u)this.set(w,u[w])}function mf(u){if(u.c!=u.a.length){for(var f=0,v=0;f<u.a.length;){var w=u.a[f];Os(u.b,w)&&(u.a[v++]=w),f++}u.a.length=v}if(u.c!=u.a.length){var C={};for(v=f=0;f<u.a.length;)Os(C,w=u.a[f])||(u.a[v++]=w,C[w]=1),f++;u.a.length=v}}function Os(u,f){return Object.prototype.hasOwnProperty.call(u,f)}st(Pr,Pn),Pr.prototype[fa]=!0,Pr.prototype.addEventListener=function(u,f,v,w){Tt(this,u,f,v,w)},Pr.prototype.removeEventListener=function(u,f,v,w){oo(this,u,f,v,w)},Pr.prototype.dispatchEvent=function(u){var f,v=this.hb;if(v)for(f=[];v;v=v.hb)f.push(v);v=this.bc;var w=u.type||u;if("string"==typeof u)u=new ne(u,v);else if(u instanceof ne)u.target=u.target||v;else{var C=u;oe(u=new ne(w,v),C)}if(C=!0,f)for(var k=f.length-1;0<=k;k--){var N=u.b=f[k];C=ul(N,w,!0,u)&&C}if(C=ul(N=u.b=v,w,!0,u)&&C,C=ul(N,w,!1,u)&&C,f)for(k=0;k<f.length;k++)C=ul(N=u.b=f[k],w,!1,u)&&C;return C},Pr.prototype.Da=function(){if(Pr.bb.Da.call(this),this.v){var v,u=this.v;for(v in u.a){for(var w=u.a[v],C=0;C<w.length;C++)df(w[C]);delete u.a[v],u.b--}}this.hb=null},(S=nu.prototype).X=function(){mf(this);for(var u=[],f=0;f<this.a.length;f++)u.push(this.b[this.a[f]]);return u},S.Y=function(){return mf(this),this.a.concat()},S.clear=function(){this.b={},this.c=this.a.length=0},S.get=function(u,f){return Os(this.b,u)?this.b[u]:f},S.set=function(u,f){Os(this.b,u)||(this.c++,this.a.push(u)),this.b[u]=f},S.forEach=function(u,f){for(var v=this.Y(),w=0;w<v.length;w++){var C=v[w],k=this.get(C);u.call(f,k,C,this)}};var Pp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pa(u,f){var v;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,u instanceof pa?(this.i=void 0!==f?f:u.i,Md(this,u.c),this.l=u.l,this.a=u.a,ru(this,u.g),this.f=u.f,Fn(this,Qn(u.b)),this.h=u.h):u&&(v=String(u).match(Pp))?(this.i=!!f,Md(this,v[1]||"",!0),this.l=iu(v[2]||""),this.a=iu(v[3]||"",!0),ru(this,v[4]),this.f=iu(v[5]||"",!0),Fn(this,v[6]||"",!0),this.h=iu(v[7]||"")):(this.i=!!f,this.b=new br(null,this.i))}function Md(u,f,v){u.c=v?iu(f,!0):f,u.c&&(u.c=u.c.replace(/:$/,""))}function ru(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.g=f}else u.g=null}function Fn(u,f,v){f instanceof br?(u.b=f,function Mt(u,f){f&&!u.f&&(Ps(u),u.c=null,u.a.forEach(function(v,w){var C=w.toLowerCase();w!=C&&(ao(this,w),cc(this,C,v))},u)),u.f=f}(u.b,u.i)):(v||(f=ma(f,Ri)),u.b=new br(f,u.i))}function nr(u,f,v){u.b.set(f,v)}function so(u,f){return u.b.get(f)}function yi(u){return u instanceof pa?new pa(u):new pa(u,void 0)}function Ln(u,f,v,w){var C=new pa(null,void 0);return u&&Md(C,u),f&&(C.a=f),v&&ru(C,v),w&&(C.f=w),C}function iu(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ma(u,f,v){return"string"==typeof u?(u=encodeURI(u).replace(f,_n),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _n(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}pa.prototype.toString=function(){var u=[],f=this.c;f&&u.push(ma(f,Mi,!0),":");var v=this.a;return(v||"file"==f)&&(u.push("//"),(f=this.l)&&u.push(ma(f,Mi,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(v=this.g)&&u.push(":",String(v))),(v=this.f)&&(this.a&&"/"!=v.charAt(0)&&u.push("/"),u.push(ma(v,"/"==v.charAt(0)?ri:Wt,!0))),(v=this.b.toString())&&u.push("?",v),(v=this.h)&&u.push("#",ma(v,ac)),u.join("")},pa.prototype.resolve=function(u){var f=new pa(this),v=!!u.c;v?Md(f,u.c):v=!!u.l,v?f.l=u.l:v=!!u.a,v?f.a=u.a:v=null!=u.g;var w=u.f;if(v)ru(f,u.g);else if(v=!!u.f){if("/"!=w.charAt(0))if(this.a&&!this.f)w="/"+w;else{var C=f.f.lastIndexOf("/");-1!=C&&(w=f.f.substr(0,C+1)+w)}if(".."==(C=w)||"."==C)w="";else if(Ct(C,"./")||Ct(C,"/.")){w=0==C.lastIndexOf("/",0),C=C.split("/");for(var k=[],N=0;N<C.length;){var V=C[N++];"."==V?w&&N==C.length&&k.push(""):".."==V?((1<k.length||1==k.length&&""!=k[0])&&k.pop(),w&&N==C.length&&k.push("")):(k.push(V),w=!0)}w=k.join("/")}else w=C}return v?f.f=w:v=""!==u.b.toString(),v?Fn(f,Qn(u.b)):v=!!u.h,v&&(f.h=u.h),f};var Mi=/[#\/\?@]/g,Wt=/[#\?:]/g,ri=/[#\?]/g,Ri=/[#\?@]/g,ac=/#/g;function br(u,f){this.b=this.a=null,this.c=u||null,this.f=!!f}function Ps(u){u.a||(u.a=new nu,u.b=0,u.c&&function Ns(u,f){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var w=u[v].indexOf("="),C=null;if(0<=w){var k=u[v].substring(0,w);C=u[v].substring(w+1)}else k=u[v];f(k,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}(u.c,function(f,v){u.add(decodeURIComponent(f.replace(/\+/g," ")),v)}))}function dl(u){var f=dg(u);if(typeof f>"u")throw Error("Keys are undefined");var v=new br(null,void 0);u=Vo(u);for(var w=0;w<f.length;w++){var C=f[w],k=u[w];Array.isArray(k)?cc(v,C,k):v.add(C,k)}return v}function ao(u,f){Ps(u),f=je(u,f),Os(u.a.b,f)&&(u.c=null,u.b-=u.a.get(f).length,Os((u=u.a).b,f)&&(delete u.b[f],u.c--,u.a.length>2*u.c&&mf(u)))}function gf(u,f){return Ps(u),f=je(u,f),Os(u.a.b,f)}function cc(u,f,v){ao(u,f),0<v.length&&(u.c=null,u.a.set(je(u,f),On(v)),u.b+=v.length)}function Qn(u){var f=new br;return f.c=u.c,u.a&&(f.a=new nu(u.a),f.b=u.b),f}function je(u,f){return f=String(f),u.f&&(f=f.toLowerCase()),f}function Wn(u){var f=[];return $r(new co,u,f),f.join("")}function co(){}function $r(u,f,v){if(null==f)v.push("null");else{if("object"==typeof f){if(Array.isArray(f)){var w=f;f=w.length,v.push("[");for(var C="",k=0;k<f;k++)v.push(C),$r(u,w[k],v),C=",";return void v.push("]")}if(!(f instanceof String||f instanceof Number||f instanceof Boolean)){for(w in v.push("{"),C="",f)Object.prototype.hasOwnProperty.call(f,w)&&"function"!=typeof(k=f[w])&&(v.push(C),jn(w,v),v.push(":"),$r(u,k,v),C=",");return void v.push("}")}f=f.valueOf()}switch(typeof f){case"string":jn(f,v);break;case"number":v.push(isFinite(f)&&!isNaN(f)?String(f):"null");break;case"boolean":v.push(String(f));break;case"function":v.push("null");break;default:throw Error("Unknown type: "+typeof f)}}}(S=br.prototype).add=function(u,f){Ps(this),this.c=null,u=je(this,u);var v=this.a.get(u);return v||this.a.set(u,v=[]),v.push(f),this.b+=1,this},S.clear=function(){this.a=this.c=null,this.b=0},S.forEach=function(u,f){Ps(this),this.a.forEach(function(v,w){gt(v,function(C){u.call(f,C,w,this)},this)},this)},S.Y=function(){Ps(this);for(var u=this.a.X(),f=this.a.Y(),v=[],w=0;w<f.length;w++)for(var C=u[w],k=0;k<C.length;k++)v.push(f[w]);return v},S.X=function(u){Ps(this);var f=[];if("string"==typeof u)gf(this,u)&&(f=an(f,this.a.get(je(this,u))));else{u=this.a.X();for(var v=0;v<u.length;v++)f=an(f,u[v])}return f},S.set=function(u,f){return Ps(this),this.c=null,gf(this,u=je(this,u))&&(this.b-=this.a.get(u).length),this.a.set(u,[f]),this.b+=1,this},S.get=function(u,f){return u&&0<(u=this.X(u)).length?String(u[0]):f},S.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var u=[],f=this.a.Y(),v=0;v<f.length;v++){var w=f[v],C=encodeURIComponent(String(w));w=this.X(w);for(var k=0;k<w.length;k++){var N=C;""!==w[k]&&(N+="="+encodeURIComponent(String(w[k]))),u.push(N)}}return this.c=u.join("&")};var ii={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ou=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function jn(u,f){f.push('"',u.replace(ou,function(v){var w=ii[v];return w||(w="\\u"+(65536|v.charCodeAt(0)).toString(16).substr(1),ii[v]=w),w}),'"')}function us(){var u=ln();return Lo&&!!wo&&11==wo||/Edge\/\d+/.test(u)}function ls(){return $.window&&$.window.location.href||self&&self.location&&self.location.href||""}function bt(u,f){f=f||$.window;var v="about:blank";u&&(v=xs(Nn(u)||aa)),f.location.href=v}function su(u,f){var w,v=[];for(w in u)w in f?typeof u[w]!=typeof f[w]?v.push(w):"object"==typeof u[w]&&null!=u[w]&&null!=f[w]?0<su(u[w],f[w]).length&&v.push(w):u[w]!==f[w]&&v.push(w):v.push(w);for(w in f)w in u||v.push(w);return v}function ga(u){return!!((u=(u||ln()).toLowerCase()).match(/android/)||u.match(/webos/)||u.match(/iphone|ipad|ipod/)||u.match(/blackberry/)||u.match(/windows phone/)||u.match(/iemobile/))}function Tn(u){u=u||$.window;try{u.close()}catch{}}function Fs(u,f,v){var w=Math.floor(1e9*Math.random()).toString();f=f||500,v=v||600;var C=(window.screen.availHeight-v)/2,k=(window.screen.availWidth-f)/2;for(N in f={width:f,height:v,top:0<C?C:0,left:0<k?k:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},v=ln().toLowerCase(),w&&(f.target=w,Ct(v,"crios/")&&(f.target="_blank")),nt(ln())==hl&&(u=u||"http://localhost",f.scrollbars=!0),v=u||"",(u=f)||(u={}),w=window,f=v instanceof un?v:Nn(typeof v.href<"u"?v.href:String(v))||aa,v=u.target||v.target,C=[],u)switch(N){case"width":case"height":case"top":case"left":C.push(N+"="+u[N]);break;case"target":case"noopener":case"noreferrer":break;default:C.push(N+"="+(u[N]?1:0))}var N=C.join(",");if((In("iPhone")&&!In("iPod")&&!In("iPad")||In("iPad")||In("iPod"))&&w.navigator&&w.navigator.standalone&&v&&"_self"!=v?(X(N=Re(document,"A"),"HTMLAnchorElement"),f=f instanceof un?f:tc(f),N.href=xs(f),N.setAttribute("target",v),u.noreferrer&&N.setAttribute("rel","noreferrer"),(u=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,w,1),N.dispatchEvent(u),N={}):u.noreferrer?(N=ca("",w,v,N),u=xs(f),N&&(As&&Ct(u,";")&&(u="'"+u.replace(/'/g,"%27")+"'"),N.opener=null,u='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+rs(u)+'">',u=new tt(u=(w=kr())?w.createHTML(u):u,null,Wc),w=N.document)&&(w.write(function Gc(u){return u instanceof tt&&u.constructor===tt?u.a:(J("expected object of type SafeHtml, got '"+u+"' of type "+Ft(u)),"type_error:SafeHtml")}(u)),w.close())):(N=ca(f,w,v,N))&&u.noopener&&(N.opener=null),N)try{N.focus()}catch{}return N}var va=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vf=/^[^@]+@[^@]+$/;function _i(){var u=null;return new At(function(f){"complete"==$.document.readyState?f():(u=function(){f()},Jc(window,"load",u))}).o(function(f){throw oo(window,"load",u),f})}function we(u){return u=u||ln(),!("file:"!==mt()&&"ionic:"!==mt()||!u.toLowerCase().match(/iphone|ipad|ipod|android/))}function bi(){var u=$.window;try{return!(!u||u==u.top)}catch{return!1}}function wi(){return typeof $.WorkerGlobalScope<"u"&&"function"==typeof $.importScripts}function pe(){return be.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":be.Z.INTERNAL.hasOwnProperty("node")?"Node":wi()?"Worker":"Browser"}function Fr(){var u=pe();return"ReactNative"===u||"Node"===u}var hl="Firefox",He="Chrome";function nt(u){var f=u.toLowerCase();return Ct(f,"opera/")||Ct(f,"opr/")||Ct(f,"opios/")?"Opera":Ct(f,"iemobile")?"IEMobile":Ct(f,"msie")||Ct(f,"trident/")?"IE":Ct(f,"edge/")?"Edge":Ct(f,"firefox/")?hl:Ct(f,"silk/")?"Silk":Ct(f,"blackberry")?"Blackberry":Ct(f,"webos")?"Webos":!Ct(f,"safari/")||Ct(f,"chrome/")||Ct(f,"crios/")||Ct(f,"android")?!Ct(f,"chrome/")&&!Ct(f,"crios/")||Ct(f,"edge/")?Ct(f,"android")?"Android":(u=u.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==u.length?u[1]:"Other":He:"Safari"}var Pe={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ls(u,f){f=f||[];var C,v=[],w={};for(C in Pe)w[Pe[C]]=!0;for(C=0;C<f.length;C++)typeof w[f[C]]<"u"&&(delete w[f[C]],v.push(f[C]));return v.sort(),(f=v).length||(f=["FirebaseCore-web"]),"Browser"===(v=pe())?v=nt(w=ln()):"Worker"===v&&(v=nt(w=ln())+"-"+v),v+"/JsCore/"+u+"/"+f.join(",")}function ln(){return $.navigator&&$.navigator.userAgent||""}function Xe(u,f){u=u.split("."),f=f||$;for(var v=0;v<u.length&&"object"==typeof f&&null!=f;v++)f=f[u[v]];return v!=u.length&&(f=void 0),f}function wr(){try{var u=$.localStorage,f=Kt();if(u)return u.setItem(f,"1"),u.removeItem(f),!us()||!!$.indexedDB}catch{return wi()&&!!$.indexedDB}return!1}function dr(){return(qr()||"chrome-extension:"===mt()||we())&&!Fr()&&wr()&&!wi()}function qr(){return"http:"===mt()||"https:"===mt()}function mt(){return $.location&&$.location.protocol||null}function ya(u){return!(ga(u=u||ln())||nt(u)==hl)}function Er(u){return typeof u>"u"?null:Wn(u)}function Rd(u){var v,f={};for(v in u)u.hasOwnProperty(v)&&null!=u[v]&&(f[v]=u[v]);return f}function uu(u){if(null!==u)return JSON.parse(u)}function Kt(u){return u||Math.floor(1e9*Math.random()).toString()}function zv(u){return!("Safari"==nt(u=u||ln())||u.toLowerCase().match(/iphone|ipad|ipod/))}function Uo(){var u=$.___jsl;if(u&&u.H)for(var f in u.H)if(u.H[f].r=u.H[f].r||[],u.H[f].L=u.H[f].L||[],u.H[f].r=u.H[f].L.concat(),u.CP)for(var v=0;v<u.CP.length;v++)u.CP[v]=null}function Do(u,f){if(u>f)throw Error("Short delay should be less than long delay!");this.a=u,this.c=f,u=ln(),f=pe(),this.b=ga(u)||"ReactNative"===f}function ki(){var u=$.document;return!(u&&typeof u.visibilityState<"u")||"visible"==u.visibilityState}function ds(u){try{var f=new Date(parseInt(u,10));if(!isNaN(f.getTime())&&!/[^0-9]/.test(u))return f.toUTCString()}catch{}return null}function Lr(){return!(!Xe("fireauth.oauthhelper",$)&&!Xe("fireauth.iframe",$))}Do.prototype.get=function(){var u=$.navigator;return u&&"boolean"==typeof u.onLine&&(qr()||"chrome-extension:"===mt()||typeof u.connection<"u")&&!u.onLine?Math.min(5e3,this.a):this.b?this.c:this.a};var uc,fg={};function fl(u){fg[u]||(fg[u]=!0,typeof console<"u"&&"function"==typeof console.warn&&console.warn(u))}try{var Od={};Object.defineProperty(Od,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Od,"abcd",{configurable:!0,enumerable:!0,value:2}),uc=2==Od.abcd}catch{uc=!1}function We(u,f,v){uc?Object.defineProperty(u,f,{configurable:!0,enumerable:!0,value:v}):u[f]=v}function Ve(u,f){if(f)for(var v in f)f.hasOwnProperty(v)&&We(u,v,f[v])}function Ei(u){var f={};return Ve(f,u),f}function lu(u){var f=u;if("object"==typeof u&&null!=u)for(var v in f="length"in u?[]:{},u)We(f,v,lu(u[v]));return f}function Lp(u){var f=u&&(u[Dr]?"phone":null);if(!(f&&u&&u[_f]))throw new Q("internal-error","Internal assert: invalid MultiFactorInfo object");We(this,"uid",u[_f]),We(this,"displayName",u[ps]||null);var v=null;u[Nd]&&(v=new Date(u[Nd]).toUTCString()),We(this,"enrollmentTime",v),We(this,"factorId",f)}function fs(u){try{var f=new _a(u)}catch{f=null}return f}Lp.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ps="displayName",Nd="enrolledAt",_f="mfaEnrollmentId",Dr="phoneInfo";function _a(u){Lp.call(this,u),We(this,"phoneNumber",u[Dr])}function Co(u){var f={},v=u[jp],w=u[pg],C=u[bf];if(u=fs(u[Gr]),!C||C!=ba&&C!=oi&&!v||C==oi&&!w||C==du&&!u)throw Error("Invalid checkActionCode response!");C==oi?(f[pl]=v||null,f[qi]=v||null,f[lc]=w):(f[pl]=w||null,f[qi]=w||null,f[lc]=v||null),f[Pd]=u||null,We(this,Fd,C),We(this,wf,lu(f))}st(_a,Lp),_a.prototype.w=function(){var u=_a.bb.w.call(this);return u.phoneNumber=this.phoneNumber,u};var du="REVERT_SECOND_FACTOR_ADDITION",ba="EMAIL_SIGNIN",oi="VERIFY_AND_CHANGE_EMAIL",jp="email",Gr="mfaInfo",pg="newEmail",bf="requestType",lc="email",pl="fromEmail",Pd="multiFactorInfo",qi="previousEmail",wf="data",Fd="operation";function dc(u){var f=so(u=yi(u),Ef)||null,v=so(u,$v)||null,w=so(u,mg)||null;if(w=w&&Bp[w]||null,!f||!v||!w)throw new Q("argument-error",Ef+", "+$v+"and "+mg+" are required in a valid action code URL.");Ve(this,{apiKey:f,operation:w,code:v,continueUrl:so(u,S_)||null,languageCode:so(u,T_)||null,tenantId:so(u,Ld)||null})}var Ef="apiKey",$v="oobCode",S_="continueUrl",T_="languageCode",mg="mode",Ld="tenantId",Bp={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:du,signIn:ba,verifyAndChangeEmail:oi,verifyEmail:"VERIFY_EMAIL"};function hc(u){try{return new dc(u)}catch{return null}}function ml(u){var f=u[gl];if(typeof f>"u")throw new Q("missing-continue-uri");if("string"!=typeof f||"string"==typeof f&&!f.length)throw new Q("invalid-continue-uri");this.h=f,this.b=this.a=null,this.g=!1;var v=u[Vp];if(v&&"object"==typeof v){f=v[Df];var w=v[vl];if(v=v[yl],"string"==typeof f&&f.length){if(this.a=f,typeof w<"u"&&"boolean"!=typeof w)throw new Q("argument-error",vl+" property must be a boolean when specified.");if(this.g=!!w,typeof v<"u"&&("string"!=typeof v||"string"==typeof v&&!v.length))throw new Q("argument-error",yl+" property must be a non empty string when specified.");this.b=v||null}else{if(typeof f<"u")throw new Q("argument-error",Df+" property must be a non empty string when specified.");if(typeof w<"u"||typeof v<"u")throw new Q("missing-android-pkg-name")}}else if(typeof v<"u")throw new Q("argument-error",Vp+" property must be a non null object when specified.");if(this.f=null,(f=u[gg])&&"object"==typeof f){if("string"==typeof(f=f[Cf])&&f.length)this.f=f;else if(typeof f<"u")throw new Q("argument-error",Cf+" property must be a non empty string when specified.")}else if(typeof f<"u")throw new Q("argument-error",gg+" property must be a non null object when specified.");if(typeof(f=u[js])<"u"&&"boolean"!=typeof f)throw new Q("argument-error",js+" property must be a boolean when specified.");if(this.c=!!f,typeof(u=u[jd])<"u"&&("string"!=typeof u||"string"==typeof u&&!u.length))throw new Q("argument-error",jd+" property must be a non empty string when specified.");this.i=u||null}var Vp="android",jd="dynamicLinkDomain",js="handleCodeInApp",gg="iOS",gl="url",vl="installApp",yl="minimumVersion",Df="packageName",Cf="bundleId";function _l(u){var f={};for(var v in f.continueUrl=u.h,f.canHandleCodeInApp=u.c,(f.androidPackageName=u.a)&&(f.androidMinimumVersion=u.b,f.androidInstallApp=u.g),f.iOSBundleId=u.f,f.dynamicLinkDomain=u.i,f)null===f[v]&&delete f[v];return f}var Oi=null;function bl(u){var f=If(u);if(!(f&&f.sub&&f.iss&&f.aud&&f.exp))throw Error("Invalid JWT");this.h=u,this.a=f.exp,this.i=f.sub,u=Date.now()/1e3,this.g=f.iat||(u>this.a?this.a:u),this.b=f.provider_id||f.firebase&&f.firebase.sign_in_provider||null,this.f=f.firebase&&f.firebase.tenant||null,this.c=!!f.is_anonymous||"anonymous"==this.b}function uo(u){try{return new bl(u)}catch{return null}}function If(u){if(!u||3!=(u=u.split(".")).length)return null;for(var f=(4-(u=u[1]).length%4)%4,v=0;v<f;v++)u+=".";try{var w=function Up(u){var f=[];return function Bd(u,f){function v(ve){for(;w<u.length;){var c=u.charAt(w++),s=Oi[c];if(null!=s)return s;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c)}return ve}!function qv(){if(!Oi){Oi={};for(var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),f=["+/=","+/","-_=","-_.","-_"],v=0;5>v;v++)for(var w=u.concat(f[v].split("")),C=0;C<w.length;C++){var k=w[C];void 0===Oi[k]&&(Oi[k]=C)}}}();for(var w=0;;){var C=v(-1),k=v(0),N=v(64),V=v(64);if(64===V&&-1===C)break;f(C<<2|k>>4),64!=N&&(f(k<<4&240|N>>2),64!=V&&f(N<<6&192|V))}}(u,function(v){f.push(v)}),f}(u);for(u=[],v=f=0;f<w.length;){var C=w[f++];if(128>C)u[v++]=String.fromCharCode(C);else if(191<C&&224>C){var k=w[f++];u[v++]=String.fromCharCode((31&C)<<6|63&k)}else if(239<C&&365>C){k=w[f++];var N=w[f++],ve=((7&C)<<18|(63&k)<<12|(63&N)<<6|63&w[f++])-65536;u[v++]=String.fromCharCode(55296+(ve>>10)),u[v++]=String.fromCharCode(56320+(1023&ve))}else k=w[f++],N=w[f++],u[v++]=String.fromCharCode((15&C)<<12|(63&k)<<6|63&N)}return JSON.parse(u.join(""))}catch{}return null}bl.prototype.T=function(){return this.f},bl.prototype.l=function(){return this.c},bl.prototype.toString=function(){return this.h};var vg="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Vd=["client_id","response_type","scope","redirect_uri","state"],Ud={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Vd},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Vd},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Vd},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:vg},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Hd(u){for(var f in Ud)if(Ud[f].fa==u)return Ud[f];return null}function zd(u){var f={};f["facebook.com"]=wa,f["google.com"]=Bs,f["github.com"]=xn,f["twitter.com"]=wl;var v=u&&u[yg];try{if(v)return f[v]?new f[v](u):new Ni(u);if(typeof u[$d]<"u")return new Io(u)}catch{}return null}var $d="idToken",yg="providerId";function Io(u){var f=u[yg];if(!f&&u[$d]){var v=uo(u[$d]);v&&v.b&&(f=v.b)}if(!f)throw Error("Invalid additional user info!");("anonymous"==f||"custom"==f)&&(f=null),v=!1,typeof u.isNewUser<"u"?v=!!u.isNewUser:"identitytoolkit#SignupNewUserResponse"===u.kind&&(v=!0),We(this,"providerId",f),We(this,"isNewUser",v)}function Ni(u){Io.call(this,u),We(this,"profile",lu((u=uu(u.rawUserInfo||"{}"))||{}))}function wa(u){if(Ni.call(this,u),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function xn(u){if(Ni.call(this,u),"github.com"!=this.providerId)throw Error("Invalid provider ID!");We(this,"username",this.profile&&this.profile.login||null)}function Bs(u){if(Ni.call(this,u),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function wl(u){if(Ni.call(this,u),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");We(this,"username",u.screenName||null)}function jr(u){var f=yi(u),v=so(f,"link"),w=so(yi(v),"link");return f=so(f,"deep_link_id"),so(yi(f),"link")||f||w||v||u}function qd(u,f){if(!u&&!f)throw new Q("internal-error","Internal assert: no raw session string available");if(u&&f)throw new Q("internal-error","Internal assert: unable to determine the session type");this.a=u||null,this.b=f||null,this.type=this.a?fu:So}st(Ni,Io),st(wa,Ni),st(xn,Ni),st(Bs,Ni),st(wl,Ni);var fu="enroll",So="signin";function si(){}function Cr(u,f){return u.then(function(v){if(v[Ao]){var w=uo(v[Ao]);if(!w||f!=w.i)throw new Q("user-mismatch");return v}throw new Q("user-mismatch")}).o(function(v){throw v&&v.code&&v.code==Rn+"user-not-found"?new Q("user-mismatch"):v})}function Vs(u,f){if(!f)throw new Q("internal-error","failed to construct a credential");this.a=f,We(this,"providerId",u),We(this,"signInMethod",u)}function El(u){return{pendingToken:u.a,requestUri:"http://localhost"}}function fc(u){if(u&&u.providerId&&u.signInMethod&&0==u.providerId.indexOf("saml.")&&u.pendingToken)try{return new Vs(u.providerId,u.pendingToken)}catch{}return null}function Ho(u,f,v){if(this.a=null,f.idToken||f.accessToken)f.idToken&&We(this,"idToken",f.idToken),f.accessToken&&We(this,"accessToken",f.accessToken),f.nonce&&!f.pendingToken&&We(this,"nonce",f.nonce),f.pendingToken&&(this.a=f.pendingToken);else{if(!f.oauthToken||!f.oauthTokenSecret)throw new Q("internal-error","failed to construct a credential");We(this,"accessToken",f.oauthToken),We(this,"secret",f.oauthTokenSecret)}We(this,"providerId",u),We(this,"signInMethod",v)}function Hp(u){var f={};return u.idToken&&(f.id_token=u.idToken),u.accessToken&&(f.access_token=u.accessToken),u.secret&&(f.oauth_token_secret=u.secret),f.providerId=u.providerId,u.nonce&&!u.a&&(f.nonce=u.nonce),f={postBody:dl(f).toString(),requestUri:"http://localhost"},u.a&&(delete f.postBody,f.pendingToken=u.a),f}function zp(u){if(u&&u.providerId&&u.signInMethod){var f={idToken:u.oauthIdToken,accessToken:u.oauthTokenSecret?null:u.oauthAccessToken,oauthTokenSecret:u.oauthTokenSecret,oauthToken:u.oauthTokenSecret&&u.oauthAccessToken,nonce:u.nonce,pendingToken:u.pendingToken};try{return new Ho(u.providerId,f,u.signInMethod)}catch{}}return null}function Ea(u,f){this.Qc=f||[],Ve(this,{providerId:u,isOAuthProvider:!0}),this.Jb={},this.qb=(Hd(u)||{}).Ja||null,this.pb=null}function pu(u){if("string"!=typeof u||0!=u.indexOf("saml."))throw new Q("argument-error",'SAML provider IDs must be prefixed with "saml."');Ea.call(this,u,[])}function Br(u){Ea.call(this,u,Vd),this.a=[]}function it(){Br.call(this,"facebook.com")}function Sf(u){if(!u)throw new Q("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=u;return dt(u)&&(f=u.accessToken),(new it).credential({accessToken:f})}function mu(){Br.call(this,"github.com")}function Ir(u){if(!u)throw new Q("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=u;return dt(u)&&(f=u.accessToken),(new mu).credential({accessToken:f})}function Ht(){Br.call(this,"google.com"),this.Ca("profile")}function Dl(u,f){var v=u;return dt(u)&&(v=u.idToken,f=u.accessToken),(new Ht).credential({idToken:v,accessToken:f})}function Da(){Ea.call(this,"twitter.com",vg)}function gu(u,f){var v=u;if(dt(v)||(v={oauthToken:u,oauthTokenSecret:f}),!v.oauthToken||!v.oauthTokenSecret)throw new Q("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ho("twitter.com",v,"twitter.com")}function Ca(u,f,v){this.a=u,this.f=f,We(this,"providerId","password"),We(this,"signInMethod",v===Bn.EMAIL_LINK_SIGN_IN_METHOD?Bn.EMAIL_LINK_SIGN_IN_METHOD:Bn.EMAIL_PASSWORD_SIGN_IN_METHOD)}function _g(u){return u&&u.email&&u.password?new Ca(u.email,u.password,u.signInMethod):null}function Bn(){Ve(this,{providerId:"password",isOAuthProvider:!1})}function Gd(u,f){if(!(f=Us(f)))throw new Q("argument-error","Invalid email link!");return new Ca(u,f.code,Bn.EMAIL_LINK_SIGN_IN_METHOD)}function Us(u){return(u=hc(u=jr(u)))&&u.operation===ba?u:null}function de(u){if(!(u.fb&&u.eb||u.La&&u.ea))throw new Q("internal-error");this.a=u,We(this,"providerId","phone"),this.fa="phone",We(this,"signInMethod","phone")}function sn(u){if(u&&"phone"===u.providerId&&(u.verificationId&&u.verificationCode||u.temporaryProof&&u.phoneNumber)){var f={};return gt(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(v){u[v]&&(f[v]=u[v])}),new de(f)}return null}function lo(u){return u.a.La&&u.a.ea?{temporaryProof:u.a.La,phoneNumber:u.a.ea}:{sessionInfo:u.a.fb,code:u.a.eb}}function bn(u){try{this.a=u||be.Z.auth()}catch{throw new Q("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ve(this,{providerId:"phone",isOAuthProvider:!1})}function ai(u,f){if(!u)throw new Q("missing-verification-id");if(!f)throw new Q("missing-verification-code");return new de({fb:u,eb:f})}function Cl(u){if(u.temporaryProof&&u.phoneNumber)return new de({La:u.temporaryProof,ea:u.phoneNumber});var f=u&&u.providerId;if(!f||"password"===f)return null;var v=u&&u.oauthAccessToken,w=u&&u.oauthTokenSecret,C=u&&u.nonce,k=u&&u.oauthIdToken,N=u&&u.pendingToken;try{switch(f){case"google.com":return Dl(k,v);case"facebook.com":return Sf(v);case"github.com":return Ir(v);case"twitter.com":return gu(v,w);default:return v||w||k||N?N?0==f.indexOf("saml.")?new Vs(f,N):new Ho(f,{pendingToken:N,idToken:u.oauthIdToken,accessToken:u.oauthAccessToken},f):new Br(f).credential({idToken:k,accessToken:v,rawNonce:C}):null}}catch{return null}}function vu(u){if(!u.isOAuthProvider)throw new Q("invalid-oauth-provider")}function Sr(u,f,v,w,C,k,N){if(this.c=u,this.b=f||null,this.g=v||null,this.f=w||null,this.i=k||null,this.h=N||null,this.a=C||null,!this.g&&!this.a)throw new Q("invalid-auth-event");if(this.g&&this.a)throw new Q("invalid-auth-event");if(this.g&&!this.f)throw new Q("invalid-auth-event")}function Tf(u){return(u=u||{}).type?new Sr(u.type,u.eventId,u.urlResponse,u.sessionId,u.error&&Mr(u.error),u.postBody,u.tenantId):null}function yn(){this.b=null,this.a=[]}qd.prototype.Ha=function(){return et(this.a?this.a:this.b)},qd.prototype.w=function(){return this.type==fu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},si.prototype.ka=function(){},si.prototype.b=function(){},si.prototype.c=function(){},si.prototype.w=function(){},Vs.prototype.ka=function(u){return tm(u,El(this))},Vs.prototype.b=function(u,f){var v=El(this);return v.idToken=f,nm(u,v)},Vs.prototype.c=function(u,f){return Cr(rm(u,El(this)),f)},Vs.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Ho.prototype.ka=function(u){return tm(u,Hp(this))},Ho.prototype.b=function(u,f){var v=Hp(this);return v.idToken=f,nm(u,v)},Ho.prototype.c=function(u,f){return Cr(rm(u,Hp(this)),f)},Ho.prototype.w=function(){var u={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(u.oauthIdToken=this.idToken),this.accessToken&&(u.oauthAccessToken=this.accessToken),this.secret&&(u.oauthTokenSecret=this.secret),this.nonce&&(u.nonce=this.nonce),this.a&&(u.pendingToken=this.a),u},Ea.prototype.Ka=function(u){return this.Jb=q(u),this},st(pu,Ea),st(Br,Ea),Br.prototype.Ca=function(u){return nn(this.a,u)||this.a.push(u),this},Br.prototype.Rb=function(){return On(this.a)},Br.prototype.credential=function(u,f){var v;if(!(v=dt(u)?{idToken:u.idToken||null,accessToken:u.accessToken||null,nonce:u.rawNonce||null}:{idToken:u||null,accessToken:f||null}).idToken&&!v.accessToken)throw new Q("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ho(this.providerId,v,this.providerId)},st(it,Br),We(it,"PROVIDER_ID","facebook.com"),We(it,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),st(mu,Br),We(mu,"PROVIDER_ID","github.com"),We(mu,"GITHUB_SIGN_IN_METHOD","github.com"),st(Ht,Br),We(Ht,"PROVIDER_ID","google.com"),We(Ht,"GOOGLE_SIGN_IN_METHOD","google.com"),st(Da,Ea),We(Da,"PROVIDER_ID","twitter.com"),We(Da,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ca.prototype.ka=function(u){return this.signInMethod==Bn.EMAIL_LINK_SIGN_IN_METHOD?jt(u,Hr,{email:this.a,oobCode:this.f}):jt(u,Lf,{email:this.a,password:this.f})},Ca.prototype.b=function(u,f){return this.signInMethod==Bn.EMAIL_LINK_SIGN_IN_METHOD?jt(u,Pf,{idToken:f,email:this.a,oobCode:this.f}):jt(u,ah,{idToken:f,email:this.a,password:this.f})},Ca.prototype.c=function(u,f){return Cr(this.ka(u),f)},Ca.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Ve(Bn,{PROVIDER_ID:"password"}),Ve(Bn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ve(Bn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),de.prototype.ka=function(u){return u.gb(lo(this))},de.prototype.b=function(u,f){var v=lo(this);return v.idToken=f,jt(u,Tu,v)},de.prototype.c=function(u,f){var v=lo(this);return v.operation="REAUTH",Cr(u=jt(u,xu,v),f)},de.prototype.w=function(){var u={providerId:"phone"};return this.a.fb&&(u.verificationId=this.a.fb),this.a.eb&&(u.verificationCode=this.a.eb),this.a.La&&(u.temporaryProof=this.a.La),this.a.ea&&(u.phoneNumber=this.a.ea),u},bn.prototype.gb=function(u,f){var v=this.a.a;return et(f.verify()).then(function(w){if("string"!=typeof w)throw new Q("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===f.type){var N,C=dt(u)?u.session:null,k=dt(u)?u.phoneNumber:u;return N=C&&C.type==fu?C.Ha().then(function(V){return function Iu(u,f){return jt(u,M_,f).then(function(v){return v.phoneSessionInfo.sessionInfo})}(v,{idToken:V,phoneEnrollmentInfo:{phoneNumber:k,recaptchaToken:w}})}):C&&C.type==So?C.Ha().then(function(V){return function Fl(u,f){return jt(u,sm,f).then(function(v){return v.phoneResponseInfo.sessionInfo})}(v,{mfaPendingCredential:V,mfaEnrollmentId:u.multiFactorHint&&u.multiFactorHint.uid||u.multiFactorUid,phoneSignInInfo:{recaptchaToken:w}})}):function Aa(u,f){return jt(u,om,f)}(v,{phoneNumber:k,recaptchaToken:w}),N.then(function(V){return"function"==typeof f.reset&&f.reset(),V},function(V){throw"function"==typeof f.reset&&f.reset(),V})}throw new Q("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},Ve(bn,{PROVIDER_ID:"phone"}),Ve(bn,{PHONE_SIGN_IN_METHOD:"phone"}),Sr.prototype.getUid=function(){var u=[];return u.push(this.c),this.b&&u.push(this.b),this.f&&u.push(this.f),this.h&&u.push(this.h),u.join("-")},Sr.prototype.T=function(){return this.h},Sr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var zo,$p=null;function Il(u){var f="unauthorized-domain",v=void 0,w=yi(u);u=w.a,"chrome-extension"==(w=w.c)?v=ge("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",u):"http"==w||"https"==w?v=ge("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",u):f="operation-not-supported-in-this-environment",Q.call(this,f,v)}function Tr(u,f,v){Q.call(this,u,v),(u=f||{}).Kb&&We(this,"email",u.Kb),u.ea&&We(this,"phoneNumber",u.ea),u.credential&&We(this,"credential",u.credential),u.$b&&We(this,"tenantId",u.$b)}function Gi(u){if(u.code){var f=u.code||"";0==f.indexOf(Rn)&&(f=f.substring(Rn.length));var v={credential:Cl(u),$b:u.tenantId};if(u.email)v.Kb=u.email;else if(u.phoneNumber)v.ea=u.phoneNumber;else if(!v.credential)return new Q(f,u.message||void 0);return new Tr(f,v,u.message)}return null}function yu(){}function xf(){}function Af(u){if(!u.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var f=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],v=0;v<f.length;v++){var w=f[v];try{return new ActiveXObject(w),u.f=w}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return u.f}function Wd(){}function bg(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=Ge(this.qc,this),this.a.onerror=Ge(this.Tb,this),this.a.onprogress=Ge(this.rc,this),this.a.ontimeout=Ge(this.vc,this)}function Kd(u,f){u.readyState=f,u.onreadystatechange&&u.onreadystatechange()}function Yd(u,f,v){this.reset(u,f,v,void 0,void 0)}function Tl(u){this.f=u,this.b=this.c=this.a=null}function Zd(u,f){this.name=u,this.value=f}st(Il,Q),st(Tr,Q),Tr.prototype.w=function(){var u={code:this.code,message:this.message};this.email&&(u.email=this.email),this.phoneNumber&&(u.phoneNumber=this.phoneNumber),this.tenantId&&(u.tenantId=this.tenantId);var f=this.credential&&this.credential.w();return f&&oe(u,f),u},Tr.prototype.toJSON=function(){return this.w()},yu.prototype.c=null,st(xf,yu),xf.prototype.a=function(){var u=Af(this);return u?new ActiveXObject(u):new XMLHttpRequest},xf.prototype.b=function(){var u={};return Af(this)&&(u[0]=!0,u[1]=!0),u},zo=new xf,st(Wd,yu),Wd.prototype.a=function(){var u=new XMLHttpRequest;if("withCredentials"in u)return u;if(typeof XDomainRequest<"u")return new bg;throw Error("Unsupported browser")},Wd.prototype.b=function(){return{}},(S=bg.prototype).open=function(u,f,v){if(null!=v&&!v)throw Error("Only async requests are supported.");this.a.open(u,f)},S.send=function(u){if(u){if("string"!=typeof u)throw Error("Only string data is supported");this.a.send(u)}else this.a.send()},S.abort=function(){this.a.abort()},S.setRequestHeader=function(){},S.getResponseHeader=function(u){return"content-type"==u.toLowerCase()?this.a.contentType:""},S.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Kd(this,4)},S.Tb=function(){this.status=500,this.response=this.responseText="",Kd(this,4)},S.vc=function(){this.Tb()},S.rc=function(){this.status=200,Kd(this,1)},S.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Yd.prototype.a=null,Yd.prototype.reset=function(u,f,v,w,C){w||Ui(),delete this.a},Zd.prototype.toString=function(){return this.name};var Vr=new Zd("SEVERE",1e3),_u=new Zd("WARNING",900),Gp=new Zd("CONFIG",700),xl=new Zd("FINE",500);function $o(u){return u.c?u.c:u.a?$o(u.a):(J("Root logger has no level set."),null)}Tl.prototype.log=function(u,f,v){if(u.value>=$o(this).value)for(Lt(f)&&(f=f()),u=new Yd(u,String(f),this.f),v&&(u.a=v),v=this;v;)v=v.a};var Al={},bu=null;function wu(u){var f;if(bu||(bu=new Tl(""),Al[""]=bu,bu.c=Gp),!(f=Al[u])){f=new Tl(u);var v=u.lastIndexOf("."),w=u.substr(v+1);(v=wu(u.substr(0,v))).b||(v.b={}),v.b[w]=f,f.a=v,Al[u]=f}return f}function To(u,f){u&&u.log(xl,f,void 0)}function Wr(u){this.f=u}function ms(u){Pr.call(this),this.u=u,this.h=void 0,this.readyState=An,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=wu("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}st(Wr,yu),Wr.prototype.a=function(){return new ms(this.f)},Wr.prototype.b=function(u){return function(){return u}}({}),st(ms,Pr);var An=0;function Wp(u){u.c.read().then(u.pc.bind(u)).catch(u.Va.bind(u))}function Ml(u){u.readyState=4,u.g=null,u.c=null,u.m=null,Rl(u)}function Rl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}function kl(u){Pr.call(this),this.headers=new nu,this.D=u||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Mf,this.u=this.S=!1}(S=ms.prototype).open=function(u,f){if(this.readyState!=An)throw this.abort(),Error("Error reopening a connection");this.s=u,this.f=f,this.readyState=1,Rl(this)},S.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var f={headers:this.l,method:this.s,credentials:this.h,cache:void 0};u&&(f.body=u),this.u.fetch(new Request(this.f,f)).then(this.uc.bind(this),this.Va.bind(this))},S.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ml(this)),this.readyState=An},S.uc=function(u){this.a&&(this.g=u,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=u.headers,this.readyState=2,Rl(this)),this.a&&(this.readyState=3,Rl(this),this.a&&("arraybuffer"===this.responseType?u.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof $.ReadableStream<"u"&&"body"in u?(this.response=this.responseText="",this.c=u.body.getReader(),this.m=new TextDecoder,Wp(this)):u.text().then(this.tc.bind(this),this.Va.bind(this)))))},S.pc=function(u){if(this.a){var f=this.m.decode(u.value?u.value:new Uint8Array(0),{stream:!u.done});f&&(this.response=this.responseText+=f),u.done?Ml(this):Rl(this),3==this.readyState&&Wp(this)}},S.tc=function(u){this.a&&(this.response=this.responseText=u,Ml(this))},S.sc=function(u){this.a&&(this.response=u,Ml(this))},S.Va=function(u){var f=this.i;f&&f.log(_u,"Failed to fetch url "+this.f,u instanceof Error?u:Error(u)),this.a&&Ml(this)},S.setRequestHeader=function(u,f){this.l.append(u,f)},S.getResponseHeader=function(u){return this.b?this.b.get(u.toLowerCase())||"":((u=this.i)&&u.log(_u,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},S.getAllResponseHeaders=function(){if(!this.b){var u=this.i;return u&&u.log(_u,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}u=[];for(var f=this.b.entries(),v=f.next();!v.done;)u.push((v=v.value)[0]+": "+v[1]),v=f.next();return u.join("\r\n")},Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(u){this.h=u?"include":"same-origin"}}),st(kl,Pr);var Mf="";kl.prototype.b=wu("goog.net.XhrIo");var Kp=/^https?$/i,Xd=["POST","PUT"];function Ia(u){return"content-type"==u.toLowerCase()}function Hs(u,f){u.c=!1,u.a&&(u.f=!0,u.a.abort(),u.f=!1),u.h=f,Qd(u),Jd(u)}function Qd(u){u.J||(u.J=!0,u.dispatchEvent("complete"),u.dispatchEvent("error"))}function Rf(u){if(u.c&&typeof le<"u")if(u.C[1]&&4==Wi(u)&&2==Sa(u))To(u.b,Di(u,"Local request error detected and ignored"));else if(u.i&&4==Wi(u))Op(u.Wb,0,u);else if(u.dispatchEvent("readystatechange"),4==Wi(u)){To(u.b,Di(u,"Request complete")),u.c=!1;try{var w,f=Sa(u);e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}if(!(w=v)){var C;if(C=0===f){var k=String(u.l).match(Pp)[1]||null;if(!k&&$.self&&$.self.location){var N=$.self.location.protocol;k=N.substr(0,N.length-1)}C=!Kp.test(k?k.toLowerCase():"")}w=C}if(w)u.dispatchEvent("complete"),u.dispatchEvent("success");else{try{var V=2<Wi(u)?u.a.statusText:""}catch(ve){To(u.b,"Can not get status: "+ve.message),V=""}u.h=V+" ["+Sa(u)+"]",Qd(u)}}finally{Jd(u)}}}function Jd(u,f){if(u.a){kf(u);var v=u.a,w=u.C[0]?Fe:null;u.a=null,u.C=null,f||u.dispatchEvent("ready");try{v.onreadystatechange=w}catch(C){(u=u.b)&&u.log(Vr,"Problem encountered resetting onreadystatechange: "+C.message,void 0)}}}function kf(u){u.a&&u.u&&(u.a.ontimeout=null),u.s&&($.clearTimeout(u.s),u.s=null)}function Wi(u){return u.a?u.a.readyState:0}function Sa(u){try{return 2<Wi(u)?u.a.status:-1}catch{return-1}}function Di(u,f){return f+" ["+u.P+" "+u.l+" "+Sa(u)+"]"}function Nl(u){var f=gc;this.g=[],this.u=f,this.s=u||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Kr(u,f,v){u.a=!0,u.c=v,u.f=!f,Kv(u)}function zs(u){if(u.a){if(!u.v)throw new Vn(u);u.v=!1}}function ci(u,f,v,w){u.g.push([f,v,w]),u.a&&Kv(u)}function Wv(u){return St(u.g,function(f){return Lt(f[1])})}function Kv(u){if(u.h&&u.a&&Wv(u)){var f=u.h,v=Jn[f];v&&($.clearTimeout(v.a),delete Jn[f]),u.h=0}u.b&&(u.b.l--,delete u.b),f=u.c;for(var w=v=!1;u.g.length&&!u.i;){var C=u.g.shift(),k=C[0],N=C[1];if(C=C[2],k=u.f?N:k)try{var V=k.call(C||u.s,f);void 0!==V&&(u.f=u.f&&(V==f||V instanceof Error),u.c=f=V),(ce(f)||"function"==typeof $.Promise&&f instanceof $.Promise)&&(w=!0,u.i=!0)}catch(ve){f=ve,u.f=!0,Wv(u)||(v=!0)}}u.c=f,w&&(V=Ge(u.m,u,!0),w=Ge(u.m,u,!1),f instanceof Nl?(ci(f,V,w),f.C=!0):f.then(V,w)),v&&(f=new Ki(f),Jn[f.a]=f,u.h=f.a)}function Vn(){se.call(this)}function ui(){se.call(this)}function Ki(u){this.a=$.setTimeout(Ge(this.c,this),0),this.b=u}(S=kl.prototype).Ma=function(){typeof le<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",To(this.b,Di(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},S.abort=function(){this.a&&this.c&&(To(this.b,Di(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Jd(this))},S.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Jd(this,!0)),kl.bb.Da.call(this)},S.Wb=function(){this.ya||(this.N||this.i||this.f?Rf(this):this.Jc())},S.Jc=function(){Rf(this)},S.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Mf:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var u=this.b;return u&&u.log(Vr,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(f){return To(this.b,"Can not get response: "+f.message),null}},Nl.prototype.cancel=function(u){if(this.a)this.c instanceof Nl&&this.c.cancel();else{if(this.b){var f=this.b;delete this.b,u?f.cancel(u):(f.l--,0>=f.l&&f.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(u=new ui(this),zs(this),Kr(this,!1,u))}},Nl.prototype.m=function(u,f){this.i=!1,Kr(this,u,f)},Nl.prototype.then=function(u,f,v){var w,C,k=new At(function(N,V){w=N,C=V});return ci(this,w,function(N){N instanceof ui?k.cancel():C(N)}),k.then(u,f,v)},Nl.prototype.$goog_Thenable=!0,st(Vn,se),Vn.prototype.message="Deferred has already fired",Vn.prototype.name="AlreadyCalledError",st(ui,se),ui.prototype.message="Deferred was canceled",ui.prototype.name="CanceledError",Ki.prototype.c=function(){throw delete Jn[this.a],this.b};var Jn={};function Ci(u){var f={},v=f.document||document,w=vt(u).toString(),C=Re(document,"SCRIPT"),k={Xb:C,Ma:void 0},N=new Nl(k),V=null,ve=null!=f.timeout?f.timeout:5e3;return 0<ve&&(V=window.setTimeout(function(){qs(C,!0);var c=new xo(Yv,"Timeout reached for loading script "+w);zs(N),Kr(N,!1,c)},ve),k.Ma=V),C.onload=C.onreadystatechange=function(){C.readyState&&"loaded"!=C.readyState&&"complete"!=C.readyState||(qs(C,f.xd||!1,V),zs(N),Kr(N,!0,null))},C.onerror=function(){qs(C,!0,V);var c=new xo(Eu,"Error while loading script "+w);zs(N),Kr(N,!1,c)},oe(k=f.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ct(C,k),function Rp(u,f){X(u,"HTMLScriptElement"),u.src=vt(f),(f=u.ownerDocument&&u.ownerDocument.defaultView)&&f!=$?f=xe(f.document):(null===ke&&(ke=xe($.document)),f=ke),f&&u.setAttribute("nonce",f)}(C,u),function $s(u){var f;return(f=(u||document).getElementsByTagName("HEAD"))&&0!=f.length?f[0]:u.documentElement}(v).appendChild(C),N}function gc(){if(this&&this.Xb){var u=this.Xb;u&&"SCRIPT"==u.tagName&&qs(u,!0,this.Ma)}}function qs(u,f,v){null!=v&&$.clearTimeout(v),u.onload=Fe,u.onerror=Fe,u.onreadystatechange=Fe,f&&window.setTimeout(function(){u&&u.parentNode&&u.parentNode.removeChild(u)},0)}var Eu=0,Yv=1;function xo(u,f){var v="Jsloader error (code #"+u+")";f&&(v+=": "+f),se.call(this,v),this.code=u}function eh(u){this.f=u}function wn(u,f,v){if(this.c=u,this.l=(u=f||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=u.secureTokenTimeout||Ta,this.g=q(u.secureTokenHeaders||Yp),this.h=u.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=u.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=u.firebaseTimeout||th,this.a=q(u.firebaseHeaders||vc),v&&(this.a["X-Client-Version"]=v,this.g["X-Client-Version"]=v),v="Node"==pe(),!(v=$.XMLHttpRequest||v&&be.Z.INTERNAL.node&&be.Z.INTERNAL.node.XMLHttpRequest)&&!wi())throw new Q("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=wi()?new Wr(self):Fr()?new eh(v):new Wd,this.b=null}st(xo,se),st(eh,yu),eh.prototype.a=function(){return new this.f},eh.prototype.b=function(){return{}};var Se,Ao="idToken",Ta=new Do(3e4,6e4),Yp={"Content-Type":"application/x-www-form-urlencoded"},th=new Do(3e4,6e4),vc={"Content-Type":"application/json"};function Zp(u,f){f?u.a["X-Firebase-Locale"]=f:delete u.a["X-Firebase-Locale"]}function gs(u,f){f&&(u.l=nh("https://securetoken.googleapis.com/v1/token",f),u.h=nh("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",f),u.i=nh("https://identitytoolkit.googleapis.com/v2/",f))}function nh(u,f){return u=yi(u),f=yi(f.url),u.f=u.a+u.f,Md(u,f.c),u.a=f.a,ru(u,f.g),u.toString()}function Of(u,f){f?(u.a["X-Client-Version"]=f,u.g["X-Client-Version"]=f):(delete u.a["X-Client-Version"],delete u.g["X-Client-Version"])}function Pl(u,f,v,w,C,k,N){(function Fp(){var u=ln();return!((u=nt(u)!=He?null:(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&30>u||Lo&&wo&&!(9<wo))})()||wi()?u=Ge(u.u,u):(Se||(Se=new At(function(V,ve){!function wg(u,f){((window.gapi||{}).client||{}).request?u():($[Nf]=function(){((window.gapi||{}).client||{}).request?u():f(Error("CORS_UNSUPPORTED"))},function Yn(u,f){ci(u,null,f,void 0)}(Ci(gi(Ur,{onload:Nf})),function(){f(Error("CORS_UNSUPPORTED"))}))}(V,ve)})),u=Ge(u.s,u)),u(f,v,w,C,k,N)}wn.prototype.T=function(){return this.b},wn.prototype.u=function(u,f,v,w,C,k){if(wi()&&(typeof $.fetch>"u"||typeof $.Headers>"u"||typeof $.Request>"u"))throw new Q("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var N=new kl(this.f);if(k){N.g=Math.max(0,k);var V=setTimeout(function(){N.dispatchEvent("timeout")},k)}kp(N,"complete",function(){V&&clearTimeout(V);var ve=null;try{ve=JSON.parse(function Ol(u){try{return u.a?u.a.responseText:""}catch(f){return To(u.b,"Can not get responseText: "+f.message),""}}(this))||null}catch{ve=null}f&&f(ve)}),lr(N,"ready",function(){V&&clearTimeout(V),ni(this)}),lr(N,"timeout",function(){V&&clearTimeout(V),ni(this),f&&f(null)}),function mc(u,f,v,w,C){if(u.a)throw Error("[goog.net.XhrIo] Object is active with another request="+u.l+"; newUri="+f);v=v?v.toUpperCase():"GET",u.l=f,u.h="",u.P=v,u.J=!1,u.c=!0,u.a=u.D?u.D.a():zo.a(),u.C=function pc(u){return u.c||(u.c=u.b())}(u.D?u.D:zo),u.a.onreadystatechange=Ge(u.Wb,u);try{To(u.b,Di(u,"Opening Xhr")),u.N=!0,u.a.open(v,String(f),!0),u.N=!1}catch(N){return To(u.b,Di(u,"Error opening Xhr: "+N.message)),void Hs(u,N)}f=w||"";var k=new nu(u.headers);C&&function Np(u,f){if(u.forEach&&"function"==typeof u.forEach)u.forEach(f,void 0);else if(Ot(u)||"string"==typeof u)gt(u,f,void 0);else for(var v=dg(u),w=Vo(u),C=w.length,k=0;k<C;k++)f.call(void 0,w[k],v&&v[k],u)}(C,function(N,V){k.set(V,N)}),C=function Kn(u){e:{for(var f=Ia,v=u.length,w="string"==typeof u?u.split(""):u,C=0;C<v;C++)if(C in w&&f.call(void 0,w[C],C,u)){f=C;break e}f=-1}return 0>f?null:"string"==typeof u?u.charAt(f):u[f]}(k.Y()),w=$.FormData&&f instanceof $.FormData,!nn(Xd,v)||C||w||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),k.forEach(function(N,V){this.a.setRequestHeader(V,N)},u),u.m&&(u.a.responseType=u.m),"withCredentials"in u.a&&u.a.withCredentials!==u.S&&(u.a.withCredentials=u.S);try{kf(u),0<u.g&&(u.u=function Gv(u){return Lo&&af(9)&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(u.a),To(u.b,Di(u,"Will abort after "+u.g+"ms if incomplete, xhr2 "+u.u)),u.u?(u.a.timeout=u.g,u.a.ontimeout=Ge(u.Ma,u)):u.s=Op(u.Ma,u.g,u)),To(u.b,Di(u,"Sending request")),u.i=!0,u.a.send(f),u.i=!1}catch(N){To(u.b,Di(u,"Send error: "+N.message)),Hs(u,N)}}(N,u,v,w,C)};var Ur=new Ae(cn,"https://apis.google.com/js/client.js?onload=%{onload}"),Nf="__fcb"+Math.floor(1e6*Math.random()).toString();function xa(u){if("string"!=typeof(u=u.email)||!vf.test(u))throw new Q("invalid-email")}function Ii(u){"email"in u&&xa(u)}function xr(u){if(!u[Ao])throw u.mfaPendingCredential?new Q("multi-factor-auth-required",null,q(u)):new Q("internal-error")}function yc(u){if(u.phoneNumber||u.temporaryProof){if(!u.phoneNumber||!u.temporaryProof)throw new Q("internal-error")}else{if(!u.sessionInfo)throw new Q("missing-verification-id");if(!u.code)throw new Q("missing-verification-code")}}wn.prototype.s=function(u,f,v,w,C){var k=this;Se.then(function(){window.gapi.client.setApiKey(k.c);var N=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:u,method:v,body:w,headers:C,authType:"none",callback:function(V){window.gapi.auth.setToken(N),f&&f(V)}})}).o(function(N){f&&f({error:{message:N&&N.message||"CORS_UNSUPPORTED"}})})},wn.prototype.Ab=function(){return jt(this,Vl,{})},wn.prototype.Cb=function(u,f){return jt(this,Yr,{idToken:u,email:f})},wn.prototype.Db=function(u,f){return jt(this,ah,{idToken:u,password:f})};var Cu={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ma(u){if(!u.phoneVerificationInfo)throw new Q("internal-error");if(!u.phoneVerificationInfo.sessionInfo)throw new Q("missing-verification-id");if(!u.phoneVerificationInfo.code)throw new Q("missing-verification-code")}function Ll(u){if(!u.requestUri||!u.sessionId&&!u.postBody&&!u.pendingToken)throw new Q("internal-error")}function _c(u,f){return f.oauthIdToken&&f.providerId&&0==f.providerId.indexOf("oidc.")&&!f.pendingToken&&(u.sessionId?f.nonce=u.sessionId:u.postBody&&gf(u=new br(u.postBody),"nonce")&&(f.nonce=u.get("nonce"))),f}function em(u){var f=null;if(u.needConfirmation?(u.code="account-exists-with-different-credential",f=Gi(u)):"FEDERATED_USER_ID_ALREADY_LINKED"==u.errorMessage?(u.code="credential-already-in-use",f=Gi(u)):"EMAIL_EXISTS"==u.errorMessage?(u.code="email-already-in-use",f=Gi(u)):u.errorMessage&&(f=cm(u.errorMessage)),f)throw f;xr(u)}function tm(u,f){return f.returnIdpCredential=!0,jt(u,Ec,f)}function nm(u,f){return f.returnIdpCredential=!0,jt(u,Jv,f)}function rm(u,f){return f.returnIdpCredential=!0,f.autoCreate=!1,jt(u,Ff,f)}function vs(u){if(!u.oobCode)throw new Q("invalid-action-code")}(S=wn.prototype).Eb=function(u,f){var v={idToken:u},w=[];return Po(Cu,function(C,k){var N=f[k];null===N?w.push(C):k in f&&(v[k]=N)}),w.length&&(v.deleteAttribute=w),jt(this,Yr,v)},S.wb=function(u,f){return oe(u={requestType:"PASSWORD_RESET",email:u},f),jt(this,sh,u)},S.xb=function(u,f){return oe(u={requestType:"EMAIL_SIGNIN",email:u},f),jt(this,Ro,u)},S.vb=function(u,f){return oe(u={requestType:"VERIFY_EMAIL",idToken:u},f),jt(this,wc,u)},S.Fb=function(u,f,v){return oe(u={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:u,newEmail:f},v),jt(this,oh,u)},S.gb=function(u){return jt(this,ey,u)},S.ob=function(u,f){return jt(this,Qv,{oobCode:u,newPassword:f})},S.Sa=function(u){return jt(this,im,{oobCode:u})},S.kb=function(u){return jt(this,Zv,{oobCode:u})};var Zv={endpoint:"setAccountInfo",A:vs,Z:"email",B:!0},im={endpoint:"resetPassword",A:vs,G:function(u){var f=u.requestType;if(!f||!u.email&&"EMAIL_SIGNIN"!=f&&"VERIFY_AND_CHANGE_EMAIL"!=f)throw new Q("internal-error")},B:!0},x_={endpoint:"signupNewUser",A:function(u){if(xa(u),!u.password)throw new Q("weak-password")},G:xr,V:!0,B:!0},Su={endpoint:"createAuthUri",B:!0},bc={endpoint:"deleteAccount",O:["idToken"]},jl={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(u){if(!Array.isArray(u.deleteProvider))throw new Q("internal-error")}},Hr={endpoint:"emailLinkSignin",O:["email","oobCode"],A:xa,G:xr,V:!0,B:!0},Pf={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:xa,G:xr,V:!0},ih={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Ma,G:xr,B:!0,Na:!0},Bl={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Ma,G:xr,B:!0,Na:!0},Mo={endpoint:"getAccountInfo"},Ro={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(u){if("EMAIL_SIGNIN"!=u.requestType)throw new Q("internal-error");xa(u)},Z:"email",B:!0},wc={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(u){if("VERIFY_EMAIL"!=u.requestType)throw new Q("internal-error")},Z:"email",B:!0},oh={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(u){if("VERIFY_AND_CHANGE_EMAIL"!=u.requestType)throw new Q("internal-error")},Z:"email",B:!0},sh={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(u){if("PASSWORD_RESET"!=u.requestType)throw new Q("internal-error");xa(u)},Z:"email",B:!0},Xv={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},A_={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(u){if(!u.recaptchaSiteKey)throw new Q("internal-error")}},Qv={endpoint:"resetPassword",A:vs,Z:"email",B:!0},om={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Yr={endpoint:"setAccountInfo",O:["idToken"],A:Ii,V:!0},ah={endpoint:"setAccountInfo",O:["idToken"],A:function(u){if(Ii(u),!u.password)throw new Q("weak-password")},G:xr,V:!0},Vl={endpoint:"signupNewUser",G:xr,V:!0,B:!0},M_={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(u){if(!u.phoneEnrollmentInfo)throw new Q("internal-error");if(!u.phoneEnrollmentInfo.phoneNumber)throw new Q("missing-phone-number");if(!u.phoneEnrollmentInfo.recaptchaToken)throw new Q("missing-app-credential")},G:function(u){if(!u.phoneSessionInfo||!u.phoneSessionInfo.sessionInfo)throw new Q("internal-error")},B:!0,Na:!0},sm={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(u){if(!u.phoneSignInInfo||!u.phoneSignInInfo.recaptchaToken)throw new Q("missing-app-credential")},G:function(u){if(!u.phoneResponseInfo||!u.phoneResponseInfo.sessionInfo)throw new Q("internal-error")},B:!0,Na:!0},Ec={endpoint:"verifyAssertion",A:Ll,Za:_c,G:em,V:!0,B:!0},Ff={endpoint:"verifyAssertion",A:Ll,Za:_c,G:function(u){if(u.errorMessage&&"USER_NOT_FOUND"==u.errorMessage)throw new Q("user-not-found");if(u.errorMessage)throw cm(u.errorMessage);xr(u)},V:!0,B:!0},Jv={endpoint:"verifyAssertion",A:function(u){if(Ll(u),!u.idToken)throw new Q("internal-error")},Za:_c,G:em,V:!0},Eg={endpoint:"verifyCustomToken",A:function(u){if(!u.token)throw new Q("invalid-custom-token")},G:xr,V:!0,B:!0},Lf={endpoint:"verifyPassword",A:function(u){if(xa(u),!u.password)throw new Q("wrong-password")},G:xr,V:!0,B:!0},ey={endpoint:"verifyPhoneNumber",A:yc,G:xr,B:!0},Tu={endpoint:"verifyPhoneNumber",A:function(u){if(!u.idToken)throw new Q("internal-error");yc(u)},G:function(u){if(u.temporaryProof)throw u.code="credential-already-in-use",Gi(u);xr(u)}},xu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:yc,G:xr,B:!0},am={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(u){if(!!u[Ao]^!!u.refreshToken)throw new Q("internal-error")},B:!0,Na:!0};function jt(u,f,v){if(!function yf(u,f){if(!f||!f.length)return!0;if(!u)return!1;for(var v=0;v<f.length;v++){var w=u[f[v]];if(null==w||""===w)return!1}return!0}(v,f.O))return ut(new Q("internal-error"));var k,w=!!f.Na,C=f.Vb||"POST";return et(v).then(f.A).then(function(){return f.V&&(v.returnSecureToken=!0),f.B&&u.b&&typeof v.tenantId>"u"&&(v.tenantId=u.b),function Du(u,f,v,w,C,k,N){var V=yi(f+v);nr(V,"key",u.c),N&&nr(V,"cb",Date.now().toString());var ve="GET"==w;if(ve)for(var c in C)C.hasOwnProperty(c)&&nr(V,c,C[c]);return new At(function(s,l){Pl(u,V.toString(),function(h){h?h.error?l(Au(h,k||{})):s(h):l(new Q("network-request-failed"))},w,ve?void 0:Wn(Rd(C)),u.a,u.v.get())})}(u,w?u.i:u.h,f.endpoint,C,v,f.Ib,f.mb||!1)}).then(function(N){return k=N,f.Za?f.Za(v,k):k}).then(f.G).then(function(){if(!f.Z)return k;if(!(f.Z in k))throw new Q("internal-error");return k[f.Z]})}function cm(u){return Au({error:{errors:[{message:u}],code:400,message:u}})}function Au(u,f){var v=(u.error&&u.error.errors&&u.error.errors[0]||{}).reason||"",w={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(v=w[v]?new Q(w[v]):null)return v;for(var C in v=u.error&&u.error.message||"",oe(w={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},f||{}),f=(f=v.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<f.length?f[1]:void 0,w)if(0===v.indexOf(C))return new Q(w[C],f);return!f&&u&&(f=Er(u)),new Q("internal-error",f)}function Dg(u){this.b=u,this.a=null,this.sb=function Cg(u){return function uh(){return Gs||(Gs=new At(function(u,f){function v(){Uo(),Xe("gapi.load")("gapi.iframes",{callback:u,ontimeout:function(){Uo(),f(Error("Network Error"))},timeout:Sg.get()})}if(Xe("gapi.iframes.Iframe"))u();else if(Xe("gapi.load"))v();else{var w="__iframefcb"+Math.floor(1e6*Math.random()).toString();$[w]=function(){Xe("gapi.load")?v():f(Error("Network Error"))},et(Ci(w=gi(Ig,{onload:w}))).o(function(){f(Error("Network Error"))})}}).o(function(u){throw Gs=null,u}))}().then(function(){return new At(function(f,v){Xe("gapi.iframes.getContext")().open({where:document.body,url:u.b,messageHandlersFilter:Xe("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(w){function C(){clearTimeout(k),f()}u.a=w,u.a.restyle({setHideOnLeave:!1});var k=setTimeout(function(){v(Error("Network Error"))},ty.get());w.ping(C).then(C,function(){v(Error("Network Error"))})})})})}(this)}var Ig=new Ae(cn,"https://apis.google.com/js/api.js?onload=%{onload}"),Sg=new Do(3e4,6e4),ty=new Do(5e3,15e3),Gs=null;function Mu(u,f,v,w){this.l=u,this.h=f,this.i=v,this.g=w,this.f=null,u=this.g?Ln((u=yi(this.g.url)).c,u.a,u.g,"/emulator/auth/iframe"):Ln("https",this.l,null,"/__/auth/iframe"),this.a=u,nr(this.a,"apiKey",this.h),nr(this.a,"appName",this.i),this.b=null,this.c=[]}function Ru(u,f,v,w,C,k){this.u=u,this.s=f,this.c=v,this.m=w,this.v=k,this.i=this.g=this.l=null,this.a=C,this.h=this.f=null}function ku(u){try{return be.Z.app(u).auth().Ga()}catch{return[]}}function um(u,f,v,w,C,k){this.s=u,this.g=f,this.b=v,this.f=k,this.c=w||null,this.i=C||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Tg(u){var f=ls();return function Qp(u){return jt(u,Xv,{}).then(function(f){return f.authorizedDomains||[]})}(u).then(function(v){e:{var w=yi(f),C=w.c;w=w.a;for(var k=0;k<v.length;k++){var N=v[k],V=w,ve=C;if(0==N.indexOf("chrome-extension://")?V=yi(N).a==V&&"chrome-extension"==ve:"http"!=ve&&"https"!=ve?V=!1:va.test(N)?V=V==N:(N=N.split(".").join("\\."),V=new RegExp("^(.+\\."+N+"|"+N+")$","i").test(V)),V){v=!0;break e}}v=!1}if(!v)throw new Il(ls())})}function xg(u){return u.m||(u.m=_i().then(function(){if(!u.u){var f=u.c,v=u.i,w=ku(u.b),C=new Mu(u.s,u.g,u.b,u.f);C.f=f,C.b=v,C.c=On(w||[]),u.u=C.toString()}u.v=new Dg(u.u),function Bf(u){if(!u.v)throw Error("IfcHandler must be initialized!");!function ch(u,f){u.sb.then(function(){u.a.register("authEvent",f,Xe("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(u.v,function(f){var v={};if(f&&f.authEvent){var w=!1;for(f=Tf(f.authEvent),v=0;v<u.h.length;v++)w=u.h[v](f)||w;return(v={}).status=w?"ACK":"ERROR",et(v)}return v.status="ERROR",et(v)})}(u)})),u.m}function Ag(u){return u.l||(u.C=u.c?Ls(u.c,ku(u.b)):null,u.l=new wn(u.g,Jr(u.i),u.C),u.f&&gs(u.l,u.f)),u.l}function lh(u,f,v,w,C,k,N,V,ve,c,s,l){return(u=new Ru(u,f,v,w,C,l)).l=k,u.g=N,u.i=V,u.b=q(ve||null),u.f=c,u.zb(s).toString()}function Zr(u){if(this.a=u||be.Z.INTERNAL.reactNative&&be.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Q("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function lm(u){this.b=u,this.a={},this.f=Ge(this.c,this)}Mu.prototype.toString=function(){return this.f?nr(this.a,"v",this.f):ao(this.a.b,"v"),this.b?nr(this.a,"eid",this.b):ao(this.a.b,"eid"),this.c.length?nr(this.a,"fw",this.c.join(",")):ao(this.a.b,"fw"),this.a.toString()},Ru.prototype.zb=function(u){return this.h=u,this},Ru.prototype.toString=function(){if(this.v){var u=yi(this.v.url);u=Ln(u.c,u.a,u.g,"/emulator/auth/handler")}else u=Ln("https",this.u,null,"/__/auth/handler");if(nr(u,"apiKey",this.s),nr(u,"appName",this.c),nr(u,"authType",this.m),this.a.isOAuthProvider){var f=this.a;try{var v=be.Z.app(this.c).auth().la()}catch{v=null}for(var w in f.pb=v,nr(u,"providerId",this.a.providerId),f=Rd((v=this.a).Jb))f[w]=f[w].toString();w=v.Qc,f=q(f);for(var C=0;C<w.length;C++){var k=w[C];k in f&&delete f[k]}v.qb&&v.pb&&!f[v.qb]&&(f[v.qb]=v.pb),G(f)||nr(u,"customParameters",Er(f))}if("function"==typeof this.a.Rb&&(v=this.a.Rb()).length&&nr(u,"scopes",v.join(",")),this.l?nr(u,"redirectUrl",this.l):ao(u.b,"redirectUrl"),this.g?nr(u,"eventId",this.g):ao(u.b,"eventId"),this.i?nr(u,"v",this.i):ao(u.b,"v"),this.b)for(var N in this.b)this.b.hasOwnProperty(N)&&!so(u,N)&&nr(u,N,this.b[N]);return this.h?nr(u,"tid",this.h):ao(u.b,"tid"),this.f?nr(u,"eid",this.f):ao(u.b,"eid"),(N=ku(this.c)).length&&nr(u,"fw",N.join(",")),u.toString()},(S=um.prototype).Pb=function(u,f,v){var w=new Q("popup-closed-by-user"),C=new Q("web-storage-unsupported"),k=this,N=!1;return this.ma().then(function(){(function Vf(u){var f={type:"webStorageSupport"};return xg(u).then(function(){return function jf(u,f){return u.sb.then(function(){return new At(function(v){u.a.send(f.type,f,v,Xe("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(u.v,f)}).then(function(v){if(v&&v.length&&typeof v[0].webStorageSupport<"u")return v[0].webStorageSupport;throw Error()})})(k).then(function(V){V||(u&&Tn(u),f(C),N=!0)})}).o(function(){}).then(function(){if(!N)return function au(u){return new At(function(f){return function v(){ll(2e3).then(function(){if(u&&!u.closed)return v();f()})}()})}(u)}).then(function(){if(!N)return ll(v).then(function(){f(w)})})},S.Yb=function(){var u=ln();return!ya(u)&&!zv(u)},S.Ub=function(){return!1},S.Nb=function(u,f,v,w,C,k,N,V){if(!u)return ut(new Q("popup-blocked"));if(N&&!ya())return this.ma().o(function(c){Tn(u),C(c)}),w(),et();this.a||(this.a=Tg(Ag(this)));var ve=this;return this.a.then(function(){var c=ve.ma().o(function(s){throw Tn(u),C(s),s});return w(),c}).then(function(){vu(v),N||bt(lh(ve.s,ve.g,ve.b,f,v,null,k,ve.c,void 0,ve.i,V,ve.f),u)}).o(function(c){throw"auth/network-request-failed"==c.code&&(ve.a=null),c})},S.Ob=function(u,f,v,w){this.a||(this.a=Tg(Ag(this)));var C=this;return this.a.then(function(){vu(f),bt(lh(C.s,C.g,C.b,u,f,ls(),v,C.c,void 0,C.i,w,C.f))}).o(function(k){throw"auth/network-request-failed"==k.code&&(C.a=null),k})},S.ma=function(){var u=this;return xg(this).then(function(){return u.v.sb}).o(function(){throw u.a=null,new Q("network-request-failed")})},S.ac=function(){return!0},S.Ea=function(u){this.h.push(u)},S.Ta=function(u){kn(this.h,function(f){return f==u})},(S=Zr.prototype).get=function(u){return et(this.a.getItem(u)).then(function(f){return f&&uu(f)})},S.set=function(u,f){return et(this.a.setItem(u,Er(f)))},S.U=function(u){return et(this.a.removeItem(u))},S.ca=function(){},S.ia=function(){};var Ul,ny=[];function ry(u,f,v){G(u.a)&&u.b.addEventListener("message",u.f),typeof u.a[f]>"u"&&(u.a[f]=[]),u.a[f].push(v)}function Rg(u){this.a=u}function kg(u){this.c=u,this.b=!1,this.a=[]}function Uf(u,f,v,w){var C,N,V,ve,k=v||{},c=null;if(u.b)return ut(Error("connection_unavailable"));var s=w?800:50,l=typeof MessageChannel<"u"?new MessageChannel:null;return new At(function(h,m){l?(C=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),V=setTimeout(function(){m(Error("unsupported_event"))},s),u.a.push(c={messageChannel:l,onMessage:N=function(y){y.data.eventId===C&&("ack"===y.data.status?(clearTimeout(V),ve=setTimeout(function(){m(Error("timeout"))},3e3)):"done"===y.data.status?(clearTimeout(ve),typeof y.data.response<"u"?h(y.data.response):m(Error("unknown_error"))):(clearTimeout(V),clearTimeout(ve),m(Error("invalid_response"))))}}),l.port1.addEventListener("message",N),u.c.postMessage({eventType:f,eventId:C,data:k},[l.port2])):m(Error("connection_unavailable"))}).then(function(h){return li(u,c),h}).o(function(h){throw li(u,c),h})}function li(u,f){if(f){var v=f.messageChannel;v&&(v.port1.removeEventListener("message",f.onMessage),v.port1.close()),kn(u.a,function(C){return C==f})}}function Og(){if(!Fg())throw new Q("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=$.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var u=this;wi()&&self?(this.v=function Mg(){var u=wi()?self:null;if(gt(ny,function(v){v.b==u&&(f=v)}),!f){var f=new lm(u);ny.push(f)}return f}(),ry(this.v,"keyChanged",function(f,v){return $f(u).then(function(w){return 0<w.length&&gt(u.a,function(C){C(w)}),{keyProcessed:nn(w,v.key)}})}),ry(this.v,"ping",function(){return et(["keyChanged"])})):function hg(){var u=$.navigator;return u&&u.serviceWorker?et().then(function(){return u.serviceWorker.ready}).then(function(f){return f.active||null}).o(function(){return null}):et(null)}().then(function(f){(u.h=f)&&(u.g=new kg(new Rg(f)),Uf(u.g,"ping",null,!0).then(function(v){v[0].fulfilled&&nn(v[0].value,"keyChanged")&&(u.s=!0)}).o(function(){}))})}function Pg(u){return new At(function(f,v){var w=u.m.open("firebaseLocalStorageDb",1);w.onerror=function(C){try{C.preventDefault()}catch{}v(Error(C.target.error))},w.onupgradeneeded=function(C){C=C.target.result;try{C.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(k){v(k)}},w.onsuccess=function(C){(C=C.target.result).objectStoreNames.contains("firebaseLocalStorage")?f(C):function Ng(u){return new At(function(f,v){var w=u.m.deleteDatabase("firebaseLocalStorageDb");w.onsuccess=function(){f()},w.onerror=function(C){v(Error(C.target.error))}})}(u).then(function(){return Pg(u)}).then(function(k){f(k)}).o(function(k){v(k)})}})}function Hf(u){return u.i||(u.i=Pg(u)),u.i}function zf(u,f){var w=0;return new At(function v(C,k){Hf(u).then(f).then(C).o(function(N){if(!(3<++w))return Hf(u).then(function(V){return V.close(),u.i=void 0,v(C,k)}).o(function(V){k(V)});k(N)})})}function Fg(){try{return!!$.indexedDB}catch{return!1}}function Ou(u){return u.objectStore("firebaseLocalStorage")}function Ws(u,f){return u.transaction(["firebaseLocalStorage"],f?"readwrite":"readonly")}function Ks(u){return new At(function(f,v){u.onsuccess=function(w){w&&w.target?f(w.target.result):f()},u.onerror=function(w){v(w.target.error)}})}function dm(u,f){return u.g&&u.h&&function kd(){var u=$.navigator;return u&&u.serviceWorker&&u.serviceWorker.controller||null}()===u.h?Uf(u.g,"keyChanged",{key:f},u.s).then(function(){}).o(function(){}):et()}function $f(u){return Hf(u).then(function(f){var v=Ou(Ws(f,!1));return v.getAll?Ks(v.getAll()):new At(function(w,C){var k=[],N=v.openCursor();N.onsuccess=function(V){(V=V.target.result)?(k.push(V.value),V.continue()):w(k)},N.onerror=function(V){C(V.target.error)}})}).then(function(f){var v={},w=[];if(0==u.b){for(w=0;w<f.length;w++)v[f[w].fbase_key]=f[w].value;w=su(u.c,v),u.c=v}return w})}function Nu(u){u.l&&u.l.cancel("STOP_EVENT"),u.f&&(clearTimeout(u.f),u.f=null)}function hm(u){var f=this,v=null;this.a=[],this.type="indexedDB",this.c=u,this.b=et().then(function(){if(Fg()){var w=Kt(),C="__sak"+w;return Ul||(Ul=new Og),(v=Ul).set(C,w).then(function(){return v.get(C)}).then(function(k){if(k!==w)throw Error("indexedDB not supported!");return v.U(C)}).then(function(){return v}).o(function(){return f.c})}return f.c}).then(function(w){return f.type=w.type,w.ca(function(C){gt(f.a,function(k){k(C)})}),w})}function Pu(){this.a={},this.type="inMemory"}function Ys(){if(!function Zs(){var u="Node"==pe();if(!(u=Ra()||u&&be.Z.INTERNAL.node&&be.Z.INTERNAL.node.localStorage))return!1;try{return u.setItem("__sak","1"),u.removeItem("__sak"),!0}catch{return!1}}())throw"Node"==pe()?new Q("internal-error","The LocalStorage compatibility library was not found."):new Q("web-storage-unsupported");this.a=Ra()||be.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Ra(){try{var u=$.localStorage,f=Kt();return u&&(u.setItem(f,"1"),u.removeItem(f)),u}catch{return null}}function qf(){this.type="nullStorage"}function fm(){if(!function Bg(){var u="Node"==pe();if(!(u=jg()||u&&be.Z.INTERNAL.node&&be.Z.INTERNAL.node.sessionStorage))return!1;try{return u.setItem("__sak","1"),u.removeItem("__sak"),!0}catch{return!1}}())throw"Node"==pe()?new Q("internal-error","The SessionStorage compatibility library was not found."):new Q("web-storage-unsupported");this.a=jg()||be.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function jg(){try{var u=$.sessionStorage,f=Kt();return u&&(u.setItem(f,"1"),u.removeItem(f)),u}catch{return null}}function pm(){var u={};u.Browser=dh,u.Node=Hl,u.ReactNative=hh,u.Worker=fh,this.a=u[pe()]}lm.prototype.c=function(u){var f=u.data.eventType,v=u.data.eventId,w=this.a[f];if(w&&0<w.length){u.ports[0].postMessage({status:"ack",eventId:v,eventType:f,response:null});var C=[];gt(w,function(k){C.push(et().then(function(){return k(u.origin,u.data.data)}))}),x(C).then(function(k){var N=[];gt(k,function(V){N.push({fulfilled:V.Qb,value:V.value,reason:V.reason?V.reason.message:void 0})}),gt(N,function(V){for(var ve in V)typeof V[ve]>"u"&&delete V[ve]}),u.ports[0].postMessage({status:"done",eventId:v,eventType:f,response:N})})}},Rg.prototype.postMessage=function(u,f){this.a.postMessage(u,f)},kg.prototype.close=function(){for(;0<this.a.length;)li(this,this.a[0]);this.b=!0},(S=Og.prototype).set=function(u,f){var v=this,w=!1;return zf(this,function(C){return Ks((C=Ou(Ws(C,!0))).get(u))}).then(function(C){return zf(v,function(k){if(k=Ou(Ws(k,!0)),C)return C.value=f,Ks(k.put(C));v.b++,w=!0;var N={};return N.fbase_key=u,N.value=f,Ks(k.add(N))})}).then(function(){return v.c[u]=f,dm(v,u)}).oa(function(){w&&v.b--})},S.get=function(u){return zf(this,function(f){return Ks(Ou(Ws(f,!1)).get(u))}).then(function(f){return f&&f.value})},S.U=function(u){var f=this,v=!1;return zf(this,function(w){return v=!0,f.b++,Ks(Ou(Ws(w,!0)).delete(u))}).then(function(){return delete f.c[u],dm(f,u)}).oa(function(){v&&f.b--})},S.ca=function(u){0==this.a.length&&function Lg(u){Nu(u),function f(){u.f=setTimeout(function(){u.l=$f(u).then(function(v){0<v.length&&gt(u.a,function(w){w(v)})}).then(function(){f()}).o(function(v){"STOP_EVENT"!=v.message&&f()})},800)}()}(this),this.a.push(u)},S.ia=function(u){kn(this.a,function(f){return f==u}),0==this.a.length&&Nu(this)},(S=hm.prototype).get=function(u){return this.b.then(function(f){return f.get(u)})},S.set=function(u,f){return this.b.then(function(v){return v.set(u,f)})},S.U=function(u){return this.b.then(function(f){return f.U(u)})},S.ca=function(u){this.a.push(u)},S.ia=function(u){kn(this.a,function(f){return f==u})},(S=Pu.prototype).get=function(u){return et(this.a[u])},S.set=function(u,f){return this.a[u]=f,et()},S.U=function(u){return delete this.a[u],et()},S.ca=function(){},S.ia=function(){},(S=Ys.prototype).get=function(u){var f=this;return et().then(function(){return uu(f.a.getItem(u))})},S.set=function(u,f){var v=this;return et().then(function(){var w=Er(f);null===w?v.U(u):v.a.setItem(u,w)})},S.U=function(u){var f=this;return et().then(function(){f.a.removeItem(u)})},S.ca=function(u){$.window&&Tt($.window,"storage",u)},S.ia=function(u){$.window&&oo($.window,"storage",u)},(S=qf.prototype).get=function(){return et(null)},S.set=function(){return et()},S.U=function(){return et()},S.ca=function(){},S.ia=function(){},(S=fm.prototype).get=function(u){var f=this;return et().then(function(){return uu(f.a.getItem(u))})},S.set=function(u,f){var v=this;return et().then(function(){var w=Er(f);null===w?v.U(u):v.a.setItem(u,w)})},S.U=function(u){var f=this;return et().then(function(){f.a.removeItem(u)})},S.ca=function(){},S.ia=function(){};var mm,$l,dh={F:Ys,cb:fm},Hl={F:Ys,cb:fm},hh={F:Zr,cb:qf},fh={F:Ys,cb:qf},Dc={rd:"local",NONE:"none",td:"session"};function zl(){var u=!(zv(ln())||!bi()),f=ya(),v=wr();this.m=u,this.h=f,this.l=v,this.a={},mm||(mm=new pm),u=mm;try{this.g=!us()&&Lr()||!$.indexedDB?new u.a.F:new hm(wi()?new Pu:new u.a.F)}catch{this.g=new Pu,this.h=!0}try{this.i=new u.a.cb}catch{this.i=new Pu}this.v=new Pu,this.f=Ge(this.Zb,this),this.b={}}function ho(){return $l||($l=new zl),$l}function rr(u,f){switch(f){case"session":return u.i;case"none":return u.v;default:return u.g}}function Xs(u,f){return"firebase:"+u.name+(f?":"+f:"")}function Fu(u,f,v){return v=Xs(f,v),"local"==f.F&&(u.b[v]=null),rr(u,f.F).U(v)}function ph(u){u.c&&(clearInterval(u.c),u.c=null)}function ql(u){this.a=u,this.b=ho()}(S=zl.prototype).get=function(u,f){return rr(this,u.F).get(Xs(u,f))},S.set=function(u,f,v){var w=Xs(u,v),C=this,k=rr(this,u.F);return k.set(w,f).then(function(){return k.get(w)}).then(function(N){"local"==u.F&&(C.b[w]=N)})},S.addListener=function(u,f,v){u=Xs(u,f),this.l&&(this.b[u]=$.localStorage.getItem(u)),G(this.a)&&(rr(this,"local").ca(this.f),this.h||(us()||!Lr())&&$.indexedDB||!this.l||function Gf(u){ph(u),u.c=setInterval(function(){for(var f in u.a){var v=$.localStorage.getItem(f),w=u.b[f];v!=w&&(u.b[f]=v,v=new _r({type:"storage",key:f,target:window,oldValue:w,newValue:v,a:!0}),u.Zb(v))}},1e3)}(this)),this.a[u]||(this.a[u]=[]),this.a[u].push(v)},S.removeListener=function(u,f,v){u=Xs(u,f),this.a[u]&&(kn(this.a[u],function(w){return w==v}),0==this.a[u].length&&delete this.a[u]),G(this.a)&&(rr(this,"local").ia(this.f),ph(this))},S.Zb=function(u){if(u&&u.g){var f=u.a.key;if(null==f)for(var v in this.a){var w=this.b[v];typeof w>"u"&&(w=null);var C=$.localStorage.getItem(v);C!==w&&(this.b[v]=C,this.nb(v))}else if(0==f.indexOf("firebase:")&&this.a[f]){if(typeof u.a.a<"u"?rr(this,"local").ia(this.f):ph(this),this.m)if(v=$.localStorage.getItem(f),(w=u.a.newValue)!==v)null!==w?$.localStorage.setItem(f,w):$.localStorage.removeItem(f);else if(this.b[f]===w&&typeof u.a.a>"u")return;var k=this;v=function(){(typeof u.a.a<"u"||k.b[f]!==$.localStorage.getItem(f))&&(k.b[f]=$.localStorage.getItem(f),k.nb(f))},Lo&&wo&&10==wo&&$.localStorage.getItem(f)!==u.a.newValue&&u.a.newValue!==u.a.oldValue?setTimeout(v,10):v()}}else gt(u,Ge(this.nb,this))},S.nb=function(u){this.a[u]&&gt(this.a[u],function(f){f()})};var Gl,mh={name:"authEvent",F:"local"};function Hg(){this.a=ho()}function Wf(u,f){this.b=Wl,this.f=$.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=u,this.h=f,this.l=$.Int32Array?new Int32Array(64):Array(64),void 0===Gl&&(Gl=$.Int32Array?new Int32Array(Yl):Yl),this.reset()}st(Wf,function iy(){this.b=-1});for(var Wl=64,Kl=Wl-1,ko=[],gm=0;gm<Kl;gm++)ko[gm]=0;var Lu=an(128,ko);function gh(u){for(var f=u.f,v=u.l,w=0,C=0;C<f.length;)v[w++]=f[C]<<24|f[C+1]<<16|f[C+2]<<8|f[C+3],C=4*w;for(f=16;64>f;f++){var k=(0|v[f-16])+(((C=0|v[f-15])>>>7|C<<25)^(C>>>18|C<<14)^C>>>3)|0,N=(0|v[f-7])+(((w=0|v[f-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10)|0;v[f]=k+N|0}w=0|u.a[0],C=0|u.a[1];var V=0|u.a[2],ve=0|u.a[3],c=0|u.a[4],s=0|u.a[5],l=0|u.a[6];for(k=0|u.a[7],f=0;64>f;f++){var h=((w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10))+(w&C^w&V^C&V)|0;N=(k=k+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((N=(N=c&s^~c&l)+(0|Gl[f])|0)+(0|v[f])|0)|0,k=l,l=s,s=c,c=ve+N|0,ve=V,V=C,C=w,w=N+h|0}u.a[0]=u.a[0]+w|0,u.a[1]=u.a[1]+C|0,u.a[2]=u.a[2]+V|0,u.a[3]=u.a[3]+ve|0,u.a[4]=u.a[4]+c|0,u.a[5]=u.a[5]+s|0,u.a[6]=u.a[6]+l|0,u.a[7]=u.a[7]+k|0}function vh(u,f,v){void 0===v&&(v=f.length);var w=0,C=u.c;if("string"==typeof f)for(;w<v;)u.f[C++]=f.charCodeAt(w++),C==u.b&&(gh(u),C=0);else{if(!Ot(f))throw Error("message must be string or array");for(;w<v;){var k=f[w++];if(!("number"==typeof k&&0<=k&&255>=k&&k==(0|k)))throw Error("message must be a byte array");u.f[C++]=k,C==u.b&&(gh(u),C=0)}}u.c=C,u.g+=v}Wf.prototype.reset=function(){this.g=this.c=0,this.a=$.Int32Array?new Int32Array(this.h):On(this.h)};var Yl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ju(){Wf.call(this,8,Kf)}st(ju,Wf);var Kf=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function yh(u,f,v,w,C,k){this.v=u,this.i=f,this.l=v,this.m=w||null,this.u=C||null,this.s=k,this.h=f+":"+v,this.C=new Hg,this.g=new ql(this.h),this.f=null,this.b=[],this.a=this.c=null}function Cc(u){return new Q("invalid-cordova-configuration",u)}function Zf(u,f){for(var v=0;v<u.b.length;v++)try{u.b[v](f)}catch{}}function zg(u){return u.f||(u.f=u.ma().then(function(){return new At(function(f){u.Ea(function v(w){return f(w),u.Ta(v),!1}),function sy(u){function f(N){w=!0,C&&C.cancel(),Xf(u).then(function(V){var ve=v;if(V&&N&&N.url){var c=null;-1!=(ve=jr(N.url)).indexOf("/__/auth/callback")&&(c=(c="object"==typeof(c=uu(so(c=yi(ve),"firebaseError")||null))?Mr(c):null)?new Sr(V.c,V.b,null,null,c,null,V.T()):new Sr(V.c,V.b,ve,V.f,null,null,V.T())),ve=c||v}Zf(u,ve)})}var v=new Sr("unknown",null,null,null,new Q("no-auth-event")),w=!1,C=ll(500).then(function(){return Xf(u).then(function(){w||Zf(u,v)})}),k=$.handleOpenURL;$.handleOpenURL=function(N){if(0==N.toLowerCase().indexOf(Xe("BuildInfo.packageName",$).toLowerCase()+"://")&&f({url:N}),"function"==typeof k)try{k(N)}catch(V){console.error(V)}},$p||($p=new yn),function qp(u){var f=$p;f.a.push(u),f.b||(f.b=function(v){for(var w=0;w<f.a.length;w++)f.a[w](v)},"function"==typeof(u=Xe("universalLinks.subscribe",$))&&u(null,f.b))}(f)}(u)})})),u.f}function Xf(u){var f=null;return function Ug(u){return u.b.get(mh,u.a).then(function(f){return Tf(f)})}(u.g).then(function(v){return f=v,Fu((v=u.g).b,mh,v.a)}).then(function(){return f})}function ym(u){this.a=u,this.b=ho()}(S=yh.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=function ue(){return we(void 0)?_i().then(function(){return new At(function(u,f){var v=$.document,w=setTimeout(function(){f(Error("Cordova framework is not ready."))},1e3);v.addEventListener("deviceready",function(){clearTimeout(w),u()},!1)})}):ut(Error("Cordova must run in an Android or iOS file scheme."))}().then(function(){if("function"!=typeof Xe("universalLinks.subscribe",$))throw Cc("cordova-universal-links-plugin-fix is not installed");if(typeof Xe("BuildInfo.packageName",$)>"u")throw Cc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Xe("cordova.plugins.browsertab.openUrl",$))throw Cc("cordova-plugin-browsertab is not installed");if("function"!=typeof Xe("cordova.InAppBrowser.open",$))throw Cc("cordova-plugin-inappbrowser is not installed")},function(){throw new Q("cordova-not-ready")})},S.Pb=function(u,f){return f(new Q("operation-not-supported-in-this-environment")),et()},S.Nb=function(){return ut(new Q("operation-not-supported-in-this-environment"))},S.ac=function(){return!1},S.Yb=function(){return!0},S.Ub=function(){return!0},S.Ob=function(u,f,v,w){if(this.c)return ut(new Q("redirect-operation-pending"));var C=this,k=$.document,N=null,V=null,ve=null,c=null;return this.c=et().then(function(){return vu(f),zg(C)}).then(function(){return function vm(u,f,v,w,C){var k=function Yf(){for(var u=20,f=[];0<u;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),u--;return f.join("")}(),N=new Sr(f,w,null,k,new Q("no-auth-event"),null,C),V=Xe("BuildInfo.packageName",$);if("string"!=typeof V)throw new Q("invalid-cordova-configuration");var ve=Xe("BuildInfo.displayName",$),c={};if(ln().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=V;else{if(!ln().toLowerCase().match(/android/))return ut(new Q("operation-not-supported-in-this-environment"));c.apn=V}ve&&(c.appDisplayName=ve),k=function oy(u){var f=new ju;vh(f,u),u=[];var v=8*f.g;vh(f,Lu,56>f.c?56-f.c:f.b-(f.c-56));for(var w=63;56<=w;w--)f.f[w]=255&v,v/=256;for(gh(f),w=v=0;w<f.i;w++)for(var C=24;0<=C;C-=8)u[v++]=f.a[w]>>C&255;return function hu(u){return Et(u,function(f){return 1<(f=f.toString(16)).length?f:"0"+f}).join("")}(u)}(k),c.sessionId=k;var s=lh(u.v,u.i,u.l,f,v,null,w,u.m,c,u.u,C,u.s);return u.ma().then(function(){var l=u.h;return u.C.a.set(mh,N.w(),l)}).then(function(){var l=Xe("cordova.plugins.browsertab.isAvailable",$);if("function"!=typeof l)throw new Q("invalid-cordova-configuration");var h=null;l(function(m){if(m){if("function"!=typeof(h=Xe("cordova.plugins.browsertab.openUrl",$)))throw new Q("invalid-cordova-configuration");h(s)}else{if("function"!=typeof(h=Xe("cordova.InAppBrowser.open",$)))throw new Q("invalid-cordova-configuration");m=ln(),u.a=h(s,m.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||m.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(C,u,f,v,w)}).then(function(){return new At(function(s,l){V=function(){var h=Xe("cordova.plugins.browsertab.close",$);return s(),"function"==typeof h&&h(),C.a&&"function"==typeof C.a.close&&(C.a.close(),C.a=null),!1},C.Ea(V),c=function(){ki()&&ve()},k.addEventListener("resume",ve=function(){N||(N=ll(2e3).then(function(){l(new Q("redirect-cancelled-by-user"))}))},!1),ln().toLowerCase().match(/android/)||k.addEventListener("visibilitychange",c,!1)}).o(function(s){return Xf(C).then(function(){throw s})})}).oa(function(){ve&&k.removeEventListener("resume",ve,!1),c&&k.removeEventListener("visibilitychange",c,!1),N&&N.cancel(),V&&C.Ta(V),C.c=null})},S.Ea=function(u){this.b.push(u),zg(this).o(function(f){"auth/invalid-cordova-configuration"===f.code&&(f=new Sr("unknown",null,null,null,new Q("no-auth-event")),u(f))})},S.Ta=function(u){kn(this.b,function(f){return f==u})};var Bu={name:"pendingRedirect",F:"session"};function Zl(u){return Fu(u.b,Bu,u.a)}function Jf(u,f,v,w){this.i={},this.u=0,this.D=u,this.v=f,this.m=v,this.J=w,this.h=[],this.f=!1,this.l=Ge(this.s,this),this.b=new Ic,this.C=new qg,this.g=new ym(Ql(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=ep(this.D,this.v,this.m,Gn,this.J)}function ep(u,f,v,w,C){var k=be.Z.SDK_VERSION||null;return we()?new yh(u,f,v,k,w,C):new um(u,f,v,k,w,C)}function _m(u){u.f||(u.f=!0,u.a.Ea(u.l));var f=u.a;return u.a.ma().o(function(v){throw u.a==f&&u.reset(),v})}function Qs(u){u.a.Yb()&&_m(u).o(function(f){var v=new Sr("unknown",null,null,null,new Q("operation-not-supported-in-this-environment"));bm(f)&&u.s(v)}),u.a.Ub()||Sc(u.b)}function _h(u,f){nn(u.h,f)||u.h.push(f),u.f||function ay(u){return u.b.get(Bu,u.a).then(function(f){return"pending"==f})}(u.g).then(function(v){v?Zl(u.g).then(function(){_m(u).o(function(w){var C=new Sr("unknown",null,null,null,new Q("operation-not-supported-in-this-environment"));bm(w)&&u.s(C)})}):Qs(u)}).o(function(){Qs(u)})}function tp(u,f){kn(u.h,function(v){return v==f})}Jf.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=ep(this.D,this.v,this.m,null,this.J),this.i={}},Jf.prototype.s=function(u){if(!u)throw new Q("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),u&&u.getUid()&&this.i.hasOwnProperty(u.getUid()))return!1;for(var f=!1,v=0;v<this.h.length;v++){var w=this.h[v];if(w.Gb(u.c,u.b)){(f=this.c[u.c])&&(f.h(u,w),u&&(u.f||u.b)&&(this.i[u.getUid()]=!0,this.u=Date.now())),f=!0;break}}return Sc(this.b),f};var $g=new Do(2e3,1e4),cy=new Do(3e4,6e4);function bh(u,f,v,w,C,k,N){return u.a.Nb(f,v,w,function(){u.f||(u.f=!0,u.a.Ea(u.l))},function(){u.reset()},C,k,N)}function bm(u){return!(!u||"auth/cordova-not-ready"!=u.code)}function wm(u,f,v,w,C){var k;return function Qf(u){return u.b.set(Bu,"pending",u.a)}(u.g).then(function(){return u.a.Ob(f,v,w,C).o(function(N){if(bm(N))throw new Q("operation-not-supported-in-this-environment");return k=N,Zl(u.g).then(function(){throw k})}).then(function(){return u.a.ac()?new At(function(){}):Zl(u.g).then(function(){return u.ra()}).then(function(){}).o(function(){})})})}function Em(u,f,v,w,C){return u.a.Pb(w,function(k){f.na(v,null,k,C)},$g.get())}Jf.prototype.ra=function(){return this.b.ra()};var Xl={};function Ql(u,f,v){return u=u+":"+f,v&&(u=u+":"+v.url),u}function ka(u,f,v,w){var C=Ql(f,v,w);return Xl[C]||(Xl[C]=new Jf(u,f,v,w)),Xl[C]}function Ic(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Sc(u){u.g||(u.g=!0,Oa(u,!1,null,null))}function wh(u){u.g&&!u.i&&Oa(u,!1,null,null)}function Dm(u,f){if(u.b=function(){return et(f)},u.f.length)for(var v=0;v<u.f.length;v++)u.f[v](f)}function Oa(u,f,v,w){f?w?function qo(u,f){if(u.b=function(){return ut(f)},u.c.length)for(var v=0;v<u.c.length;v++)u.c[v](f)}(u,w):Dm(u,v):Dm(u,{user:null}),u.f=[],u.c=[]}function qg(){}function Wg(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(u){this.jb=u},enumerable:!1})}function np(u,f){this.a=f,We(this,"verificationId",u)}function rp(u,f,v,w){return new bn(u).gb(f,v).then(function(C){return new np(C,w)})}function Kg(u){var f=If(u);if(!(f&&f.exp&&f.auth_time&&f.iat))throw new Q("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ve(this,{token:u,expirationTime:ds(1e3*f.exp),authTime:ds(1e3*f.auth_time),issuedAtTime:ds(1e3*f.iat),signInProvider:f.firebase&&f.firebase.sign_in_provider?f.firebase.sign_in_provider:null,signInSecondFactor:f.firebase&&f.firebase.sign_in_second_factor?f.firebase.sign_in_second_factor:null,claims:f})}function ip(u,f,v){var w=f&&f[Jl];if(!w)throw new Q("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=u,this.f=q(f),this.g=v,this.c=new qd(null,w),this.b=[];var C=this;gt(f[Ch]||[],function(k){(k=fs(k))&&C.b.push(k)}),We(this,"auth",this.a),We(this,"session",this.c),We(this,"hints",this.b)}Ic.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ic.prototype.h=function(u,f){if(u){this.reset(),this.g=!0;var v=u.c,w=u.b,C=u.a&&"auth/web-storage-unsupported"==u.a.code,k=u.a&&"auth/operation-not-supported-in-this-environment"==u.a.code;this.i=!(!C&&!k),"unknown"!=v||C||k?u.a?(Oa(this,!0,null,u.a),et()):f.Fa(v,w)?function Eh(u,f,v){v=v.Fa(f.c,f.b);var w=f.g,C=f.f,k=f.i,N=f.T(),V=!!f.c.match(/Redirect$/);v(w,C,N,k).then(function(ve){Oa(u,V,ve,null)}).o(function(ve){Oa(u,V,null,ve)})}(this,u,f):ut(new Q("invalid-auth-event")):(Oa(this,!1,null,null),et())}else ut(new Q("invalid-auth-event"))},Ic.prototype.ra=function(){var u=this;return new At(function(f,v){u.b?u.b().then(f,v):(u.f.push(f),u.c.push(v),function Dh(u){var f=new Q("timeout");u.a&&u.a.cancel(),u.a=ll(cy.get()).then(function(){u.b||(u.g=!0,Oa(u,!0,null,f))})}(u))})},qg.prototype.h=function(u,f){if(u){var v=u.c,w=u.b;u.a?(f.na(u.c,null,u.a,u.b),et()):f.Fa(v,w)?function Gg(u,f){var v=u.b,w=u.c;f.Fa(w,v)(u.g,u.f,u.T(),u.i).then(function(C){f.na(w,C,null,v)}).o(function(C){f.na(w,null,C,v)})}(u,f):ut(new Q("invalid-auth-event"))}else ut(new Q("invalid-auth-event"))},np.prototype.confirm=function(u){return u=ai(this.verificationId,u),this.a(u)};var Ch="mfaInfo",Jl="mfaPendingCredential";function Js(u,f,v,w){Q.call(this,"multi-factor-auth-required",w,f),this.b=new ip(u,f,v),We(this,"resolver",this.b)}function Yg(u,f,v){if(u&&dt(u.serverResponse)&&"auth/multi-factor-auth-required"===u.code)try{return new Js(f,u.serverResponse,v,u.message)}catch{}return null}function Cm(){}function Vu(u){We(this,"factorId",u.fa),this.a=u}function Im(u){if(Vu.call(this,u),this.a.fa!=bn.PROVIDER_ID)throw new Q("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function fo(u,f){for(var v in ne.call(this,u),f)this[v]=f[v]}function ed(u,f){this.a=u,this.b=[],this.c=Ge(this.yc,this),Tt(this.a,"userReloaded",this.c);var v=[];f&&f.multiFactor&&f.multiFactor.enrolledFactors&&gt(f.multiFactor.enrolledFactors,function(w){var C=null,k={};if(w){w.uid&&(k[_f]=w.uid),w.displayName&&(k[ps]=w.displayName),w.enrollmentTime&&(k[Nd]=new Date(w.enrollmentTime).toISOString()),w.phoneNumber&&(k[Dr]=w.phoneNumber);try{C=new _a(k)}catch{}w=C}else w=null;w&&v.push(w)}),Ih(this,v)}function Ih(u,f){u.b=f,We(u,"enrolledFactors",f)}function op(u,f,v){if(this.h=u,this.i=f,this.g=v,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ea(u,f){u.stop(),u.b=ll(function Tm(u,f){return f?(u.a=u.c,u.g()):(f=u.a,u.a*=2,u.a>u.f&&(u.a=u.f),f)}(u,f)).then(function(){return function I_(){var u=$.document,f=null;return ki()||!u?et():new At(function(v){f=function(){ki()&&(u.removeEventListener("visibilitychange",f,!1),v())},u.addEventListener("visibilitychange",f,!1)}).o(function(v){throw u.removeEventListener("visibilitychange",f,!1),v})}()}).then(function(){return u.h()}).then(function(){ea(u,!0)}).o(function(v){u.i(v)&&ea(u,!1)})}function Sh(u){this.f=u,this.b=this.a=null,this.c=Date.now()}function Th(u,f){typeof f>"u"&&(f=u.b?(f=u.b).a-f.g:0),u.c=Date.now()+1e3*f}function xm(u,f){u.b=uo(f[Ao]||""),u.a=f.refreshToken,Th(u,typeof(f=f.expiresIn)<"u"?Number(f):void 0)}function di(u,f){this.a=u||null,this.b=f||null,Ve(this,{lastSignInTime:ds(f||null),creationTime:ds(u||null)})}function Xg(u,f,v,w,C,k){Ve(this,{uid:u,displayName:w||null,photoURL:C||null,email:v||null,phoneNumber:k||null,providerId:f})}function po(u,f,v){this.N=[],this.l=u.apiKey,this.m=u.appName,this.s=u.authDomain||null;var w=be.Z.SDK_VERSION?Ls(be.Z.SDK_VERSION):null;this.a=new wn(this.l,Jr(Gn),w),(this.u=u.emulatorConfig||null)&&gs(this.a,this.u),this.h=new Sh(this.a),Tc(this,f[Ao]),xm(this.h,f),We(this,"refreshToken",this.h.a),ap(this,v||{}),Pr.call(this),this.P=!1,this.s&&dr()&&(this.b=ka(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function dy(u){return new op(function(){return u.I(!0)},function(f){return!(!f||"auth/network-request-failed"!=f.code)},function(){var f=u.h.c-Date.now()-3e5;return 0<f?f:0})}(this),this.ba=Ge(this.ib,this);var C=this;this.za=null,this.Pa=function(k){C.xa(k.h)},this.qa=null,this.Ba=function(k){Mm(C,k.c)},this.$=null,this.aa=[],this.Oa=function(k){nd(C,k.f)},this.ja=null,this.S=new ed(this,v),We(this,"multiFactor",this.S)}function Mm(u,f){u.u=f,gs(u.a,f),u.b&&(f=u.b,u.b=ka(u.s,u.l,u.m,u.u),u.P&&(tp(f,u),_h(u.b,u)))}function td(u,f){u.qa&&oo(u.qa,"languageCodeChanged",u.Pa),(u.qa=f)&&Tt(f,"languageCodeChanged",u.Pa)}function sp(u,f){u.$&&oo(u.$,"emulatorConfigChanged",u.Ba),(u.$=f)&&Tt(f,"emulatorConfigChanged",u.Ba)}function nd(u,f){u.aa=f,Of(u.a,be.Z.SDK_VERSION?Ls(be.Z.SDK_VERSION,u.aa):null)}function xh(u,f){u.ja&&oo(u.ja,"frameworkChanged",u.Oa),(u.ja=f)&&Tt(f,"frameworkChanged",u.Oa)}function Rm(u){try{return be.Z.app(u.m).auth()}catch{throw new Q("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+u.m+"'!")}}function Qg(u){u.J||u.D.b||(u.D.start(),oo(u,"tokenChanged",u.ba),Tt(u,"tokenChanged",u.ba))}function km(u){oo(u,"tokenChanged",u.ba),u.D.stop()}function Tc(u,f){u.Aa=f,We(u,"_lat",f)}function Go(u){for(var f=[],v=0;v<u.W.length;v++)f.push(u.W[v](u));return x(f).then(function(){return u})}function Uu(u){u.b&&!u.P&&(u.P=!0,_h(u.b,u))}function ap(u,f){Ve(u,{uid:f.uid,displayName:f.displayName||null,photoURL:f.photoURL||null,email:f.email||null,emailVerified:f.emailVerified||!1,phoneNumber:f.phoneNumber||null,isAnonymous:f.isAnonymous||!1,tenantId:f.tenantId||null,metadata:new di(f.createdAt,f.lastLoginAt),providerData:[]}),u.a.b=u.tenantId}function rd(){}function fn(u){return et().then(function(){if(u.J)throw new Q("app-deleted")})}function Om(u){return Et(u.providerData,function(f){return f.providerId})}function Nm(u,f){f&&(xc(u,f.providerId),u.providerData.push(f))}function xc(u,f){kn(u.providerData,function(v){return v.providerId==f})}function mn(u,f,v){("uid"!=f||v)&&u.hasOwnProperty(f)&&We(u,f,v)}function Pi(u,f){u!=f&&(Ve(u,{uid:f.uid,displayName:f.displayName,photoURL:f.photoURL,email:f.email,emailVerified:f.emailVerified,phoneNumber:f.phoneNumber,isAnonymous:f.isAnonymous,tenantId:f.tenantId,providerData:[]}),We(u,"metadata",f.metadata?function Zi(u){return new di(u.a,u.b)}(f.metadata):new di),gt(f.providerData,function(v){Nm(u,v)}),function Am(u,f){u.b=f.b,u.a=f.a,u.c=f.c}(u.h,f.h),We(u,"refreshToken",u.h.a),Ih(u.S,f.S.b))}function Na(u){return u.I().then(function(f){var v=u.isAnonymous;return function cp(u,f){return jt(u.a,Mo,{idToken:f}).then(Ge(u.Kc,u))}(u,f).then(function(){return v||mn(u,"isAnonymous",!1),f})})}function Wo(u,f){f[Ao]&&u.Aa!=f[Ao]&&(xm(u.h,f),u.dispatchEvent(new fo("tokenChanged")),Tc(u,f[Ao]),mn(u,"refreshToken",u.h.a))}function Ah(u,f){return Na(u).then(function(){if(nn(Om(u),f))return Go(u).then(function(){throw new Q("provider-already-linked")})})}function Mh(u,f,v){return Ei({user:u,credential:Cl(f),additionalUserInfo:f=zd(f),operationType:v})}function Ac(u,f){return Wo(u,f),u.reload().then(function(){return u})}function Rh(u,f,v,w,C){if(!dr())return ut(new Q("operation-not-supported-in-this-environment"));if(u.i&&!C)return ut(u.i);var k=Hd(v.providerId),N=Kt(u.uid+":::"),V=null;(!ya()||bi())&&u.s&&v.isOAuthProvider&&(V=lh(u.s,u.l,u.m,f,v,null,N,be.Z.SDK_VERSION||null,null,null,u.tenantId,u.u));var ve=Fs(V,k&&k.va,k&&k.ua);return w=w().then(function(){if(er(u),!C)return u.I().then(function(){})}).then(function(){return bh(u.b,ve,f,v,N,!!V,u.tenantId)}).then(function(){return new At(function(c,s){u.na(f,null,new Q("cancelled-popup-request"),u.g||null),u.f=c,u.C=s,u.g=N,u.c=Em(u.b,u,f,ve,N)})}).then(function(c){return ve&&Tn(ve),c?Ei(c):null}).o(function(c){throw ve&&Tn(ve),c}),en(u,w,C)}function Pm(u,f,v,w,C){if(!dr())return ut(new Q("operation-not-supported-in-this-environment"));if(u.i&&!C)return ut(u.i);var k=null,N=Kt(u.uid+":::");return w=w().then(function(){if(er(u),!C)return u.I().then(function(){})}).then(function(){return u.ga=N,Go(u)}).then(function(V){return u.ha&&(V=(V=u.ha).b.set(Pa,u.w(),V.a)),V}).then(function(){return wm(u.b,f,v,N,u.tenantId)}).o(function(V){if(k=V,u.ha)return kh(u.ha);throw k}).then(function(){if(k)throw k}),en(u,w,C)}function er(u){if(!u.b||!u.P)throw new Q(u.b&&!u.P?"internal-error":"auth-domain-config-required")}function en(u,f,v){var w=function hi(u,f,v){return u.i&&!v?(f.cancel(),ut(u.i)):f.o(function(w){throw!w||"auth/user-disabled"!=w.code&&"auth/user-token-expired"!=w.code||(u.i||u.dispatchEvent(new fo("userInvalidated")),u.i=w),w})}(u,f,v);return u.N.push(w),w.oa(function(){Cn(u.N,w)}),w.o(function(C){var k=null;throw C&&"auth/multi-factor-auth-required"===C.code&&(k=Yg(C.w(),Rm(u),Ge(u.jc,u))),k||C})}function Fm(u){if(!u.apiKey)return null;var f={apiKey:u.apiKey,authDomain:u.authDomain,appName:u.appName,emulatorConfig:u.emulatorConfig},v={};if(!u.stsTokenManager||!u.stsTokenManager.accessToken)return null;v[Ao]=u.stsTokenManager.accessToken,v.refreshToken=u.stsTokenManager.refreshToken||null;var w=u.stsTokenManager.expirationTime;w&&(v.expiresIn=(w-Date.now())/1e3);var C=new po(f,v,u);return u.providerData&&gt(u.providerData,function(k){k&&Nm(C,Ei(k))}),u.redirectEventId&&(C.ga=u.redirectEventId),C}function Mc(u){this.a=u,this.b=ho()}ip.prototype.Rc=function(u){var f=this;return u.tb(this.a.a,this.c).then(function(v){var w=q(f.f);return delete w[Ch],delete w[Jl],oe(w,v),f.g(w)})},st(Js,Q),Cm.prototype.tb=function(u,f,v){return f.type==fu?function uy(u,f,v,w){return v.Ha().then(function(C){return C={idToken:C},typeof w<"u"&&(C.displayName=w),oe(C,{phoneVerificationInfo:lo(u.a)}),jt(f,ih,C)})}(this,u,f,v):function ly(u,f,v){return v.Ha().then(function(w){return oe(w={mfaPendingCredential:w},{phoneVerificationInfo:lo(u.a)}),jt(f,Bl,w)})}(this,u,f)},st(Vu,Cm),st(Im,Vu),st(fo,ne),(S=ed.prototype).yc=function(u){Ih(this,function Sm(u){var f=[];return gt(u.mfaInfo||[],function(v){(v=fs(v))&&f.push(v)}),f}(u.hd))},S.Sb=function(){return this.a.I().then(function(u){return new qd(u,null)})},S.fc=function(u,f){var v=this,w=this.a.a;return this.Sb().then(function(C){return u.tb(w,C,f)}).then(function(C){return Wo(v.a,C),v.a.reload()})},S.bd=function(u){var f=this,v="string"==typeof u?u:u.uid,w=this.a.a;return this.a.I().then(function(C){return jt(w,am,{idToken:C,mfaEnrollmentId:v})}).then(function(C){var k=ei(f.b,function(N){return N.uid!=v});return Ih(f,k),Wo(f.a,C),f.a.reload().o(function(N){if("auth/user-token-expired"!=N.code)throw N})})},S.w=function(){return{multiFactor:{enrolledFactors:Et(this.b,function(u){return u.w()})}}},op.prototype.start=function(){this.a=this.c,ea(this,!0)},op.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Sh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Sh.prototype.getToken=function(u){return u=!!u,this.b&&!this.a?ut(new Q("user-token-expired")):u||!this.b||Date.now()>this.c-3e4?this.a?function Zg(u,f){return function rh(u,f){return new At(function(v,w){"refresh_token"==f.grant_type&&f.refresh_token||"authorization_code"==f.grant_type&&f.code?Pl(u,u.l+"?key="+encodeURIComponent(u.c),function(C){C?C.error?w(Au(C)):C.access_token&&C.refresh_token?v(C):w(new Q("internal-error")):w(new Q("network-request-failed"))},"POST",dl(f).toString(),u.g,u.m.get()):w(new Q("internal-error"))})}(u.f,f).then(function(v){return u.b=uo(v.access_token),u.a=v.refresh_token,Th(u,v.expires_in),{accessToken:u.b.toString(),refreshToken:u.a}}).o(function(v){throw"auth/user-token-expired"==v.code&&(u.a=null),v})}(this,{grant_type:"refresh_token",refresh_token:this.a}):et(null):et({accessToken:this.b.toString(),refreshToken:this.a})},di.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},st(po,Pr),po.prototype.xa=function(u){this.za=u,Zp(this.a,u)},po.prototype.la=function(){return this.za},po.prototype.Ga=function(){return On(this.aa)},po.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},We(po.prototype,"providerId","firebase"),(S=po.prototype).reload=function(){var u=this;return en(this,fn(this).then(function(){return Na(u).then(function(){return Go(u)}).then(rd)}))},S.oc=function(u){return this.I(u).then(function(f){return new Kg(f)})},S.I=function(u){var f=this;return en(this,fn(this).then(function(){return f.h.getToken(u)}).then(function(v){if(!v)throw new Q("internal-error");return v.accessToken!=f.Aa&&(Tc(f,v.accessToken),f.dispatchEvent(new fo("tokenChanged"))),mn(f,"refreshToken",v.refreshToken),v.accessToken}))},S.Kc=function(u){if(!(u=u.users)||!u.length)throw new Q("internal-error");ap(this,{uid:(u=u[0]).localId,displayName:u.displayName,photoURL:u.photoUrl,email:u.email,emailVerified:!!u.emailVerified,phoneNumber:u.phoneNumber,lastLoginAt:u.lastLoginAt,createdAt:u.createdAt,tenantId:u.tenantId});for(var f=function Jg(u){return(u=u.providerUserInfo)&&u.length?Et(u,function(f){return new Xg(f.rawId,f.providerId,f.email,f.displayName,f.photoUrl,f.phoneNumber)}):[]}(u),v=0;v<f.length;v++)Nm(this,f[v]);mn(this,"isAnonymous",!(this.email&&u.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new fo("userReloaded",{hd:u}))},S.Lc=function(u){return fl("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(u)},S.ub=function(u){var f=this,v=null;return en(this,u.c(this.a,this.uid).then(function(w){return Wo(f,w),v=Mh(f,w,"reauthenticate"),f.i=null,f.reload()}).then(function(){return v}),!0)},S.Cc=function(u){return fl("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(u)},S.rb=function(u){var f=this,v=null;return en(this,Ah(this,u.providerId).then(function(){return f.I()}).then(function(w){return u.b(f.a,w)}).then(function(w){return v=Mh(f,w,"link"),Ac(f,w)}).then(function(){return v}))},S.Dc=function(u,f){var v=this;return en(this,Ah(this,"phone").then(function(){return rp(Rm(v),u,f,Ge(v.rb,v))}))},S.Mc=function(u,f){var v=this;return en(this,et().then(function(){return rp(Rm(v),u,f,Ge(v.ub,v))}),!0)},S.Cb=function(u){var f=this;return en(this,this.I().then(function(v){return f.a.Cb(v,u)}).then(function(v){return Wo(f,v),f.reload()}))},S.ed=function(u){var f=this;return en(this,this.I().then(function(v){return u.b(f.a,v)}).then(function(v){return Wo(f,v),f.reload()}))},S.Db=function(u){var f=this;return en(this,this.I().then(function(v){return f.a.Db(v,u)}).then(function(v){return Wo(f,v),f.reload()}))},S.Eb=function(u){if(void 0===u.displayName&&void 0===u.photoURL)return fn(this);var f=this;return en(this,this.I().then(function(v){return f.a.Eb(v,{displayName:u.displayName,photoUrl:u.photoURL})}).then(function(v){return Wo(f,v),mn(f,"displayName",v.displayName||null),mn(f,"photoURL",v.photoUrl||null),gt(f.providerData,function(w){"password"===w.providerId&&(We(w,"displayName",f.displayName),We(w,"photoURL",f.photoURL))}),Go(f)}).then(rd))},S.cd=function(u){var f=this;return en(this,Na(this).then(function(v){return nn(Om(f),u)?function Jp(u,f,v){return jt(u,jl,{idToken:f,deleteProvider:v})}(f.a,v,[u]).then(function(w){var C={};return gt(w.providerUserInfo||[],function(k){C[k.providerId]=!0}),gt(Om(f),function(k){C[k]||xc(f,k)}),C[bn.PROVIDER_ID]||We(f,"phoneNumber",null),Go(f)}):Go(f).then(function(){throw new Q("no-such-provider")})}))},S.delete=function(){var u=this;return en(this,this.I().then(function(f){return jt(u.a,bc,{idToken:f})}).then(function(){u.dispatchEvent(new fo("userDeleted"))})).then(function(){for(var f=0;f<u.N.length;f++)u.N[f].cancel("app-deleted");td(u,null),sp(u,null),xh(u,null),u.N=[],u.J=!0,km(u),We(u,"refreshToken",null),u.b&&tp(u.b,u)})},S.Gb=function(u,f){return!!("linkViaPopup"==u&&(this.g||null)==f&&this.f||"reauthViaPopup"==u&&(this.g||null)==f&&this.f||"linkViaRedirect"==u&&(this.ga||null)==f||"reauthViaRedirect"==u&&(this.ga||null)==f)},S.na=function(u,f,v,w){"linkViaPopup"!=u&&"reauthViaPopup"!=u||w!=(this.g||null)||(v&&this.C?this.C(v):f&&!v&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},S.Fa=function(u,f){return"linkViaPopup"==u&&f==(this.g||null)?Ge(this.Lb,this):"reauthViaPopup"==u&&f==(this.g||null)?Ge(this.Mb,this):"linkViaRedirect"==u&&(this.ga||null)==f?Ge(this.Lb,this):"reauthViaRedirect"==u&&(this.ga||null)==f?Ge(this.Mb,this):null},S.Ec=function(u){var f=this;return Rh(this,"linkViaPopup",u,function(){return Ah(f,u.providerId).then(function(){return Go(f)})},!1)},S.Nc=function(u){return Rh(this,"reauthViaPopup",u,function(){return et()},!0)},S.Fc=function(u){var f=this;return Pm(this,"linkViaRedirect",u,function(){return Ah(f,u.providerId)},!1)},S.Oc=function(u){return Pm(this,"reauthViaRedirect",u,function(){return et()},!0)},S.Lb=function(u,f,v,w){var C=this;this.c&&(this.c.cancel(),this.c=null);var k=null;return en(this,this.I().then(function(N){return nm(C.a,{requestUri:u,postBody:w,sessionId:f,idToken:N})}).then(function(N){return k=Mh(C,N,"link"),Ac(C,N)}).then(function(){return k}))},S.Mb=function(u,f,v,w){var C=this;this.c&&(this.c.cancel(),this.c=null);var k=null;return en(this,et().then(function(){return Cr(rm(C.a,{requestUri:u,sessionId:f,postBody:w,tenantId:v}),C.uid)}).then(function(V){return k=Mh(C,V,"reauthenticate"),Wo(C,V),C.i=null,C.reload()}).then(function(){return k}),!0)},S.vb=function(u){var f=this,v=null;return en(this,this.I().then(function(w){return v=w,typeof u>"u"||G(u)?{}:_l(new ml(u))}).then(function(w){return f.a.vb(v,w)}).then(function(w){if(f.email!=w)return f.reload()}).then(function(){}))},S.Fb=function(u,f){var v=this,w=null;return en(this,this.I().then(function(C){return w=C,typeof f>"u"||G(f)?{}:_l(new ml(f))}).then(function(C){return v.a.Fb(w,u,C)}).then(function(C){if(v.email!=C)return v.reload()}).then(function(){}))},S.jc=function(u){var f=null,v=this;return en(this,u=Cr(et(u),v.uid).then(function(w){return f=Mh(v,w,"reauthenticate"),Wo(v,w),v.i=null,v.reload()}).then(function(){return f}),!0)},S.toJSON=function(){return this.w()},S.w=function(){var u={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&oe(u,this.metadata.w()),gt(this.providerData,function(f){u.providerData.push(function hs(u){var v,f={};for(v in u)u.hasOwnProperty(v)&&(f[v]=u[v]);return f}(f))}),oe(u,this.S.w()),u};var Pa={name:"redirectUser",F:"session"};function kh(u){return Fu(u.b,Pa,u.a)}function Lm(u){this.a=u,this.b=ho(),this.c=null,this.f=function fy(u){var f=mo("local"),v=mo("session"),w=mo("none");return function Vg(u,f,v){var w=Xs(f,v),C=rr(u,f.F);return u.get(f,v).then(function(k){var N=null;try{N=uu($.localStorage.getItem(w))}catch{}if(N&&!k)return $.localStorage.removeItem(w),u.set(f,N,v);N&&k&&"localStorage"!=C.type&&$.localStorage.removeItem(w)})}(u.b,f,u.a).then(function(){return u.b.get(v,u.a)}).then(function(C){return C?v:u.b.get(w,u.a).then(function(k){return k?w:u.b.get(f,u.a).then(function(N){return N?f:u.b.get(jm,u.a).then(function(V){return V?mo(V):f})})})}).then(function(C){return u.c=C,Oh(u,C.F)}).o(function(){u.c||(u.c=f)})}(this),this.b.addListener(mo("local"),this.a,Ge(this.g,this))}function Oh(u,f){var w,v=[];for(w in Dc)Dc[w]!==f&&v.push(Fu(u.b,mo(Dc[w]),u.a));return v.push(Fu(u.b,jm,u.a)),function M(u){return new At(function(f,v){var w=u.length,C=[];if(w)for(var k=function(c,s){w--,C[c]=s,0==w&&f(C)},N=function(c){v(c)},V=0;V<u.length;V++)xd(u[V],Gt(k,V),N);else f(C)})}(v)}Lm.prototype.g=function(){var u=this,f=mo("local");Rc(this,function(){return et().then(function(){return u.c&&"local"!=u.c.F?u.b.get(f,u.a):null}).then(function(v){if(v)return Oh(u,"local").then(function(){u.c=f})})})};var jm={name:"persistence",F:"session"};function mo(u){return{name:"authUser",F:u}}function Fa(u,f){return Rc(u,function(){return u.b.set(u.c,f.w(),u.a)})}function Nh(u){return Rc(u,function(){return Fu(u.b,u.c,u.a)})}function up(u,f,v){return Rc(u,function(){return u.b.get(u.c,u.a).then(function(w){return w&&f&&(w.authDomain=f),w&&v&&(w.emulatorConfig=v),Fm(w||{})})})}function Rc(u,f){return u.f=u.f.then(f,f),u.f}function Yo(u){if(this.l=!1,We(this,"settings",new Wg),We(this,"app",u),!gn(this).options||!gn(this).options.apiKey)throw new Q("invalid-api-key");u=be.Z.SDK_VERSION?Ls(be.Z.SDK_VERSION):null,this.a=new wn(gn(this).options&&gn(this).options.apiKey,Jr(Gn),u),this.P=[],this.s=[],this.N=[],this.Pa=be.Z.INTERNAL.createSubscribe(Ge(this.zc,this)),this.W=void 0,this.ib=be.Z.INTERNAL.createSubscribe(Ge(this.Ac,this)),La(this,null),this.i=new Lm(gn(this).options.apiKey+":"+gn(this).name),this.D=new Mc(gn(this).options.apiKey+":"+gn(this).name),this.$=Mn(this,function Vm(u){var f=gn(u).options.authDomain,v=function Hu(u){var f=function hy(u,f){return u.b.get(Pa,u.a).then(function(v){return v&&f&&(v.authDomain=f),Fm(v||{})})}(u.D,gn(u).options.authDomain).then(function(v){return(u.m=v)&&(v.ha=u.D),kh(u.D)});return Mn(u,f)}(u).then(function(){return up(u.i,f,u.R)}).then(function(w){return w?(w.ha=u.D,u.m&&(u.m.ga||null)==(w.ga||null)?w:w.reload().then(function(){return Fa(u.i,w).then(function(){return w})}).o(function(C){return"auth/network-request-failed"==C.code?w:Nh(u.i)})):null}).then(function(w){La(u,w||null)});return Mn(u,v)}(this)),this.h=Mn(this,function od(u){return u.$.then(function(){return Fh(u)}).o(function(){}).then(function(){if(!u.l)return u.ja()}).o(function(){}).then(function(){if(!u.l){u.ba=!0;var f=u.i;f.b.addListener(mo("local"),f.a,u.ja)}})}(this)),this.ba=!1,this.ja=Ge(this.Zc,this),this.Ba=Ge(this.da,this),this.qa=Ge(this.mc,this),this.za=Ge(this.wc,this),this.Aa=Ge(this.xc,this),this.b=null,function nv(u){var f=gn(u).options.authDomain,v=gn(u).options.apiKey;f&&dr()&&(u.Oa=u.$.then(function(){if(!u.l){if(u.b=ka(f,v,gn(u).name,u.R),_h(u.b,u),Pt(u)&&Uu(Pt(u)),u.m){Uu(u.m);var w=u.m;w.xa(u.la()),td(w,u),nd(w=u.m,u.J),xh(w,u),Mm(w=u.m,u.R),sp(w,u),u.m=null}return u.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=Ge(this.delete,this),this.INTERNAL.logFramework=Ge(this.Gc,this),this.u=0,Pr.call(this),function py(u){Object.defineProperty(u,"lc",{get:function(){return this.la()},set:function(f){this.xa(f)},enumerable:!1}),u.aa=null,Object.defineProperty(u,"ti",{get:function(){return this.T()},set:function(f){this.zb(f)},enumerable:!1}),u.S=null,Object.defineProperty(u,"emulatorConfig",{get:function(){if(this.R){var f=yi(this.R.url);f=Ei({protocol:f.c,host:f.a,port:f.g,options:Ei({disableWarnings:this.R.ec})})}else f=null;return f},enumerable:!1})}(this),this.J=[],this.R=null}function tv(u){ne.call(this,"languageCodeChanged"),this.h=u}function Bm(u){ne.call(this,"emulatorConfigChanged"),this.c=u}function Ph(u){ne.call(this,"frameworkChanged"),this.f=u}function _s(u){return u.Oa||ut(new Q("auth-domain-config-required"))}function Fh(u){if(!dr())return ut(new Q("operation-not-supported-in-this-environment"));var f=_s(u).then(function(){return u.b.ra()}).then(function(v){return v?Ei(v):null});return Mn(u,f)}function La(u,f){Pt(u)&&(function ys(u,f){kn(u.W,function(v){return v==f})}(Pt(u),u.Ba),oo(Pt(u),"tokenChanged",u.qa),oo(Pt(u),"userDeleted",u.za),oo(Pt(u),"userInvalidated",u.Aa),km(Pt(u))),f&&(f.W.push(u.Ba),Tt(f,"tokenChanged",u.qa),Tt(f,"userDeleted",u.za),Tt(f,"userInvalidated",u.Aa),0<u.u&&Qg(f)),We(u,"currentUser",f),f&&(f.xa(u.la()),td(f,u),nd(f,u.J),xh(f,u),Mm(f,u.R),sp(f,u))}function bs(u,f){var v=null,w=null;return Mn(u,f.then(function(C){return v=Cl(C),w=zd(C),function lp(u,f){var v={};return v.apiKey=gn(u).options.apiKey,v.authDomain=gn(u).options.authDomain,v.appName=gn(u).name,u.R&&(v.emulatorConfig=u.R),u.$.then(function(){return function ev(u,f,v,w){var C=new po(u,f);return v&&(C.ha=v),w&&nd(C,w),C.reload().then(function(){return C})}(v,f,u.D,u.Ga())}).then(function(w){return Pt(u)&&w.uid==Pt(u).uid?(Pi(Pt(u),w),u.da(w)):(La(u,w),Uu(w),u.da(w))}).then(function(){hr(u)})}(u,C)},function(C){var k=null;throw C&&"auth/multi-factor-auth-required"===C.code&&(k=Yg(C.w(),u,Ge(u.kc,u))),k||C}).then(function(){return Ei({user:Pt(u),credential:v,additionalUserInfo:w,operationType:"signIn"})}))}function gn(u){return u.app}function Pt(u){return u.currentUser}function ta(u){return Pt(u)&&Pt(u)._lat||null}function hr(u){if(u.ba){for(var f=0;f<u.s.length;f++)u.s[f]&&u.s[f](ta(u));if(u.W!==u.getUid()&&u.N.length)for(u.W=u.getUid(),f=0;f<u.N.length;f++)u.N[f]&&u.N[f](ta(u))}}function Mn(u,f){return u.P.push(f),f.oa(function(){Cn(u.P,f)}),f}function Xo(){}function sd(){this.a={},this.b=1e12}Lm.prototype.yb=function(u){var f=null,v=this;return function Yi(u){var f=new Q("invalid-persistence-type"),v=new Q("unsupported-persistence-type");e:{for(w in Dc)if(Dc[w]==u){var w=!0;break e}w=!1}if(!w||"string"!=typeof u)throw f;switch(pe()){case"ReactNative":if("session"===u)throw v;break;case"Node":if("none"!==u)throw v;break;case"Worker":if("session"===u||!Fg()&&"none"!==u)throw v;break;default:if(!wr()&&"none"!==u)throw v}}(u),Rc(this,function(){return u!=v.c.F?v.b.get(v.c,v.a).then(function(w){return f=w,Oh(v,u)}).then(function(){if(v.c=mo(u),f)return v.b.set(v.c,f,v.a)}):et()})},st(Yo,Pr),st(tv,ne),st(Bm,ne),st(Ph,ne),(S=Yo.prototype).yb=function(u){return Mn(this,u=this.i.yb(u))},S.xa=function(u){this.aa===u||this.l||(this.aa=u,Zp(this.a,this.aa),this.dispatchEvent(new tv(this.la())))},S.la=function(){return this.aa},S.fd=function(){var u=$.navigator;this.xa(u&&(u.languages&&u.languages[0]||u.language||u.userLanguage)||null)},S.gd=function(u,f){if(!this.R){if(!/^https?:\/\//.test(u))throw new Q("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function id(u){typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),$.document&&!u&&_i().then(function(){var f=$.document.createElement("div");f.innerText="Running in emulator mode. Do not use with production credentials.",f.style.position="fixed",f.style.width="100%",f.style.backgroundColor="#ffffff",f.style.border=".1em solid #000000",f.style.color="#b50000",f.style.bottom="0px",f.style.left="0px",f.style.margin="0px",f.style.zIndex=1e4,f.style.textAlign="center",f.classList.add("firebase-emulator-warning"),$.document.body.appendChild(f)})})(f=!!f&&!!f.disableWarnings),this.R={url:u,ec:f},this.settings.jb=!0,gs(this.a,this.R),this.dispatchEvent(new Bm(this.R))}},S.Gc=function(u){this.J.push(u),Of(this.a,be.Z.SDK_VERSION?Ls(be.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new Ph(this.J))},S.Ga=function(){return On(this.J)},S.zb=function(u){this.S===u||this.l||(this.S=u,this.a.b=this.S)},S.T=function(){return this.S},S.toJSON=function(){return{apiKey:gn(this).options.apiKey,authDomain:gn(this).options.authDomain,appName:gn(this).name,currentUser:Pt(this)&&Pt(this).w()}},S.Gb=function(u,f){switch(u){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==f&&!!this.f;default:return!1}},S.na=function(u,f,v,w){"signInViaPopup"==u&&this.g==w&&(v&&this.C?this.C(v):f&&!v&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},S.Fa=function(u,f){return"signInViaRedirect"==u||"signInViaPopup"==u&&this.g==f&&this.f?Ge(this.ic,this):null},S.ic=function(u,f,v,w){var C=this,k={requestUri:u,postBody:w,sessionId:f,tenantId:v};return this.c&&(this.c.cancel(),this.c=null),C.$.then(function(){return bs(C,tm(C.a,k))})},S.Xc=function(u){if(!dr())return ut(new Q("operation-not-supported-in-this-environment"));var f=this,v=Hd(u.providerId),w=Kt(),C=null;(!ya()||bi())&&gn(this).options.authDomain&&u.isOAuthProvider&&(C=lh(gn(this).options.authDomain,gn(this).options.apiKey,gn(this).name,"signInViaPopup",u,null,w,be.Z.SDK_VERSION||null,null,null,this.T(),this.R));var k=Fs(C,v&&v.va,v&&v.ua);return Mn(this,v=_s(this).then(function(N){return bh(N,k,"signInViaPopup",u,w,!!C,f.T())}).then(function(){return new At(function(N,V){f.na("signInViaPopup",null,new Q("cancelled-popup-request"),f.g),f.f=N,f.C=V,f.g=w,f.c=Em(f.b,f,"signInViaPopup",k,w)})}).then(function(N){return k&&Tn(k),N?Ei(N):null}).o(function(N){throw k&&Tn(k),N}))},S.Yc=function(u){if(!dr())return ut(new Q("operation-not-supported-in-this-environment"));var f=this,v=_s(this).then(function(){return function Te(u){return Rc(u,function(){return u.b.set(jm,u.c.F,u.a)})}(f.i)}).then(function(){return wm(f.b,"signInViaRedirect",u,void 0,f.T())});return Mn(this,v)},S.ra=function(){var u=this;return Fh(this).then(function(f){return u.b&&wh(u.b.b),f}).o(function(f){throw u.b&&wh(u.b.b),f})},S.dd=function(u){if(!u)return ut(new Q("null-user"));if(this.S!=u.tenantId)return ut(new Q("tenant-id-mismatch"));var f=this,v={};v.apiKey=gn(this).options.apiKey,v.authDomain=gn(this).options.authDomain,v.appName=gn(this).name;var w=function Ko(u,f,v,w){var C=u.h,k={};return k[Ao]=C.b&&C.b.toString(),k.refreshToken=C.a,f=new po(f||{apiKey:u.l,authDomain:u.s,appName:u.m},k),v&&(f.ha=v),w&&nd(f,w),Pi(f,u),f}(u,v,f.D,f.Ga());return Mn(this,this.h.then(function(){if(gn(f).options.apiKey!=u.l)return w.reload()}).then(function(){return Pt(f)&&u.uid==Pt(f).uid?(Pi(Pt(f),u),f.da(u)):(La(f,w),Uu(w),f.da(w))}).then(function(){hr(f)}))},S.Bb=function(){var u=this;return Mn(this,this.h.then(function(){return u.b&&wh(u.b.b),Pt(u)?(La(u,null),Nh(u.i).then(function(){hr(u)})):et()}))},S.Zc=function(){var u=this;return up(this.i,gn(this).options.authDomain).then(function(f){if(!u.l){var v;if(v=Pt(u)&&f){v=Pt(u).uid;var w=f.uid;v=null!=v&&""!==v&&null!=w&&""!==w&&v==w}if(v)return Pi(Pt(u),f),Pt(u).I();(Pt(u)||f)&&(La(u,f),f&&(Uu(f),f.ha=u.D),u.b&&_h(u.b,u),hr(u))}})},S.da=function(u){return Fa(this.i,u)},S.mc=function(){hr(this),this.da(Pt(this))},S.wc=function(){this.Bb()},S.xc=function(){this.Bb()},S.kc=function(u){var f=this;return this.h.then(function(){return bs(f,et(u))})},S.zc=function(u){var f=this;this.addAuthTokenListener(function(){u.next(Pt(f))})},S.Ac=function(u){var f=this;!function Zo(u,f){u.N.push(f),Mn(u,u.h.then(function(){!u.l&&nn(u.N,f)&&u.W!==u.getUid()&&(u.W=u.getUid(),f(ta(u)))}))}(this,function(){u.next(Pt(f))})},S.Ic=function(u,f,v){var w=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof u?u(Pt(w)):"function"==typeof u.next&&u.next(Pt(w))}),this.Pa(u,f,v)},S.Hc=function(u,f,v){var w=this;return this.ba&&Promise.resolve().then(function(){w.W=w.getUid(),"function"==typeof u?u(Pt(w)):"function"==typeof u.next&&u.next(Pt(w))}),this.ib(u,f,v)},S.nc=function(u){var f=this;return Mn(this,this.h.then(function(){return Pt(f)?Pt(f).I(u).then(function(w){return{accessToken:w}}):null}))},S.Tc=function(u){var f=this;return this.h.then(function(){return bs(f,jt(f.a,Eg,{token:u}))}).then(function(v){var w=v.user;return mn(w,"isAnonymous",!1),f.da(w),v})},S.Uc=function(u,f){var v=this;return this.h.then(function(){return bs(v,jt(v.a,Lf,{email:u,password:f}))})},S.dc=function(u,f){var v=this;return this.h.then(function(){return bs(v,jt(v.a,x_,{email:u,password:f}))})},S.ab=function(u){var f=this;return this.h.then(function(){return bs(f,u.ka(f.a))})},S.Sc=function(u){return fl("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(u)},S.Ab=function(){var u=this;return this.h.then(function(){var f=Pt(u);if(f&&f.isAnonymous){var v=Ei({providerId:null,isNewUser:!1});return Ei({user:f,credential:null,additionalUserInfo:v,operationType:"signIn"})}return bs(u,u.a.Ab()).then(function(w){var C=w.user;return mn(C,"isAnonymous",!0),u.da(C),w})})},S.getUid=function(){return Pt(this)&&Pt(this).uid||null},S.cc=function(u){this.addAuthTokenListener(u),this.u++,0<this.u&&Pt(this)&&Qg(Pt(this))},S.Pc=function(u){var f=this;gt(this.s,function(v){v==u&&f.u--}),0>this.u&&(this.u=0),0==this.u&&Pt(this)&&km(Pt(this)),this.removeAuthTokenListener(u)},S.addAuthTokenListener=function(u){var f=this;this.s.push(u),Mn(this,this.h.then(function(){f.l||nn(f.s,u)&&u(ta(f))}))},S.removeAuthTokenListener=function(u){kn(this.s,function(f){return f==u})},S.delete=function(){this.l=!0;for(var u=0;u<this.P.length;u++)this.P[u].cancel("app-deleted");return this.P=[],this.i&&(u=this.i).b.removeListener(mo("local"),u.a,this.ja),this.b&&(tp(this.b,this),wh(this.b.b)),Promise.resolve()},S.hc=function(u){return Mn(this,function Xp(u,f){return jt(u,Su,{identifier:f,continueUri:qr()?ls():"http://localhost"}).then(function(v){return v.signinMethods||[]})}(this.a,u))},S.Bc=function(u){return!!Us(u)},S.xb=function(u,f){var v=this;return Mn(this,et().then(function(){var w=new ml(f);if(!w.c)throw new Q("argument-error",js+" must be true when sending sign in link to email");return _l(w)}).then(function(w){return v.a.xb(u,w)}).then(function(){}))},S.jd=function(u){return this.Sa(u).then(function(f){return f.data.email})},S.ob=function(u,f){return Mn(this,this.a.ob(u,f).then(function(){}))},S.Sa=function(u){return Mn(this,this.a.Sa(u).then(function(f){return new Co(f)}))},S.kb=function(u){return Mn(this,this.a.kb(u).then(function(){}))},S.wb=function(u,f){var v=this;return Mn(this,et().then(function(){return typeof f>"u"||G(f)?{}:_l(new ml(f))}).then(function(w){return v.a.wb(u,w)}).then(function(){}))},S.Wc=function(u,f){return Mn(this,rp(this,u,f,Ge(this.ab,this)))},S.Vc=function(u,f){var v=this;return Mn(this,et().then(function(){var w=f||ls(),C=Gd(u,w);if(!(w=Us(w)))throw new Q("argument-error","Invalid email link!");if(w.tenantId!==v.T())throw new Q("tenant-id-mismatch");return v.ab(C)}))},Xo.prototype.render=function(){},Xo.prototype.reset=function(){},Xo.prototype.getResponse=function(){},Xo.prototype.execute=function(){};var Lh=null;function ja(u,f){return(f=ad(f))&&u.a[f]||null}function ad(u){return(u=typeof u>"u"?1e12:u)?u.toString():null}function ws(u,f){this.g=!1,this.c=f,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Nr(u);var v=this;this.i=function(){v.execute()},this.h?this.execute():Tt(this.f,"click",this.i)}function Um(u){if(u.g)throw Error("reCAPTCHA mock was already deleted!")}function jh(){}function zu(){}sd.prototype.render=function(u,f){return this.a[this.b.toString()]=new ws(u,f),this.b++},sd.prototype.reset=function(u){var f=ja(this,u);u=ad(u),f&&u&&(f.delete(),delete this.a[u])},sd.prototype.getResponse=function(u){return(u=ja(this,u))?u.getResponse():null},sd.prototype.execute=function(u){(u=ja(this,u))&&u.execute()},ws.prototype.getResponse=function(){return Um(this),this.b},ws.prototype.execute=function(){Um(this);var u=this;this.a||(this.a=setTimeout(function(){u.b=function cu(){for(var u=50,f=[];0<u;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),u--;return f.join("")}();var f=u.c.callback,v=u.c["expired-callback"];if(f)try{f(u.b)}catch{}u.a=setTimeout(function(){if(u.a=null,u.b=null,v)try{v()}catch{}u.h&&u.execute()},6e4)},500))},ws.prototype.delete=function(){Um(this),this.g=!0,clearTimeout(this.a),this.a=null,oo(this.f,"click",this.i)},We(jh,"FACTOR_ID","phone"),zu.prototype.g=function(){return Lh||(Lh=new sd),et(Lh)},zu.prototype.c=function(){};var dp=null;function Bh(){this.b=$.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var kc=new Ae(cn,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),my=new Do(3e4,6e4);Bh.prototype.g=function(u){var f=this;return new At(function(v,w){var C=setTimeout(function(){w(new Q("network-request-failed"))},my.get());!$.grecaptcha||u!==f.f&&!f.b?($[f.a]=function(){if($.grecaptcha){f.f=u;var N=$.grecaptcha.render;$.grecaptcha.render=function(V,ve){return V=N(V,ve),f.b++,V},clearTimeout(C),v($.grecaptcha)}else clearTimeout(C),w(new Q("internal-error"));delete $[f.a]},et(Ci(gi(kc,{onload:f.a,hl:u||""}))).o(function(){clearTimeout(C),w(new Q("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(C),v($.grecaptcha))})},Bh.prototype.c=function(){this.b--};var Qo=null;function cd(u,f,v,w,C,k,N){if(We(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=f,this.g=null,N?(dp||(dp=new zu),N=dp):(Qo||(Qo=new Bh),N=Qo),this.m=N,this.a=v||{theme:"light",type:"image"},this.h=[],this.a[gy])throw new Q("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[pp],!$.document)throw new Q("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Nr(f)||!this.i&&Nr(f).hasChildNodes())throw new Q("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new wn(u,k||null,C||null),this.u=w||function(){return null};var V=this;this.l=[];var ve=this.a[hp];this.a[hp]=function(s){if(Ba(V,s),"function"==typeof ve)ve(s);else if("string"==typeof ve){var l=Xe(ve,$);"function"==typeof l&&l(s)}};var c=this.a[fp];this.a[fp]=function(){if(Ba(V,null),"function"==typeof c)c();else if("string"==typeof c){var s=Xe(c,$);"function"==typeof s&&s()}}}var hp="callback",fp="expired-callback",gy="sitekey",pp="size";function Ba(u,f){for(var v=0;v<u.l.length;v++)try{u.l[v](f)}catch{}}function ud(u,f){return u.h.push(f),f.oa(function(){Cn(u.h,f)}),f}function na(u){if(u.J)throw new Q("internal-error","RecaptchaVerifier instance has been destroyed.")}function ld(u,f,v){var w=!1;try{this.b=v||be.Z.app()}catch{throw new Q("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Q("invalid-api-key");v=this.b.options.apiKey;var C=this,k=null;try{k=this.b.auth().Ga()}catch{}try{w=this.b.auth().settings.appVerificationDisabledForTesting}catch{}k=be.Z.SDK_VERSION?Ls(be.Z.SDK_VERSION,k):null,cd.call(this,v,u,f,function(){try{var N=C.b.auth().la()}catch{N=null}return N},k,Jr(Gn),w)}function Oc(u,f,v,w){e:{v=Array.prototype.slice.call(v);for(var C=0,k=!1,N=0;N<f.length;N++)if(f[N].optional)k=!0;else{if(k)throw new Q("internal-error","Argument validator encountered a required argument after an optional argument.");C++}if(k=f.length,v.length<C||k<v.length)w="Expected "+(C==k?1==C?"1 argument":C+" arguments":C+"-"+k+" arguments")+" but got "+v.length+".";else{for(C=0;C<v.length;C++)if(k=f[C].optional&&void 0===v[C],!f[C].M(v[C])&&!k){if(f=f[C],0>C||C>=Nc.length)throw new Q("internal-error","Argument validator received an unsupported number of arguments.");v=Nc[C],w=(w?"":v+" argument ")+(f.name?'"'+f.name+'" ':"")+"must be "+f.K+".";break e}w=null}}if(w)throw new Q("argument-error",u+" failed: "+w)}(S=cd.prototype).Ia=function(){var u=this;return this.f?this.f:this.f=ud(this,et().then(function(){if(qr()&&!wi())return _i();throw new Q("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return u.m.g(u.u())}).then(function(f){return u.g=f,jt(u.s,A_,{})}).then(function(f){u.a[gy]=f.recaptchaSiteKey}).o(function(f){throw u.f=null,f}))},S.render=function(){na(this);var u=this;return ud(this,this.Ia().then(function(){if(null===u.c){var f=u.v;if(!u.i){var v=Nr(f);f=function uf(u,f,v){var w=arguments,C=document,k=String(w[0]),N=w[1];if(!cf&&N&&(N.name||N.type)){if(k=["<",k],N.name&&k.push(' name="',rs(N.name),'"'),N.type){k.push(' type="',rs(N.type),'"');var V={};oe(V,N),delete V.type,N=V}k.push(">"),k=k.join("")}return k=Re(C,k),N&&("string"==typeof N?k.className=N:Array.isArray(N)?k.className=N.join(" "):ct(k,N)),2<w.length&&function Yc(u,f,v){function w(V){V&&f.appendChild("string"==typeof V?u.createTextNode(V):V)}for(var C=2;C<v.length;C++){var k=v[C];if(!Ot(k)||dt(k)&&0<k.nodeType)w(k);else{e:{if(k&&"number"==typeof k.length){if(dt(k)){var N="function"==typeof k.item||"string"==typeof k.item;break e}if(Lt(k)){N="function"==typeof k.item;break e}}N=!1}gt(N?On(k):k,w)}}}(C,k,w),k}("DIV"),v.appendChild(f)}u.c=u.g.render(f,u.a)}return u.c}))},S.verify=function(){na(this);var u=this;return ud(this,this.render().then(function(f){return new At(function(v){var w=u.g.getResponse(f);if(w)v(w);else{var C=function(k){k&&(function Va(u,f){kn(u.l,function(v){return v==f})}(u,C),v(k))};u.l.push(C),u.i&&u.g.execute(u.c)}})}))},S.reset=function(){na(this),null!==this.c&&this.g.reset(this.c)},S.clear=function(){na(this),this.J=!0,this.m.c();for(var u=0;u<this.h.length;u++)this.h[u].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){u=Nr(this.v);for(var f;f=u.firstChild;)u.removeChild(f)}},st(ld,cd);var Nc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ze(u,f){return{name:u||"",K:"a valid string",optional:!!f,M:function(v){return"string"==typeof v}}}function Ua(u,f){return{name:u||"",K:"a boolean",optional:!!f,M:function(v){return"boolean"==typeof v}}}function ir(u,f){return{name:u||"",K:"a valid object",optional:!!f,M:dt}}function Ha(u,f){return{name:u||"",K:"a function",optional:!!f,M:function(v){return"function"==typeof v}}}function Oo(u,f){return{name:u||"",K:"null",optional:!!f,M:function(v){return null===v}}}function za(u){return{name:u?u+"Credential":"credential",K:u?"a valid "+u+" credential":"a valid credential",optional:!1,M:function(f){return!!f&&!(!f.ka||u&&f.providerId!==u)}}}function qa(u,f){return dt(u)&&"string"==typeof u.type&&u.type===f&&"function"==typeof u.Ha}function fi(u){return dt(u)&&"string"==typeof u.uid}function fr(u,f,v,w){return{name:v||"",K:u.K+" or "+f.K,optional:!!w,M:function(C){return u.M(C)||f.M(C)}}}function Un(u,f){for(var v in f){var w=f[v].name;u[w]=Hh(w,u[v],f[v].j)}}function Uh(u,f){for(var v in f){var w=f[v].name;w!==v&&Object.defineProperty(u,w,{get:Gt(function(C){return this[C]},v),set:Gt(function(C,k,N,V){Oc(C,[N],[V],!0),this[k]=V},w,v,f[v].lb),enumerable:!0})}}function Zn(u,f,v,w){u[f]=Hh(f,v,w)}function Hh(u,f,v){function w(){var N=Array.prototype.slice.call(arguments);return Oc(C,v,N),f.apply(this,N)}if(!v)return f;var k,C=function zh(u){return(u=u.split("."))[u.length-1]}(u);for(k in f)w[k]=f[k];for(k in f.prototype)w.prototype[k]=f.prototype[k];return w}Un(Yo.prototype,{kb:{name:"applyActionCode",j:[ze("code")]},Sa:{name:"checkActionCode",j:[ze("code")]},ob:{name:"confirmPasswordReset",j:[ze("code"),ze("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ze("email"),ze("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ze("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ze("emailLink")]},Hc:{name:"onAuthStateChanged",j:[fr(ir(),Ha(),"nextOrObserver"),Ha("opt_error",!0),Ha("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[fr(ir(),Ha(),"nextOrObserver"),Ha("opt_error",!0),Ha("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ze("email"),fr(ir("opt_actionCodeSettings",!0),Oo(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ze("email"),ir("actionCodeSettings")]},yb:{name:"setPersistence",j:[ze("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[za()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[za()]},Tc:{name:"signInWithCustomToken",j:[ze("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ze("email"),ze("password")]},Vc:{name:"signInWithEmailLink",j:[ze("email"),ze("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ze("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[fr({name:"user",K:"an instance of Firebase User",optional:!1,M:function(f){return!!(f&&f instanceof po)}},Oo(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ze(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ze("url"),ir("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ze("code")]}}),Uh(Yo.prototype,{lc:{name:"languageCode",lb:fr(ze(),Oo(),"languageCode")},ti:{name:"tenantId",lb:fr(ze(),Oo(),"tenantId")}}),(Yo.Persistence=Dc).LOCAL="local",Yo.Persistence.SESSION="session",Yo.Persistence.NONE="none",Un(po.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Ua("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ua("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[za()]},rb:{name:"linkWithCredential",j:[za()]},Dc:{name:"linkWithPhoneNumber",j:[ze("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[za()]},ub:{name:"reauthenticateWithCredential",j:[za()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ze("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[fr(ir("opt_actionCodeSettings",!0),Oo(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ze(null,!0)]},cd:{name:"unlink",j:[ze("provider")]},Cb:{name:"updateEmail",j:[ze("email")]},Db:{name:"updatePassword",j:[ze("password")]},ed:{name:"updatePhoneNumber",j:[za("phone")]},Eb:{name:"updateProfile",j:[ir("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ze("email"),fr(ir("opt_actionCodeSettings",!0),Oo(null,!0),"opt_actionCodeSettings",!0)]}}),Un(sd.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Un(Xo.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Un(At.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Uh(Wg.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Ua("appVerificationDisabledForTesting")}}),Un(np.prototype,{confirm:{name:"confirm",j:[ze("verificationCode")]}}),Zn(si,"fromJSON",function(u){u="string"==typeof u?JSON.parse(u):u;for(var f,v=[zp,_g,sn,fc],w=0;w<v.length;w++)if(f=v[w](u))return f;return null},[fr(ze(),ir(),"json")]),Zn(Bn,"credential",function(u,f){return new Ca(u,f)},[ze("email"),ze("password")]),Un(Ca.prototype,{w:{name:"toJSON",j:[ze(null,!0)]}}),Un(it.prototype,{Ca:{name:"addScope",j:[ze("scope")]},Ka:{name:"setCustomParameters",j:[ir("customOAuthParameters")]}}),Zn(it,"credential",Sf,[fr(ze(),ir(),"token")]),Zn(Bn,"credentialWithLink",Gd,[ze("email"),ze("emailLink")]),Un(mu.prototype,{Ca:{name:"addScope",j:[ze("scope")]},Ka:{name:"setCustomParameters",j:[ir("customOAuthParameters")]}}),Zn(mu,"credential",Ir,[fr(ze(),ir(),"token")]),Un(Ht.prototype,{Ca:{name:"addScope",j:[ze("scope")]},Ka:{name:"setCustomParameters",j:[ir("customOAuthParameters")]}}),Zn(Ht,"credential",Dl,[fr(ze(),fr(ir(),Oo()),"idToken"),fr(ze(),Oo(),"accessToken",!0)]),Un(Da.prototype,{Ka:{name:"setCustomParameters",j:[ir("customOAuthParameters")]}}),Zn(Da,"credential",gu,[fr(ze(),ir(),"token"),ze("secret",!0)]),Un(Br.prototype,{Ca:{name:"addScope",j:[ze("scope")]},credential:{name:"credential",j:[fr(ze(),fr(ir(),Oo()),"optionsOrIdToken"),fr(ze(),Oo(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[ir("customOAuthParameters")]}}),Un(Ho.prototype,{w:{name:"toJSON",j:[ze(null,!0)]}}),Un(Vs.prototype,{w:{name:"toJSON",j:[ze(null,!0)]}}),Zn(bn,"credential",ai,[ze("verificationId"),ze("verificationCode")]),Un(bn.prototype,{gb:{name:"verifyPhoneNumber",j:[fr(ze(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(v){return!!v&&(v.session&&v.phoneNumber?qa(v.session,fu)&&"string"==typeof v.phoneNumber:v.session&&v.multiFactorHint?qa(v.session,So)&&fi(v.multiFactorHint):v.session&&v.multiFactorUid?qa(v.session,So)&&"string"==typeof v.multiFactorUid:!!v.phoneNumber&&"string"==typeof v.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]}}),Un(de.prototype,{w:{name:"toJSON",j:[ze(null,!0)]}}),Un(Q.prototype,{toJSON:{name:"toJSON",j:[ze(null,!0)]}}),Un(Tr.prototype,{toJSON:{name:"toJSON",j:[ze(null,!0)]}}),Un(Il.prototype,{toJSON:{name:"toJSON",j:[ze(null,!0)]}}),Un(Js.prototype,{toJSON:{name:"toJSON",j:[ze(null,!0)]}}),Un(ip.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(u){return!!u&&!!u.tb}}]}}),Un(ed.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(u){return!!u&&!!u.tb}},ze("displayName",!0)]},bd:{name:"unenroll",j:[fr({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:fi},ze(),"multiFactorInfoIdentifier")]}}),Un(ld.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Zn(dc,"parseLink",hc,[ze("link")]),Zn(jh,"assertion",function(u){return new Im(u)},[za("phone")]),function(){if(!(typeof be.Z<"u"&&be.Z.INTERNAL&&be.Z.INTERNAL.registerComponent))throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var u={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ba,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:du,VERIFY_AND_CHANGE_EMAIL:oi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Yo,AuthCredential:si,Error:Q};Zn(u,"EmailAuthProvider",Bn,[]),Zn(u,"FacebookAuthProvider",it,[]),Zn(u,"GithubAuthProvider",mu,[]),Zn(u,"GoogleAuthProvider",Ht,[]),Zn(u,"TwitterAuthProvider",Da,[]),Zn(u,"OAuthProvider",Br,[ze("providerId")]),Zn(u,"SAMLAuthProvider",pu,[ze("providerId")]),Zn(u,"PhoneAuthProvider",bn,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(u){return!!(u&&u instanceof Yo)}}]),Zn(u,"RecaptchaVerifier",ld,[fr(ze(),{name:"",K:"an HTML element",optional:!1,M:function(u){return!!(u&&u instanceof Element)}},"recaptchaContainer"),ir("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(u){return!!(u&&u instanceof be.Z.app.App)}}]),Zn(u,"ActionCodeURL",dc,[]),Zn(u,"PhoneMultiFactorGenerator",jh,[]),be.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(f){return new Yo(f=f.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:u,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(f){f.getProvider("auth-internal").initialize()}}),be.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(f){return{getUid:Ge((f=f.getProvider("auth").getImmediate()).getUid,f),getToken:Ge(f.nc,f),addAuthTokenListener:Ge(f.cc,f),removeAuthTokenListener:Ge(f.Pc,f)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),be.Z.registerVersion("@firebase/auth","0.16.8"),be.Z.INTERNAL.extendNamespace({User:po})}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},677:(ec,mi,$t)=>{$t.r(mi);var be=$t(778),S=$t(582),$e=$t(157),rt=$t(83),kt=function(c,s){return(kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(l[m]=h[m])})(c,s)};function Ar(c){var s="function"==typeof Symbol&&Symbol.iterator,l=s&&c[s],h=0;if(l)return l.call(c);if(c&&"number"==typeof c.length)return{next:function(){return c&&h>=c.length&&(c=void 0),{value:c&&c[h++],done:!c}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}var le,Vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$=$||{},Ce=Vi||self;function ke(){}function xe(c){var s=typeof c;return"array"==(s="object"!=s?s:c?Array.isArray(c)?"array":s:"null")||"object"==s&&"number"==typeof c.length}function Fe(c){var s=typeof c;return"object"==s&&null!=c||"function"==s}var Ot="closure_uid_"+(1e9*Math.random()>>>0),Lt=0;function dt(c,s,l){return c.call.apply(c.bind,arguments)}function sr(c,s,l){if(!c)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,h),c.apply(s,m)}}return function(){return c.apply(s,arguments)}}function qt(c,s,l){return(qt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dt:sr).apply(null,arguments)}function ar(c,s){var l=Array.prototype.slice.call(arguments,1);return function(){var h=l.slice();return h.push.apply(h,arguments),c.apply(this,h)}}function ht(c,s){function l(){}l.prototype=s.prototype,c.Z=s.prototype,c.prototype=new l,c.prototype.constructor=c,c.Vb=function(h,m,y){for(var b=Array(arguments.length-2),D=2;D<arguments.length;D++)b[D-2]=arguments[D];return s.prototype[m].apply(h,b)}}function qn(){this.s=this.s,this.o=this.o}var Gt={};qn.prototype.s=!1,qn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var c=function Ft(c){return Object.prototype.hasOwnProperty.call(c,Ot)&&c[Ot]||(c[Ot]=++Lt)}(this);delete Gt[c]}},qn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ui=Array.prototype.indexOf?function(c,s){return Array.prototype.indexOf.call(c,s,void 0)}:function(c,s){if("string"==typeof c)return"string"!=typeof s||1!=s.length?-1:c.indexOf(s,0);for(var l=0;l<c.length;l++)if(l in c&&c[l]===s)return l;return-1},st=Array.prototype.forEach?function(c,s,l){Array.prototype.forEach.call(c,s,l)}:function(c,s,l){for(var h=c.length,m="string"==typeof c?c.split(""):c,y=0;y<h;y++)y in m&&s.call(l,m[y],y,c)};function Q(c){return Array.prototype.concat.apply([],arguments)}function Mr(c){var s=c.length;if(0<s){for(var l=Array(s),h=0;h<s;h++)l[h]=c[h];return l}return[]}function Rn(c){return/^[\s\xa0]*$/.test(c)}var Gn,no=String.prototype.trim?function(c){return c.trim()}:function(c){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(c)[1]};function ft(c,s){return-1!=c.indexOf(s)}function Jr(c,s){return c<s?-1:c>s?1:0}e:{var ce=Ce.navigator;if(ce){var se=ce.userAgent;if(se){Gn=se;break e}}Gn=""}function Y(c,s,l){for(var h in c)s.call(l,c[h],h,c)}function J(c){var s={};for(var l in c)s[l]=c[l];return s}var ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(c,s){for(var l,h,m=1;m<arguments.length;m++){for(l in h=arguments[m])c[l]=h[l];for(var y=0;y<ye.length;y++)l=ye[y],Object.prototype.hasOwnProperty.call(h,l)&&(c[l]=h[l])}}function Ie(c){return Ie[" "](c),c}Ie[" "]=ke;var St,c,Ye=ft(Gn,"Opera"),Ke=ft(Gn,"Trident")||ft(Gn,"MSIE"),dn=ft(Gn,"Edge"),gt=dn||Ke,Vt=ft(Gn,"Gecko")&&!(ft(Gn.toLowerCase(),"webkit")&&!ft(Gn,"Edge"))&&!(ft(Gn,"Trident")||ft(Gn,"MSIE"))&&!ft(Gn,"Edge"),ei=ft(Gn.toLowerCase(),"webkit")&&!ft(Gn,"Edge");function Et(){var c=Ce.document;return c?c.documentMode:void 0}e:{var Kn="",nn=(c=Gn,Vt?/rv:([^\);]+)(\)|;)/.exec(c):dn?/Edge\/([\d\.]+)/.exec(c):Ke?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(c):ei?/WebKit\/(\S+)/.exec(c):Ye?/(?:Version)[ \/]?(\S+)/.exec(c):void 0);if(nn&&(Kn=nn?nn[1]:""),Ke){var Cn=Et();if(null!=Cn&&Cn>parseFloat(Kn)){St=String(Cn);break e}}St=Kn}var kn={};var ro=Ce.document&&Ke&&(Et()||parseInt(St,10))||void 0,Dd=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var c=!1,s=Object.defineProperty({},"passive",{get:function(){c=!0}});try{Ce.addEventListener("test",ke,s),Ce.removeEventListener("test",ke,s)}catch{}return c}();function Rr(c,s){this.type=c,this.g=this.target=s,this.defaultPrevented=!1}function ns(c,s){if(Rr.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var l=this.type=c.type,h=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=s,s=c.relatedTarget){if(Vt){e:{try{Ie(s.nodeName);var m=!0;break e}catch{}m=!1}m||(s=null)}}else"mouseover"==l?s=c.fromElement:"mouseout"==l&&(s=c.toElement);this.relatedTarget=s,h?(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType="string"==typeof c.pointerType?c.pointerType:rf[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ns.Z.h.call(this)}}Rr.prototype.h=function(){this.defaultPrevented=!0},ht(ns,Rr);var rf={2:"touch",3:"pen",4:"mouse"};ns.prototype.h=function(){ns.Z.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xi="closure_listenable_"+(1e6*Math.random()|0),Cd=0;function Ct(c,s,l,h,m){this.listener=c,this.proxy=null,this.src=s,this.type=l,this.capture=!!h,this.ia=m,this.key=++Cd,this.ca=this.fa=!1}function Hi(c){c.ca=!0,c.listener=null,c.proxy=null,c.src=null,c.ia=null}function cr(c){this.src=c,this.g={},this.h=0}function el(c,s){var l=s.type;if(l in c.g){var y,h=c.g[l],m=Ui(h,s);(y=0<=m)&&Array.prototype.splice.call(h,m,1),y&&(Hi(s),0==c.g[l].length&&(delete c.g[l],c.h--))}}function $c(c,s,l,h){for(var m=0;m<c.length;++m){var y=c[m];if(!y.ca&&y.listener==s&&y.capture==!!l&&y.ia==h)return m}return-1}cr.prototype.add=function(c,s,l,h,m){var y=c.toString();(c=this.g[y])||(c=this.g[y]=[],this.h++);var b=$c(c,s,h,m);return-1<b?(s=c[b],l||(s.fa=!1)):((s=new Ct(s,this.src,y,!!h,m)).fa=l,c.push(s)),s};var In="closure_lm_"+(1e6*Math.random()|0),Po={};function G(c,s,l,h,m){if(h&&h.once)return oe(c,s,l,h,m);if(Array.isArray(s)){for(var y=0;y<s.length;y++)G(c,s[y],l,h,m);return null}return l=kr(l),c&&c[xi]?c.N(s,l,Fe(h)?!!h.capture:!!h,m):q(c,s,l,!1,h,m)}function q(c,s,l,h,m,y){if(!s)throw Error("Invalid event type");var b=Fe(m)?!!m.capture:!!m,D=cn(c);if(D||(c[In]=D=new cr(c)),(l=D.add(s,l,h,b,y)).proxy)return l;if(h=function ee(){var s=Zt;return function c(l){return s.call(c.src,c.listener,l)}}(),l.proxy=h,h.src=c,h.listener=l,c.addEventListener)Dd||(m=b),void 0===m&&(m=!1),c.addEventListener(s.toString(),h,m);else if(c.attachEvent)c.attachEvent(at(s.toString()),h);else{if(!c.addListener||!c.removeListener)throw Error("addEventListener and attachEvent are unavailable.");c.addListener(h)}return l}function oe(c,s,l,h,m){if(Array.isArray(s)){for(var y=0;y<s.length;y++)oe(c,s[y],l,h,m);return null}return l=kr(l),c&&c[xi]?c.O(s,l,Fe(h)?!!h.capture:!!h,m):q(c,s,l,!0,h,m)}function X(c,s,l,h,m){if(Array.isArray(s))for(var y=0;y<s.length;y++)X(c,s[y],l,h,m);else h=Fe(h)?!!h.capture:!!h,l=kr(l),c&&c[xi]?(c=c.i,(s=String(s).toString())in c.g&&-1<(l=$c(y=c.g[s],l,h,m))&&(Hi(y[l]),Array.prototype.splice.call(y,l,1),0==y.length&&(delete c.g[s],c.h--))):c&&(c=cn(c))&&(s=c.g[s.toString()],c=-1,s&&(c=$c(s,l,h,m)),(l=-1<c?s[c]:null)&&Ae(l))}function Ae(c){if("number"!=typeof c&&c&&!c.ca){var s=c.src;if(s&&s[xi])el(s.i,c);else{var l=c.type,h=c.proxy;s.removeEventListener?s.removeEventListener(l,h,c.capture):s.detachEvent?s.detachEvent(at(l),h):s.addListener&&s.removeListener&&s.removeListener(h),(l=cn(s))?(el(l,c),0==l.h&&(l.src=null,s[In]=null)):Hi(c)}}}function at(c){return c in Po?Po[c]:Po[c]="on"+c}function Zt(c,s){if(c.ca)c=!0;else{s=new ns(s,this);var l=c.listener,h=c.ia||c.src;c.fa&&Ae(c),c=l.call(h,s)}return c}function cn(c){return(c=c[In])instanceof cr?c:null}var Jt="__closure_events_fn_"+(1e9*Math.random()>>>0);function kr(c){return"function"==typeof c?c:(c[Jt]||(c[Jt]=function(s){return c.handleEvent(s)}),c[Jt])}function Xt(){qn.call(this),this.i=new cr(this),this.P=this,this.I=null}function vt(c,s){var l,h=c.I;if(h)for(l=[];h;h=h.I)l.push(h);if(c=c.P,h=s.type||s,"string"==typeof s)s=new Rr(s,c);else if(s instanceof Rr)s.target=s.target||c;else{var m=s;me(s=new Rr(h,c),m)}if(m=!0,l)for(var y=l.length-1;0<=y;y--){var b=s.g=l[y];m=gi(b,h,!0,s)&&m}if(m=gi(b=s.g=c,h,!0,s)&&m,m=gi(b,h,!1,s)&&m,l)for(y=0;y<l.length;y++)m=gi(b=s.g=l[y],h,!1,s)&&m}function gi(c,s,l,h){if(!(s=c.i.g[String(s)]))return!0;s=s.concat();for(var m=!0,y=0;y<s.length;++y){var b=s[y];if(b&&!b.ca&&b.capture==l){var D=b.listener,T=b.ia||b.src;b.fa&&el(c.i,b),m=!1!==D.call(T,h)&&m}}return m&&!h.defaultPrevented}ht(Xt,qn),Xt.prototype[xi]=!0,Xt.prototype.removeEventListener=function(c,s,l,h){X(this,c,s,l,h)},Xt.prototype.M=function(){if(Xt.Z.M.call(this),this.i){var s,c=this.i;for(s in c.g){for(var l=c.g[s],h=0;h<l.length;h++)Hi(l[h]);delete c.g[s],c.h--}}this.I=null},Xt.prototype.N=function(c,s,l,h){return this.i.add(String(c),s,!1,l,h)},Xt.prototype.O=function(c,s,l,h){return this.i.add(String(c),s,!0,l,h)};var Or=Ce.JSON.stringify;function Je(){var c=tc,s=null;return c.g&&(s=c.g,c.g=c.g.next,c.g||(c.h=null),s.next=null),s}var hn,tl=function(){function c(){this.h=this.g=null}return c.prototype.add=function(s,l){var h=io.get();h.set(s,l),this.h?this.h.next=h:this.g=h,this.h=h},c}(),io=new(function(){function c(s,l){this.i=s,this.j=l,this.h=0,this.g=null}return c.prototype.get=function(){var s;return 0<this.h?(this.h--,this.g=(s=this.g).next,s.next=null):s=this.i(),s},c}())(function(){return new un},function(c){return c.reset()}),un=function(){function c(){this.next=this.g=this.h=null}return c.prototype.set=function(s,l){this.h=s,this.g=l,this.next=null},c.prototype.reset=function(){this.next=this.g=this.h=null},c}();function xs(c){Ce.setTimeout(function(){throw c},0)}function Id(c,s){hn||function Fo(){var c=Ce.Promise.resolve(void 0);hn=function(){c.then(qc)}}(),Nn||(hn(),Nn=!0),tc.add(c,s)}var Nn=!1,tc=new tl;function qc(){for(var c;c=Je();){try{c.h.call(c.g)}catch(l){xs(l)}var s=io;s.j(c),100>s.h&&(s.h++,c.next=s.g,s.g=c)}Nn=!1}function aa(c,s){Xt.call(this),this.h=c||1,this.g=s||Ce,this.j=qt(this.kb,this),this.l=Date.now()}function tt(c){c.da=!1,c.S&&(c.g.clearTimeout(c.S),c.S=null)}function Gc(c,s,l){if("function"==typeof c)l&&(c=qt(c,l));else{if(!c||"function"!=typeof c.handleEvent)throw Error("Invalid listener argument");c=qt(c.handleEvent,c)}return 2147483647<Number(s)?-1:Ce.setTimeout(c,s||0)}function Wc(c){c.g=Gc(function(){c.g=null,c.i&&(c.i=!1,Wc(c))},c.j);var s=c.h;c.h=null,c.m.apply(null,s)}ht(aa,Xt),(le=aa.prototype).da=!1,le.S=null,le.kb=function(){if(this.da){var c=Date.now()-this.l;0<c&&c<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-c):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vt(this,"tick"),this.da&&(tt(this),this.start()))}},le.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},le.M=function(){aa.Z.M.call(this),tt(this),delete this.g};var Rp=function(c){function s(l,h){var m=c.call(this)||this;return m.m=l,m.j=h,m.h=null,m.i=!1,m.g=null,m}return function Bi(c,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=c}kt(c,s),c.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}(s,c),s.prototype.l=function(l){this.h=arguments,this.g?this.i=!0:Wc(this)},s.prototype.M=function(){c.prototype.M.call(this),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},s}(qn);function ca(c){qn.call(this),this.h=c,this.g={}}ht(ca,qn);var ge=[];function rs(c,s,l,h){Array.isArray(l)||(l&&(ge[0]=l.toString()),l=ge);for(var m=0;m<l.length;m++){var y=G(s,l[m],h||c.handleEvent,!1,c.h||c);if(!y)break;c.g[y.key]=y}}function pt(c){Y(c.g,function(s,l){this.g.hasOwnProperty(l)&&Ae(s)},c),c.g={}}function rn(){this.g=!0}function ua(c,s,l,h){c.info(function(){return"XMLHTTP TEXT ("+s+"): "+function vi(c,s){if(!c.g)return s;if(!s)return null;try{var l=JSON.parse(s);if(l)for(c=0;c<l.length;c++)if(Array.isArray(l[c])){var h=l[c];if(!(2>h.length)){var m=h[1];if(Array.isArray(m)&&!(1>m.length)){var y=m[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var b=1;b<m.length;b++)m[b]=""}}}return Or(l)}catch{return s}}(c,l)+(h?" "+h:"")})}ca.prototype.M=function(){ca.Z.M.call(this),pt(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rn.prototype.Aa=function(){this.g=!1},rn.prototype.info=function(){};var is={},Sd=null;function nc(){return Sd=Sd||new Xt}function bo(c){Rr.call(this,is.Ma,c)}function la(c){var s=nc();vt(s,new bo(s,c))}function Td(c,s){Rr.call(this,is.STAT_EVENT,c),this.stat=s}function Ai(c){var s=nc();vt(s,new Td(s,c))}function af(c,s){Rr.call(this,is.Na,c),this.size=s}function da(c,s){if("function"!=typeof c)throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){c()},s)}is.Ma="serverreachability",ht(bo,Rr),is.STAT_EVENT="statevent",ht(Td,Rr),is.Na="timingevent",ht(af,Rr);var Kc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},wo={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cf(){}function ct(){}cf.prototype.h=null;var Re,rc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function uf(){Rr.call(this,"d")}function Yc(){Rr.call(this,"c")}function nl(){}function pn(c,s,l,h){this.l=c,this.j=s,this.m=l,this.X=h||1,this.V=new ca(this),this.P=rl,this.W=new aa(c=gt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Zc}function Zc(){this.i=null,this.g="",this.h=!1}ht(uf,Rr),ht(Yc,Rr),ht(nl,cf),nl.prototype.g=function(){return new XMLHttpRequest},nl.prototype.i=function(){return{}},Re=new nl;var rl=45e3,ha={},il={};function os(c,s,l){c.K=1,c.v=Sn(De(s)),c.s=l,c.U=!0,ic(c,null)}function ic(c,s){c.F=Date.now(),Dt(c),c.A=De(c.v);var l=c.A,h=c.X;Array.isArray(h)||(h=[String(h)]),lf(l.h,"t",h),c.C=0,l=c.l.H,c.h=new Zc,c.g=Mt(c.l,l?s:null,!c.s),0<c.O&&(c.L=new Rp(qt(c.Ia,c,c.g),c.O)),rs(c.V,c.g,"readystatechange",c.gb),s=c.H?J(c.H):{},c.s?(c.u||(c.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.s,s)):(c.u="GET",c.g.ea(c.A,c.u,null,s)),la(1),function sf(c,s,l,h,m,y){c.info(function(){if(c.g)if(y)for(var b="",D=y.split("&"),T=0;T<D.length;T++){var O=D[T].split("=");if(1<O.length){var P=O[0];O=O[1];var B=P.split("_");b=2<=B.length&&"type"==B[1]?b+(P+"=")+O+"&":b+(P+"=redacted&")}}else b=null;else b=y;return"XMLHTTP REQ ("+h+") [attempt "+m+"]: "+s+"\n"+l+"\n"+b})}(c.j,c.u,c.A,c.m,c.X,c.s)}function Xc(c){return!!c.g&&"GET"==c.u&&2!=c.K&&c.l.Ba}function At(c,s,l){for(var m,h=!0;!c.I&&c.C<l.length;){if((m=Ms(c,l))==il){4==s&&(c.o=4,Ai(14),h=!1),ua(c.j,c.m,null,"[Incomplete Response]");break}if(m==ha){c.o=4,Ai(15),ua(c.j,c.m,l,"[Invalid Chunk]"),h=!1;break}ua(c.j,c.m,m,null),et(c,m)}Xc(c)&&m!=il&&m!=ha&&(c.h.g="",c.C=0),4!=s||0!=l.length||c.h.h||(c.o=1,Ai(16),h=!1),c.i=c.i&&h,h?0<l.length&&!c.aa&&(c.aa=!0,(s=c.l).g==c&&s.$&&!s.L&&(s.h.info("Great, no buffering proxy detected. Bytes received: "+l.length),br(s),s.L=!0,Ai(11))):(ua(c.j,c.m,l,"[Invalid Chunked Response]"),jo(c),vr(c))}function Ms(c,s){var l=c.C,h=s.indexOf("\n",l);return-1==h?il:(l=Number(s.substring(l,h)),isNaN(l)?ha:(h+=1)+l>s.length?il:(s=s.substr(h,l),c.C=h+l,s))}function Dt(c){c.Y=Date.now()+c.P,ti(c,c.P)}function ti(c,s){if(null!=c.B)throw Error("WatchDog timer not null");c.B=da(qt(c.eb,c),s)}function oc(c){c.B&&(Ce.clearTimeout(c.B),c.B=null)}function vr(c){0==c.l.G||c.I||ao(c.l,c)}function jo(c){oc(c);var s=c.L;s&&"function"==typeof s.na&&s.na(),c.L=null,tt(c.W),pt(c.V),c.g&&(s=c.g,c.g=null,s.abort(),s.na())}function et(c,s){try{var l=c.l;if(0!=l.G&&(l.g==c||Eo(l.i,c)))if(l.I=c.N,!c.J&&Eo(l.i,c)&&3==l.G){try{var h=l.Ca.g.parse(s)}catch{h=null}if(Array.isArray(h)&&3==h.length){var m=h;if(0==m[0]){e:if(!l.u){if(l.g){if(!(l.g.F+3e3<c.F))break e;dl(l),yi(l)}ac(l),Ai(18)}}else l.ta=m[1],0<l.ta-l.U&&37500>m[2]&&l.N&&0==l.A&&!l.v&&(l.v=da(qt(l.ab,l),6e3));if(1>=$i(l.i)&&l.ka){try{l.ka()}catch{}l.ka=void 0}}else cc(l,11)}else if((c.J||l.g==c)&&dl(l),!Rn(s))for(m=l.Ca.g.parse(s),s=0;s<m.length;s++){var y=m[s];if(l.U=y[0],y=y[1],2==l.G)if("c"==y[0]){l.J=y[1],l.la=y[2];var b=y[3];null!=b&&(l.ma=b,l.h.info("VER="+l.ma));var D=y[4];null!=D&&(l.za=D,l.h.info("SVER="+l.za));var T=y[5];null!=T&&"number"==typeof T&&0<T&&(l.K=h=1.5*T,l.h.info("backChannelRequestTimeoutMs_="+h)),h=l;var O=c.g;if(O){var P=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var B=h.i;!B.g&&(ft(P,"spdy")||ft(P,"quic")||ft(P,"h2"))&&(B.j=B.l,B.g=new Set,B.h&&(Tt(B,B.h),B.h=null))}if(h.D){var z=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(h.sa=z,_t(h.F,h.D,z))}}l.G=3,l.j&&l.j.xa(),l.$&&(l.O=Date.now()-c.F,l.h.info("Handshake RTT: "+l.O+"ms"));var re=c;if((h=l).oa=je(h,h.H?h.la:null,h.W),re.J){ol(h.i,re);var te=re,he=h.K;he&&te.setTimeout(he),te.B&&(oc(te),Dt(te)),h.g=re}else Ri(h);0<l.l.length&&ma(l)}else"stop"!=y[0]&&"close"!=y[0]||cc(l,7);else 3==l.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?cc(l,7):so(l):"noop"!=y[0]&&l.j&&l.j.wa(y),l.A=0)}la(4)}catch{}}function xd(c,s){if(c.forEach&&"function"==typeof c.forEach)c.forEach(s,void 0);else if(xe(c)||"string"==typeof c)st(c,s,void 0);else{if(c.T&&"function"==typeof c.T)var l=c.T();else if(c.R&&"function"==typeof c.R)l=void 0;else if(xe(c)||"string"==typeof c){l=[];for(var h=c.length,m=0;m<h;m++)l.push(m)}else for(m in l=[],h=0,c)l[h++]=m;h=function ut(c){if(c.R&&"function"==typeof c.R)return c.R();if("string"==typeof c)return c.split("");if(xe(c)){for(var s=[],l=c.length,h=0;h<l;h++)s.push(c[h]);return s}for(h in s=[],l=0,c)s[l++]=c[h];return s}(c),m=h.length;for(var y=0;y<m;y++)s.call(void 0,h[y],l&&l[y],c)}}function M(c,s){this.h={},this.g=[],this.i=0;var l=arguments.length;if(1<l){if(l%2)throw Error("Uneven number of arguments");for(var h=0;h<l;h+=2)this.set(arguments[h],arguments[h+1])}else if(c)if(c instanceof M)for(l=c.T(),h=0;h<l.length;h++)this.set(l[h],c.get(l[h]));else for(h in c)this.set(h,c[h])}function x(c){if(c.i!=c.g.length){for(var s=0,l=0;s<c.g.length;){var h=c.g[s];L(c.h,h)&&(c.g[l++]=h),s++}c.g.length=l}if(c.i!=c.g.length){var m={};for(l=s=0;s<c.g.length;)L(m,h=c.g[s])||(c.g[l++]=h,m[h]=1),s++;c.g.length=l}}function L(c,s){return Object.prototype.hasOwnProperty.call(c,s)}(le=pn.prototype).setTimeout=function(c){this.P=c},le.gb=function(c){c=c.target;var s=this.L;s&&3==Ns(c)?s.l():this.Ia(c)},le.Ia=function(c){try{if(c==this.g)e:{var s=Ns(this.g),l=this.g.Da(),h=this.g.ba();if(!(3>s)&&(3!=s||gt||this.g&&(this.h.h||this.g.ga()||pa(this.g)))){this.I||4!=s||7==l||la(8==l||0>=h?3:2),oc(this);var m=this.g.ba();this.N=m;t:if(Xc(this)){var y=pa(this.g);c="";var b=y.length,D=4==Ns(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){jo(this),vr(this);var T="";break t}this.h.i=new Ce.TextDecoder}for(l=0;l<b;l++)this.h.h=!0,c+=this.h.i.decode(y[l],{stream:D&&l==b-1});y.splice(0,b),this.h.g+=c,this.C=0,T=this.h.g}else T=this.g.ga();if(this.i=200==m,function Lo(c,s,l,h,m,y,b){c.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+m+"]: "+s+"\n"+l+"\n"+y+" "+b})}(this.j,this.u,this.A,this.m,this.X,s,m),this.i){if(this.$&&!this.J){t:{if(this.g){var O,P=this.g;if((O=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rn(O)){var B=O;break t}}B=null}if(!(m=B)){this.i=!1,this.o=3,Ai(12),jo(this),vr(this);break e}ua(this.j,this.m,m,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,et(this,m)}this.U?(At(this,s,T),gt&&this.i&&3==s&&(rs(this.V,this.W,"tick",this.fb),this.W.start())):(ua(this.j,this.m,T,null),et(this,T)),4==s&&jo(this),this.i&&!this.I&&(4==s?ao(this.l,this):(this.i=!1,Dt(this)))}else 400==m&&0<T.indexOf("Unknown SID")?(this.o=3,Ai(12)):(this.o=0,Ai(13)),jo(this),vr(this)}}}catch{}},le.fb=function(){if(this.g){var c=Ns(this.g),s=this.g.ga();this.C<s.length&&(oc(this),At(this,c,s),this.i&&4!=c&&Dt(this))}},le.cancel=function(){this.I=!0,jo(this)},le.eb=function(){this.B=null;var c=Date.now();0<=c-this.Y?(function As(c,s){c.info(function(){return"TIMEOUT: "+s})}(this.j,this.A),2!=this.K&&(la(3),Ai(17)),jo(this),this.o=2,vr(this)):ti(this,this.Y-c)},(le=M.prototype).R=function(){x(this);for(var c=[],s=0;s<this.g.length;s++)c.push(this.h[this.g[s]]);return c},le.T=function(){return x(this),this.g.concat()},le.get=function(c,s){return L(this.h,c)?this.h[c]:s},le.set=function(c,s){L(this.h,c)||(this.i++,this.g.push(c)),this.h[c]=s},le.forEach=function(c,s){for(var l=this.T(),h=0;h<l.length;h++){var m=l[h],y=this.get(m);c.call(s,y,m,this)}};var U=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ie(c,s){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,c instanceof ie){this.g=void 0!==s?s:c.g,Be(this,c.j),this.s=c.s,Ne(this,c.i),Ze(this,c.m),this.l=c.l,s=c.h;var l=new ne;l.i=s.i,s.g&&(l.g=new M(s.g),l.h=s.h),yt(this,l),this.o=c.o}else c&&(l=String(c).match(U))?(this.g=!!s,Be(this,l[1]||"",!0),this.s=Pn(l[2]||""),Ne(this,l[3]||"",!0),Ze(this,l[4]),this.l=Pn(l[5]||"",!0),yt(this,l[6]||"",!0),this.o=Pn(l[7]||"")):(this.g=!!s,this.h=new ne(null,this.g))}function De(c){return new ie(c)}function Be(c,s,l){c.j=l?Pn(s,!0):s,c.j&&(c.j=c.j.replace(/:$/,""))}function Ne(c,s,l){c.i=l?Pn(s,!0):s}function Ze(c,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);c.m=s}else c.m=null}function yt(c,s,l){s instanceof ne?(c.h=s,function df(c,s){s&&!c.j&&(_r(c),c.i=null,c.g.forEach(function(l,h){var m=h.toLowerCase();h!=m&&(Oe(this,h),lf(this,m,l))},c)),c.j=s}(c.h,c.g)):(l||(s=ur(s,zi)),c.h=new ne(s,c.g))}function _t(c,s,l){c.h.set(s,l)}function Sn(c){return _t(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Pn(c,s){return c?s?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ur(c,s,l){return"string"==typeof c?(c=encodeURI(c).replace(s,ss),l&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ss(c){return"%"+((c=c.charCodeAt(0))>>4&15).toString(16)+(15&c).toString(16)}ie.prototype.toString=function(){var c=[],s=this.j;s&&c.push(ur(s,ni,!0),":");var l=this.i;return(l||"file"==s)&&(c.push("//"),(s=this.s)&&c.push(ur(s,ni,!0),"@"),c.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(l=this.m)&&c.push(":",String(l))),(l=this.l)&&(this.i&&"/"!=l.charAt(0)&&c.push("/"),c.push(ur(l,"/"==l.charAt(0)?Bo:zr,!0))),(l=this.h.toString())&&c.push("?",l),(l=this.o)&&c.push("#",ur(l,sc)),c.join("")};var ni=/[#\/\?@]/g,zr=/[#\?:]/g,Bo=/[#\?]/g,zi=/[#\?@]/g,sc=/#/g;function ne(c,s){this.h=this.g=null,this.i=c||null,this.j=!!s}function _r(c){c.g||(c.g=new M,c.h=0,c.i&&function K(c,s){if(c){c=c.split("&");for(var l=0;l<c.length;l++){var h=c[l].indexOf("="),m=null;if(0<=h){var y=c[l].substring(0,h);m=c[l].substring(h+1)}else y=c[l];s(y,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}(c.i,function(s,l){c.add(decodeURIComponent(s.replace(/\+/g," ")),l)}))}function Oe(c,s){_r(c),s=Rs(c,s),L(c.g.h,s)&&(c.i=null,c.h-=c.g.get(s).length,L((c=c.g).h,s)&&(delete c.h[s],c.i--,c.g.length>2*c.i&&x(c)))}function fa(c,s){return _r(c),s=Rs(c,s),L(c.g.h,s)}function lf(c,s,l){Oe(c,s),0<l.length&&(c.i=null,c.g.set(Rs(c,s),Mr(l)),c.h+=l.length)}function Rs(c,s){return s=String(s),c.j&&(s=s.toLowerCase()),s}(le=ne.prototype).add=function(c,s){_r(this),this.i=null,c=Rs(this,c);var l=this.g.get(c);return l||this.g.set(c,l=[]),l.push(s),this.h+=1,this},le.forEach=function(c,s){_r(this),this.g.forEach(function(l,h){st(l,function(m){c.call(s,m,h,this)},this)},this)},le.T=function(){_r(this);for(var c=this.g.R(),s=this.g.T(),l=[],h=0;h<s.length;h++)for(var m=c[h],y=0;y<m.length;y++)l.push(s[h]);return l},le.R=function(c){_r(this);var s=[];if("string"==typeof c)fa(this,c)&&(s=Q(s,this.g.get(Rs(this,c))));else{c=this.g.R();for(var l=0;l<c.length;l++)s=Q(s,c[l])}return s},le.set=function(c,s){return _r(this),this.i=null,fa(this,c=Rs(this,c))&&(this.h-=this.g.get(c).length),this.g.set(c,[s]),this.h+=1,this},le.get=function(c,s){return c&&0<(c=this.R(c)).length?String(c[0]):s},le.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var c=[],s=this.g.T(),l=0;l<s.length;l++){var h=s[l],m=encodeURIComponent(String(h));h=this.R(h);for(var y=0;y<h.length;y++){var b=m;""!==h[y]&&(b+="="+encodeURIComponent(String(h[y]))),c.push(b)}}return this.i=c.join("&")};var hf=function c(s,l){this.h=s,this.g=l};function ff(c){this.l=c||as,c=Ce.PerformanceNavigationTiming?0<(c=Ce.performance.getEntriesByType("navigation")).length&&("hq"==c[0].nextHopProtocol||"h2"==c[0].nextHopProtocol):!!(Ce.g&&Ce.g.Ea&&Ce.g.Ea()&&Ce.g.Ea().Zb),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var as=10;function Qc(c){return!!c.h||!!c.g&&c.g.size>=c.j}function $i(c){return c.h?1:c.g?c.g.size:0}function Eo(c,s){return c.h?c.h==s:!!c.g&&c.g.has(s)}function Tt(c,s){c.g?c.g.add(s):c.h=s}function ol(c,s){c.h&&c.h==s?c.h=null:c.g&&c.g.has(s)&&c.g.delete(s)}function pf(c){var s,l;if(null!=c.h)return c.i.concat(c.h.D);if(null!=c.g&&0!==c.g.size){var h=c.i;try{for(var m=Ar(c.g.values()),y=m.next();!y.done;y=m.next())h=h.concat(y.value.D)}catch(D){s={error:D}}finally{try{y&&!y.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}return h}return Mr(c.i)}function Jc(){}function oo(){this.g=new Jc}function ks(c,s,l){var h=l||"";try{xd(c,function(m,y){var b=m;Fe(m)&&(b=Or(m)),s.push(h+y+"="+encodeURIComponent(b))})}catch(m){throw s.push(h+"type="+encodeURIComponent("_badmap")),m}}function al(c,s,l,h,m){try{s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null,m(h)}catch{}}function eu(c){this.l=c.$b||null,this.j=c.ib||!1}function cl(c,s){Xt.call(this),this.D=c,this.u=s,this.m=void 0,this.readyState=tu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ff.prototype.cancel=function(){var c,s;if(this.i=pf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var l=Ar(this.g.values()),h=l.next();!h.done;h=l.next())h.value.cancel()}catch(y){c={error:y}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(c)throw c.error}}this.g.clear()}},Jc.prototype.stringify=function(c){return Ce.JSON.stringify(c,void 0)},Jc.prototype.parse=function(c){return Ce.JSON.parse(c,void 0)},ht(eu,cf),eu.prototype.g=function(){return new cl(this.l,this.j)},eu.prototype.i=function(c){return function(){return c}}({}),ht(cl,Xt);var tu=0;function Ad(c){c.j.read().then(c.Sa.bind(c)).catch(c.ha.bind(c))}function cs(c){c.readyState=4,c.l=null,c.j=null,c.A=null,Pr(c)}function Pr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}(le=cl.prototype).open=function(c,s){if(this.readyState!=tu)throw this.abort(),Error("Error reopening a connection");this.C=c,this.B=s,this.readyState=1,Pr(this)},le.send=function(c){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var s={headers:this.v,method:this.C,credentials:this.m,cache:void 0};c&&(s.body=c),(this.D||Ce).fetch(new Request(this.B,s)).then(this.Va.bind(this),this.ha.bind(this))},le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cs(this)),this.readyState=tu},le.Va=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if("arraybuffer"===this.responseType)c.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ce.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ad(this)}else c.text().then(this.Ua.bind(this),this.ha.bind(this))},le.Sa=function(c){if(this.g){if(this.u&&c.value)this.response.push(c.value);else if(!this.u){var s=c.value?c.value:new Uint8Array(0);(s=this.A.decode(s,{stream:!c.done}))&&(this.response=this.responseText+=s)}c.done?cs(this):Pr(this),3==this.readyState&&Ad(this)}},le.Ua=function(c){this.g&&(this.response=this.responseText=c,cs(this))},le.Ta=function(c){this.g&&(this.response=c,cs(this))},le.ha=function(){this.g&&cs(this)},le.setRequestHeader=function(c,s){this.v.append(c,s)},le.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},le.getAllResponseHeaders=function(){if(!this.h)return"";for(var c=[],s=this.h.entries(),l=s.next();!l.done;)c.push((l=l.value)[0]+": "+l[1]),l=s.next();return c.join("\r\n")},Object.defineProperty(cl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(c){this.m=c?"include":"same-origin"}});var kp=Ce.JSON.parse;function lr(c){Xt.call(this),this.headers=new M,this.u=c||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ul,this.K=this.L=!1}ht(lr,Xt);var ul="",Op=/^https?$/i,ll=["POST","PUT"];function dg(c){return"content-type"==c.toLowerCase()}function Np(c,s){c.h=!1,c.g&&(c.l=!0,c.g.abort(),c.l=!1),c.j=s,c.m=5,nu(c),Os(c)}function nu(c){c.D||(c.D=!0,vt(c,"complete"),vt(c,"error"))}function mf(c){if(c.h&&typeof $<"u"&&(!c.C[1]||4!=Ns(c)||2!=c.ba()))if(c.v&&4==Ns(c))Gc(c.Fa,0,c);else if(vt(c,"readystatechange"),4==Ns(c)){c.h=!1;try{var h,s=c.ba();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}if(!(h=l)){var m;if(m=0===s){var y=String(c.H).match(U)[1]||null;if(!y&&Ce.self&&Ce.self.location){var b=Ce.self.location.protocol;y=b.substr(0,b.length-1)}m=!Op.test(y?y.toLowerCase():"")}h=m}if(h)vt(c,"complete"),vt(c,"success");else{c.m=6;try{var D=2<Ns(c)?c.g.statusText:""}catch{D=""}c.j=D+" ["+c.ba()+"]",nu(c)}}finally{Os(c)}}}function Os(c,s){if(c.g){Pp(c);var l=c.g,h=c.C[0]?ke:null;c.g=null,c.C=null,s||vt(c,"ready");try{l.onreadystatechange=h}catch{}}}function Pp(c){c.g&&c.K&&(c.g.ontimeout=null),c.A&&(Ce.clearTimeout(c.A),c.A=null)}function Ns(c){return c.g?c.g.readyState:0}function pa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.J){case ul:case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ru(c,s,l){e:{for(h in l){var h=!1;break e}h=!0}h||(l=function Md(c){var s="";return Y(c,function(l,h){s+=h,s+=":",s+=l,s+="\r\n"}),s}(l),"string"==typeof c?null!=l&&encodeURIComponent(String(l)):_t(c,s,l))}function Fn(c,s,l){return l&&l.internalChannelParams&&l.internalChannelParams[c]||s}function nr(c){this.za=0,this.l=[],this.h=new rn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fn("failFast",!1,c),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fn("baseRetryDelayMs",5e3,c),this.$a=Fn("retryDelaySeedMs",1e4,c),this.Ya=Fn("forwardChannelMaxRetries",2,c),this.ra=Fn("forwardChannelRequestTimeoutMs",2e4,c),this.qa=c&&c.xmlHttpFactory||void 0,this.Ba=c&&c.Yb||!1,this.K=void 0,this.H=c&&c.supportsCrossDomainXhr||!1,this.J="",this.i=new ff(c&&c.concurrentRequestLimit),this.Ca=new oo,this.ja=c&&c.fastHandshake||!1,this.Ra=c&&c.Wb||!1,c&&c.Aa&&this.h.Aa(),c&&c.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&c&&c.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!c||!1!==c.Xb}function so(c){if(Ln(c),3==c.G){var s=c.V++,l=De(c.F);_t(l,"SID",c.J),_t(l,"RID",s),_t(l,"TYPE","terminate"),Wt(c,l),(s=new pn(c,c.h,s,void 0)).K=2,s.v=Sn(De(l)),l=!1,Ce.navigator&&Ce.navigator.sendBeacon&&(l=Ce.navigator.sendBeacon(s.v.toString(),"")),!l&&Ce.Image&&((new Image).src=s.v,l=!0),l||(s.g=Mt(s.l,null),s.g.ea(s.v)),s.F=Date.now(),Dt(s)}Qn(c)}function yi(c){c.g&&(br(c),c.g.cancel(),c.g=null)}function Ln(c){yi(c),c.u&&(Ce.clearTimeout(c.u),c.u=null),dl(c),c.i.cancel(),c.m&&("number"==typeof c.m&&Ce.clearTimeout(c.m),c.m=null)}function iu(c,s){c.l.push(new hf(c.Za++,s)),3==c.G&&ma(c)}function ma(c){Qc(c.i)||c.m||(c.m=!0,Id(c.Ha,c),c.C=0)}function Mi(c,s){var l;l=s?s.m:c.V++;var h=De(c.F);_t(h,"SID",c.J),_t(h,"RID",l),_t(h,"AID",c.U),Wt(c,h),c.o&&c.s&&ru(h,c.o,c.s),l=new pn(c,c.h,l,c.C+1),null===c.o&&(l.H=c.s),s&&(c.l=s.D.concat(c.l)),s=ri(c,l,1e3),l.setTimeout(Math.round(.5*c.ra)+Math.round(.5*c.ra*Math.random())),Tt(c.i,l),os(l,h,s)}function Wt(c,s){c.j&&xd({},function(l,h){_t(s,h,l)})}function ri(c,s,l){l=Math.min(c.l.length,l);var h=c.j?qt(c.j.Oa,c.j,c):null;e:for(var m=c.l,y=-1;;){var b=["count="+l];-1==y?0<l?b.push("ofs="+(y=m[0].h)):y=0:b.push("ofs="+y);for(var D=!0,T=0;T<l;T++){var O=m[T].h,P=m[T].g;if(0>(O-=y))y=Math.max(0,m[T].h-100),D=!1;else try{ks(P,b,"req"+O+"_")}catch{h&&h(P)}}if(D){h=b.join("&");break e}}return c=c.l.splice(0,l),s.D=c,h}function Ri(c){c.g||c.u||(c.Y=1,Id(c.Ga,c),c.A=0)}function ac(c){return!(c.g||c.u||3<=c.A||(c.Y++,c.u=da(qt(c.Ga,c),gf(c,c.A)),c.A++,0))}function br(c){null!=c.B&&(Ce.clearTimeout(c.B),c.B=null)}function Ps(c){c.g=new pn(c,c.h,"rpc",c.Y),null===c.o&&(c.g.H=c.s),c.g.O=0;var s=De(c.oa);_t(s,"RID","rpc"),_t(s,"SID",c.J),_t(s,"CI",c.N?"0":"1"),_t(s,"AID",c.U),Wt(c,s),_t(s,"TYPE","xmlhttp"),c.o&&c.s&&ru(s,c.o,c.s),c.K&&c.g.setTimeout(c.K);var l=c.g;c=c.la,l.K=1,l.v=Sn(De(s)),l.s=null,l.U=!0,ic(l,c)}function dl(c){null!=c.v&&(Ce.clearTimeout(c.v),c.v=null)}function ao(c,s){var l=null;if(c.g==s){dl(c),br(c),c.g=null;var h=2}else{if(!Eo(c.i,s))return;l=s.D,ol(c.i,s),h=1}if(c.I=s.N,0!=c.G)if(s.i)if(1==h){l=s.s?s.s.length:0,s=Date.now()-s.F;var m=c.C;vt(h=nc(),new af(h,l,s,m)),ma(c)}else Ri(c);else if(3==(m=s.o)||0==m&&0<c.I||!(1==h&&function _n(c,s){return!($i(c.i)>=c.i.j-(c.m?1:0)||(c.m?(c.l=s.D.concat(c.l),0):1==c.G||2==c.G||c.C>=(c.Xa?0:c.Ya)||(c.m=da(qt(c.Ha,c,s),gf(c,c.C)),c.C++,0)))}(c,s)||2==h&&ac(c)))switch(l&&0<l.length&&(s=c.i,s.i=s.i.concat(l)),m){case 1:cc(c,5);break;case 4:cc(c,10);break;case 3:cc(c,6);break;default:cc(c,2)}}function gf(c,s){var l=c.Pa+Math.floor(Math.random()*c.$a);return c.j||(l*=2),l*s}function cc(c,s){if(c.h.info("Error code "+s),2==s){var l=null;c.j&&(l=null);var h=qt(c.jb,c);l||(l=new ie("//www.google.com/images/cleardot.gif"),Ce.location&&"http"==Ce.location.protocol||Be(l,"https"),Sn(l)),function sl(c,s){var l=new rn;if(Ce.Image){var h=new Image;h.onload=ar(al,l,h,"TestLoadImage: loaded",!0,s),h.onerror=ar(al,l,h,"TestLoadImage: error",!1,s),h.onabort=ar(al,l,h,"TestLoadImage: abort",!1,s),h.ontimeout=ar(al,l,h,"TestLoadImage: timeout",!1,s),Ce.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=c}else s(!1)}(l.toString(),h)}else Ai(2);c.G=0,c.j&&c.j.va(s),Qn(c),Ln(c)}function Qn(c){c.G=0,c.I=-1,c.j&&((0!=pf(c.i).length||0!=c.l.length)&&(c.i.i.length=0,Mr(c.l),c.l.length=0),c.j.ua())}function je(c,s,l){var h=function yr(c){return c instanceof ie?De(c):new ie(c,void 0)}(l);if(""!=h.i)s&&Ne(h,s+"."+h.i),Ze(h,h.m);else{var m=Ce.location;h=function on(c,s,l,h){var m=new ie(null,void 0);return c&&Be(m,c),s&&Ne(m,s),l&&Ze(m,l),h&&(m.l=h),m}(m.protocol,s?s+"."+m.hostname:m.hostname,+m.port,l)}return c.aa&&Y(c.aa,function(y,b){_t(h,b,y)}),l=c.sa,(s=c.D)&&l&&_t(h,s,l),_t(h,"VER",c.ma),Wt(c,h),h}function Mt(c,s,l){if(s&&!c.H)throw Error("Can't create secondary domain capable XhrIo object.");return(s=new lr(l&&c.Ba&&!c.qa?new eu({ib:!0}):c.qa)).L=c.H,s}function Wn(){}function co(){if(Ke&&!(10<=Number(ro)))throw Error("Environmental error: no available transport.")}function $r(c,s){Xt.call(this),this.g=new nr(s),this.l=c,this.h=s&&s.messageUrlParams||null,c=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.s=c,c=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(c?c["X-WebChannel-Content-Type"]=s.messageContentType:c={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.ya&&(c?c["X-WebChannel-Client-Profile"]=s.ya:c={"X-WebChannel-Client-Profile":s.ya}),this.g.P=c,(c=s&&s.httpHeadersOverwriteParam)&&!Rn(c)&&(this.g.o=c),this.A=s&&s.supportsCrossDomainXhr||!1,this.v=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!Rn(s)&&(this.g.D=s,null!==(c=this.h)&&s in c&&s in(c=this.h)&&delete c[s]),this.j=new jn(this)}function ii(c){uf.call(this);var s=c.__sm__;if(s){e:{for(var l in s){c=l;break e}c=void 0}(this.i=c)&&(c=this.i,s=null!==s&&c in s?s[c]:void 0),this.data=s}else this.data=c}function ou(){Yc.call(this),this.status=1}function jn(c){this.g=c}(le=lr.prototype).ea=function(c,s,l,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+c);s=s?s.toUpperCase():"GET",this.H=c,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Re.g(),this.C=function Nr(c){return c.h||(c.h=c.i())}(this.u?this.u:Re),this.g.onreadystatechange=qt(this.Fa,this);try{this.F=!0,this.g.open(s,String(c),!0),this.F=!1}catch(y){return void Np(this,y)}c=l||"";var m=new M(this.headers);h&&xd(h,function(y,b){m.set(b,y)}),h=function to(c){e:{for(var s=dg,l=c.length,h="string"==typeof c?c.split(""):c,m=0;m<l;m++)if(m in h&&s.call(void 0,h[m],m,c)){s=m;break e}s=-1}return 0>s?null:"string"==typeof c?c.charAt(s):c[s]}(m.T()),l=Ce.FormData&&c instanceof Ce.FormData,!(0<=Ui(ll,s))||h||l||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),m.forEach(function(y,b){this.g.setRequestHeader(b,y)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pp(this),0<this.B&&((this.K=function Vo(c){return Ke&&function an(){return function Nt(c){var s=kn;return Object.prototype.hasOwnProperty.call(s,9)?s[9]:s[9]=c(9)}(function(){for(var c=0,s=no(String(St)).split("."),l=no("9").split("."),h=Math.max(s.length,l.length),m=0;0==c&&m<h;m++){var y=s[m]||"",b=l[m]||"";do{if(y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],0==y[0].length&&0==b[0].length)break;c=Jr(0==y[1].length?0:parseInt(y[1],10),0==b[1].length?0:parseInt(b[1],10))||Jr(0==y[2].length,0==b[2].length)||Jr(y[2],b[2]),y=y[3],b=b[3]}while(0==c)}return 0<=c})}()&&"number"==typeof c.timeout&&void 0!==c.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qt(this.pa,this)):this.A=Gc(this.pa,this.B,this)),this.v=!0,this.g.send(c),this.v=!1}catch(y){Np(this,y)}},le.pa=function(){typeof $<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vt(this,"timeout"),this.abort(8))},le.abort=function(c){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=c||7,vt(this,"complete"),vt(this,"abort"),Os(this))},le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Os(this,!0)),lr.Z.M.call(this)},le.Fa=function(){this.s||(this.F||this.v||this.l?mf(this):this.cb())},le.cb=function(){mf(this)},le.ba=function(){try{return 2<Ns(this)?this.g.status:-1}catch{return-1}},le.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},le.Qa=function(c){if(this.g){var s=this.g.responseText;return c&&0==s.indexOf(c)&&(s=s.substring(c.length)),kp(s)}},le.Da=function(){return this.m},le.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(le=nr.prototype).ma=8,le.G=1,le.hb=function(c){try{this.h.info("Origin Trials invoked: "+c)}catch{}},le.Ha=function(c){if(this.m)if(this.m=null,1==this.G){if(!c){this.V=Math.floor(1e5*Math.random()),c=this.V++;var s=new pn(this,this.h,c,void 0),l=this.s;if(this.P&&(l?me(l=J(l),this.P):l=this.P),null===this.o&&(s.H=l),this.ja)e:{for(var h=0,m=0;m<this.l.length;m++){var y=this.l[m];if(void 0===(y="__data__"in y.g&&"string"==typeof(y=y.g.__data__)?y.length:void 0))break;if(4096<(h+=y)){h=m;break e}if(4096===h||m===this.l.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=ri(this,s,h),_t(m=De(this.F),"RID",c),_t(m,"CVER",22),this.D&&_t(m,"X-HTTP-Session-Id",this.D),Wt(this,m),this.o&&l&&ru(m,this.o,l),Tt(this.i,s),this.Ra&&_t(m,"TYPE","init"),this.ja?(_t(m,"$req",h),_t(m,"SID","null"),s.$=!0,os(s,m,null)):os(s,m,h),this.G=2}}else 3==this.G&&(c?Mi(this,c):0==this.l.length||Qc(this.i)||Mi(this))},le.Ga=function(){if(this.u=null,Ps(this),this.$&&!(this.L||null==this.g||0>=this.O)){var c=2*this.O;this.h.info("BP detection timer enabled: "+c),this.B=da(qt(this.bb,this),c)}},le.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ai(10),yi(this),Ps(this))},le.ab=function(){null!=this.v&&(this.v=null,yi(this),ac(this),Ai(19))},le.jb=function(c){c?(this.h.info("Successfully pinged google.com"),Ai(2)):(this.h.info("Failed to ping google.com"),Ai(1))},(le=Wn.prototype).xa=function(){},le.wa=function(){},le.va=function(){},le.ua=function(){},le.Oa=function(){},co.prototype.g=function(c,s){return new $r(c,s)},ht($r,Xt),$r.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var c=this.g,s=this.l,l=this.h||void 0;c.Wa&&(c.h.info("Origin Trials enabled."),Id(qt(c.hb,c,s))),Ai(0),c.W=s,c.aa=l||{},c.N=c.X,c.F=je(c,null,c.W),ma(c)},$r.prototype.close=function(){so(this.g)},$r.prototype.u=function(c){if("string"==typeof c){var s={};s.__data__=c,iu(this.g,s)}else this.v?((s={}).__data__=Or(c),iu(this.g,s)):iu(this.g,c)},$r.prototype.M=function(){this.g.j=null,delete this.j,so(this.g),delete this.g,$r.Z.M.call(this)},ht(ii,uf),ht(ou,Yc),ht(jn,Wn),jn.prototype.xa=function(){vt(this.g,"a")},jn.prototype.wa=function(c){vt(this.g,new ii(c))},jn.prototype.va=function(c){vt(this.g,new ou(c))},jn.prototype.ua=function(){vt(this.g,"b")},co.prototype.createWebChannel=co.prototype.g,$r.prototype.send=$r.prototype.u,$r.prototype.open=$r.prototype.m,$r.prototype.close=$r.prototype.close,Kc.NO_ERROR=0,Kc.TIMEOUT=8,Kc.HTTP_ERROR=6,wo.COMPLETE="complete",ct.EventType=rc,rc.OPEN="a",rc.CLOSE="b",rc.ERROR="c",rc.MESSAGE="d",Xt.prototype.listen=Xt.prototype.N,lr.prototype.listenOnce=lr.prototype.O,lr.prototype.getLastError=lr.prototype.La,lr.prototype.getLastErrorCode=lr.prototype.Da,lr.prototype.getStatus=lr.prototype.ba,lr.prototype.getResponseJson=lr.prototype.Qa,lr.prototype.getResponseText=lr.prototype.ga,lr.prototype.send=lr.prototype.ea;var bt=Kc,su=wo,Fp=is,ga_PROXY=10,ga_NOPROXY=11,Tn=eu,Fs=ct,au=lr,_i=function(){function c(s,l){var h=this;this.previousValue=s,l&&(l.sequenceNumberHandler=function(m){return h.t(m)},this.i=function(m){return l.writeSequenceNumber(m)})}return c.prototype.t=function(s){return this.previousValue=Math.max(s,this.previousValue),this.previousValue},c.prototype.next=function(){var s=++this.previousValue;return this.i&&this.i(s),s},c}();_i.o=-1;var ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},we=function(c){function s(l,h){var m=this;return(m=c.call(this,h)||this).code=l,m.message=h,m.name="FirebaseError",m.toString=function(){return m.name+": [code="+m.code+"]: "+m.message},m}return(0,S.ZT)(s,c),s}(Error),bi=new rt.Yd("@firebase/firestore");function wi(){return bi.logLevel}function pe(c){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(bi.logLevel<=rt.in.DEBUG){var h=s.map(hl);bi.debug.apply(bi,(0,S.ev)(["Firestore (8.10.1): "+c],h))}}function Fr(c){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(bi.logLevel<=rt.in.ERROR){var h=s.map(hl);bi.error.apply(bi,(0,S.ev)(["Firestore (8.10.1): "+c],h))}}function cu(c){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(bi.logLevel<=rt.in.WARN){var h=s.map(hl);bi.warn.apply(bi,(0,S.ev)(["Firestore (8.10.1): "+c],h))}}function hl(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function He(c){void 0===c&&(c="Unexpected state");var s="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+c;throw Fr(s),new Error(s)}function nt(c,s){c||He()}function Pe(c,s){return c}function Ls(c){var s=typeof self<"u"&&(self.crypto||self.msCrypto),l=new Uint8Array(c);if(s&&"function"==typeof s.getRandomValues)s.getRandomValues(l);else for(var h=0;h<c;h++)l[h]=Math.floor(256*Math.random());return l}var ln=function(){function c(){}return c.u=function(){for(var l=62*Math.floor(256/62),h="";h.length<20;)for(var m=Ls(40),y=0;y<m.length;++y)h.length<20&&m[y]<l&&(h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(m[y]%62));return h},c}();function Xe(c,s){return c<s?-1:c>s?1:0}function wr(c,s,l){return c.length===s.length&&c.every(function(h,m){return l(h,s[m])})}function dr(c){return c+"\0"}var qr=function(){function c(s,l){if(this.seconds=s,this.nanoseconds=l,l<0)throw new we(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(l>=1e9)throw new we(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(s<-62135596800)throw new we(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s);if(s>=253402300800)throw new we(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s)}return c.now=function(){return c.fromMillis(Date.now())},c.fromDate=function(s){return c.fromMillis(s.getTime())},c.fromMillis=function(s){var l=Math.floor(s/1e3);return new c(l,Math.floor(1e6*(s-1e3*l)))},c.prototype.toDate=function(){return new Date(this.toMillis())},c.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},c.prototype._compareTo=function(s){return this.seconds===s.seconds?Xe(this.nanoseconds,s.nanoseconds):Xe(this.seconds,s.seconds)},c.prototype.isEqual=function(s){return s.seconds===this.seconds&&s.nanoseconds===this.nanoseconds},c.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},c.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},c.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},c}(),mt=function(){function c(s){this.timestamp=s}return c.fromTimestamp=function(s){return new c(s)},c.min=function(){return new c(new qr(0,0))},c.prototype.compareTo=function(s){return this.timestamp._compareTo(s.timestamp)},c.prototype.isEqual=function(s){return this.timestamp.isEqual(s.timestamp)},c.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},c.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},c.prototype.toTimestamp=function(){return this.timestamp},c}();function ya(c){var s=0;for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&s++;return s}function Er(c,s){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&s(l,c[l])}function Rd(c){for(var s in c)if(Object.prototype.hasOwnProperty.call(c,s))return!1;return!0}var uu=function(){function c(s,l,h){void 0===l?l=0:l>s.length&&He(),void 0===h?h=s.length-l:h>s.length-l&&He(),this.segments=s,this.offset=l,this.len=h}return Object.defineProperty(c.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(s){return 0===c.comparator(this,s)},c.prototype.child=function(s){var l=this.segments.slice(this.offset,this.limit());return s instanceof c?s.forEach(function(h){l.push(h)}):l.push(s),this.construct(l)},c.prototype.limit=function(){return this.offset+this.length},c.prototype.popFirst=function(s){return this.construct(this.segments,this.offset+(s=void 0===s?1:s),this.length-s)},c.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},c.prototype.firstSegment=function(){return this.segments[this.offset]},c.prototype.lastSegment=function(){return this.get(this.length-1)},c.prototype.get=function(s){return this.segments[this.offset+s]},c.prototype.isEmpty=function(){return 0===this.length},c.prototype.isPrefixOf=function(s){if(s.length<this.length)return!1;for(var l=0;l<this.length;l++)if(this.get(l)!==s.get(l))return!1;return!0},c.prototype.isImmediateParentOf=function(s){if(this.length+1!==s.length)return!1;for(var l=0;l<this.length;l++)if(this.get(l)!==s.get(l))return!1;return!0},c.prototype.forEach=function(s){for(var l=this.offset,h=this.limit();l<h;l++)s(this.segments[l])},c.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},c.comparator=function(s,l){for(var h=Math.min(s.length,l.length),m=0;m<h;m++){var y=s.get(m),b=l.get(m);if(y<b)return-1;if(y>b)return 1}return s.length<l.length?-1:s.length>l.length?1:0},c}(),Kt=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,S.ZT)(s,c),s.prototype.construct=function(l,h,m){return new s(l,h,m)},s.prototype.canonicalString=function(){return this.toArray().join("/")},s.prototype.toString=function(){return this.canonicalString()},s.fromString=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];for(var m=[],y=0,b=l;y<b.length;y++){var D=b[y];if(D.indexOf("//")>=0)throw new we(ue.INVALID_ARGUMENT,"Invalid segment ("+D+"). Paths must not contain // in them.");m.push.apply(m,D.split("/").filter(function(T){return T.length>0}))}return new s(m)},s.emptyPath=function(){return new s([])},s}(uu),zv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Uo=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,S.ZT)(s,c),s.prototype.construct=function(l,h,m){return new s(l,h,m)},s.isValidIdentifier=function(l){return zv.test(l)},s.prototype.canonicalString=function(){return this.toArray().map(function(l){return l=l.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),s.isValidIdentifier(l)||(l="`"+l+"`"),l}).join(".")},s.prototype.toString=function(){return this.canonicalString()},s.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},s.keyField=function(){return new s(["__name__"])},s.fromServerFormat=function(l){for(var h=[],m="",y=0,b=function(){if(0===m.length)throw new we(ue.INVALID_ARGUMENT,"Invalid field path ("+l+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");h.push(m),m=""},D=!1;y<l.length;){var T=l[y];if("\\"===T){if(y+1===l.length)throw new we(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+l);var O=l[y+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new we(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+l);m+=O,y+=2}else"`"===T?(D=!D,y++):"."!==T||D?(m+=T,y++):(b(),y++)}if(b(),D)throw new we(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+l);return new s(h)},s.emptyPath=function(){return new s([])},s}(uu),Do=function(){function c(s){this.fields=s,s.sort(Uo.comparator)}return c.prototype.covers=function(s){for(var l=0,h=this.fields;l<h.length;l++)if(h[l].isPrefixOf(s))return!0;return!1},c.prototype.isEqual=function(s){return wr(this.fields,s.fields,function(l,h){return l.isEqual(h)})},c}(),ki=function(){function c(s){this.binaryString=s}return c.fromBase64String=function(s){return new c(atob(s))},c.fromUint8Array=function(s){return new c(function(l){for(var h="",m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h}(s))},c.prototype.toBase64=function(){return btoa(this.binaryString)},c.prototype.toUint8Array=function(){return function(s){for(var l=new Uint8Array(s.length),h=0;h<s.length;h++)l[h]=s.charCodeAt(h);return l}(this.binaryString)},c.prototype.approximateByteSize=function(){return 2*this.binaryString.length},c.prototype.compareTo=function(s){return Xe(this.binaryString,s.binaryString)},c.prototype.isEqual=function(s){return this.binaryString===s.binaryString},c}();ki.EMPTY_BYTE_STRING=new ki("");var I_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(c){if(nt(!!c),"string"==typeof c){var s=0,l=I_.exec(c);if(nt(!!l),l[1]){var h=l[1];h=(h+"000000000").substr(0,9),s=Number(h)}var m=new Date(c);return{seconds:Math.floor(m.getTime()/1e3),nanos:s}}return{seconds:Lr(c.seconds),nanos:Lr(c.nanos)}}function Lr(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function kd(c){return"string"==typeof c?ki.fromBase64String(c):ki.fromUint8Array(c)}function hg(c){var s,l;return"server_timestamp"===(null===(l=((null===(s=c?.mapValue)||void 0===s?void 0:s.fields)||{}).__type__)||void 0===l?void 0:l.stringValue)}function fg(c){var s=c.mapValue.fields.__previous_value__;return hg(s)?fg(s):s}function fl(c){var s=ds(c.mapValue.fields.__local_write_time__.timestampValue);return new qr(s.seconds,s.nanos)}function uc(c){return null==c}function Od(c){return 0===c&&1/c==-1/0}function We(c){return"number"==typeof c&&Number.isInteger(c)&&!Od(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}var Ve=function(){function c(s){this.path=s}return c.fromPath=function(s){return new c(Kt.fromString(s))},c.fromName=function(s){return new c(Kt.fromString(s).popFirst(5))},c.prototype.hasCollectionId=function(s){return this.path.length>=2&&this.path.get(this.path.length-2)===s},c.prototype.isEqual=function(s){return null!==s&&0===Kt.comparator(this.path,s.path)},c.prototype.toString=function(){return this.path.toString()},c.comparator=function(s,l){return Kt.comparator(s.path,l.path)},c.isDocumentKey=function(s){return s.length%2==0},c.fromSegments=function(s){return new c(new Kt(s.slice()))},c}();function Ei(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?hg(c)?4:10:He()}function hs(c,s){var m,l=Ei(c);if(l!==Ei(s))return!1;switch(l){case 0:return!0;case 1:return c.booleanValue===s.booleanValue;case 4:return fl(c).isEqual(fl(s));case 3:return function(h,m){if("string"==typeof h.timestampValue&&"string"==typeof m.timestampValue&&h.timestampValue.length===m.timestampValue.length)return h.timestampValue===m.timestampValue;var y=ds(h.timestampValue),b=ds(m.timestampValue);return y.seconds===b.seconds&&y.nanos===b.nanos}(c,s);case 5:return c.stringValue===s.stringValue;case 6:return m=s,kd(c.bytesValue).isEqual(kd(m.bytesValue));case 7:return c.referenceValue===s.referenceValue;case 8:return function(h,m){return Lr(h.geoPointValue.latitude)===Lr(m.geoPointValue.latitude)&&Lr(h.geoPointValue.longitude)===Lr(m.geoPointValue.longitude)}(c,s);case 2:return function(h,m){if("integerValue"in h&&"integerValue"in m)return Lr(h.integerValue)===Lr(m.integerValue);if("doubleValue"in h&&"doubleValue"in m){var y=Lr(h.doubleValue),b=Lr(m.doubleValue);return y===b?Od(y)===Od(b):isNaN(y)&&isNaN(b)}return!1}(c,s);case 9:return wr(c.arrayValue.values||[],s.arrayValue.values||[],hs);case 10:return function(h,m){var y=h.mapValue.fields||{},b=m.mapValue.fields||{};if(ya(y)!==ya(b))return!1;for(var D in y)if(y.hasOwnProperty(D)&&(void 0===b[D]||!hs(y[D],b[D])))return!1;return!0}(c,s);default:return He()}}function yf(c,s){return void 0!==(c.values||[]).find(function(l){return hs(l,s)})}function lu(c,s){var m,y,b,D,l=Ei(c),h=Ei(s);if(l!==h)return Xe(l,h);switch(l){case 0:return 0;case 1:return Xe(c.booleanValue,s.booleanValue);case 2:return y=s,(b=Lr((m=c).integerValue||m.doubleValue))<(D=Lr(y.integerValue||y.doubleValue))?-1:b>D?1:b===D?0:isNaN(b)?isNaN(D)?0:-1:1;case 3:return Lp(c.timestampValue,s.timestampValue);case 4:return Lp(fl(c),fl(s));case 5:return Xe(c.stringValue,s.stringValue);case 6:return function(m,y){var b=kd(m),D=kd(y);return b.compareTo(D)}(c.bytesValue,s.bytesValue);case 7:return function(m,y){for(var b=m.split("/"),D=y.split("/"),T=0;T<b.length&&T<D.length;T++){var O=Xe(b[T],D[T]);if(0!==O)return O}return Xe(b.length,D.length)}(c.referenceValue,s.referenceValue);case 8:return function(m,y){var b=Xe(Lr(m.latitude),Lr(y.latitude));return 0!==b?b:Xe(Lr(m.longitude),Lr(y.longitude))}(c.geoPointValue,s.geoPointValue);case 9:return function(m,y){for(var b=m.values||[],D=y.values||[],T=0;T<b.length&&T<D.length;++T){var O=lu(b[T],D[T]);if(O)return O}return Xe(b.length,D.length)}(c.arrayValue,s.arrayValue);case 10:return function(m,y){var b=m.fields||{},D=Object.keys(b),T=y.fields||{},O=Object.keys(T);D.sort(),O.sort();for(var P=0;P<D.length&&P<O.length;++P){var B=Xe(D[P],O[P]);if(0!==B)return B;var z=lu(b[D[P]],T[O[P]]);if(0!==z)return z}return Xe(D.length,O.length)}(c.mapValue,s.mapValue);default:throw He()}}function Lp(c,s){if("string"==typeof c&&"string"==typeof s&&c.length===s.length)return Xe(c,s);var l=ds(c),h=ds(s),m=Xe(l.seconds,h.seconds);return 0!==m?m:Xe(l.nanos,h.nanos)}function fs(c){return ps(c)}function ps(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?"time("+(m=ds(c.timestampValue)).seconds+","+m.nanos+")":"stringValue"in c?c.stringValue:"bytesValue"in c?kd(c.bytesValue).toBase64():"referenceValue"in c?Ve.fromName(c.referenceValue).toString():"geoPointValue"in c?"geo("+(s=c.geoPointValue).latitude+","+s.longitude+")":"arrayValue"in c?function(h){for(var m="[",y=!0,b=0,D=h.values||[];b<D.length;b++)y?y=!1:m+=",",m+=ps(D[b]);return m+"]"}(c.arrayValue):"mapValue"in c?function(h){for(var m="{",y=!0,b=0,D=Object.keys(h.fields||{}).sort();b<D.length;b++){var T=D[b];y?y=!1:m+=",",m+=T+":"+ps(h.fields[T])}return m+"}"}(c.mapValue):He();var m,s}function Nd(c,s){return{referenceValue:"projects/"+c.projectId+"/databases/"+c.database+"/documents/"+s.path.canonicalString()}}function _f(c){return!!c&&"integerValue"in c}function Dr(c){return!!c&&"arrayValue"in c}function _a(c){return!!c&&"nullValue"in c}function Co(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function du(c){return!!c&&"mapValue"in c}function ba(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){var s={mapValue:{fields:{}}};return Er(c.mapValue.fields,function(m,y){return s.mapValue.fields[m]=ba(y)}),s}if(c.arrayValue){for(var l={arrayValue:{values:[]}},h=0;h<(c.arrayValue.values||[]).length;++h)l.arrayValue.values[h]=ba(c.arrayValue.values[h]);return l}return Object.assign({},c)}var oi=function(){function c(s){this.value=s}return c.empty=function(){return new c({mapValue:{}})},c.prototype.field=function(s){if(s.isEmpty())return this.value;for(var l=this.value,h=0;h<s.length-1;++h)if(!du(l=(l.mapValue.fields||{})[s.get(h)]))return null;return(l=(l.mapValue.fields||{})[s.lastSegment()])||null},c.prototype.set=function(s,l){this.getFieldsMap(s.popLast())[s.lastSegment()]=ba(l)},c.prototype.setAll=function(s){var l=this,h=Uo.emptyPath(),m={},y=[];s.forEach(function(D,T){if(!h.isImmediateParentOf(T)){var O=l.getFieldsMap(h);l.applyChanges(O,m,y),m={},y=[],h=T.popLast()}D?m[T.lastSegment()]=ba(D):y.push(T.lastSegment())});var b=this.getFieldsMap(h);this.applyChanges(b,m,y)},c.prototype.delete=function(s){var l=this.field(s.popLast());du(l)&&l.mapValue.fields&&delete l.mapValue.fields[s.lastSegment()]},c.prototype.isEqual=function(s){return hs(this.value,s.value)},c.prototype.getFieldsMap=function(s){var l=this.value;l.mapValue.fields||(l.mapValue={fields:{}});for(var h=0;h<s.length;++h){var m=l.mapValue.fields[s.get(h)];du(m)&&m.mapValue.fields||(m={mapValue:{fields:{}}},l.mapValue.fields[s.get(h)]=m),l=m}return l.mapValue.fields},c.prototype.applyChanges=function(s,l,h){Er(l,function(D,T){return s[D]=T});for(var m=0,y=h;m<y.length;m++)delete s[y[m]]},c.prototype.clone=function(){return new c(ba(this.value))},c}();function jp(c){var s=[];return Er(c.fields,function(l,h){var m=new Uo([l]);if(du(h)){var y=jp(h.mapValue).fields;if(0===y.length)s.push(m);else for(var b=0,D=y;b<D.length;b++)s.push(m.child(D[b]))}else s.push(m)}),new Do(s)}var Gr=function(){function c(s,l,h,m,y){this.key=s,this.documentType=l,this.version=h,this.data=m,this.documentState=y}return c.newInvalidDocument=function(s){return new c(s,0,mt.min(),oi.empty(),0)},c.newFoundDocument=function(s,l,h){return new c(s,1,l,h,0)},c.newNoDocument=function(s,l){return new c(s,2,l,oi.empty(),0)},c.newUnknownDocument=function(s,l){return new c(s,3,l,oi.empty(),2)},c.prototype.convertToFoundDocument=function(s,l){return this.version=s,this.documentType=1,this.data=l,this.documentState=0,this},c.prototype.convertToNoDocument=function(s){return this.version=s,this.documentType=2,this.data=oi.empty(),this.documentState=0,this},c.prototype.convertToUnknownDocument=function(s){return this.version=s,this.documentType=3,this.data=oi.empty(),this.documentState=2,this},c.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},c.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(c.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),c.prototype.isValidDocument=function(){return 0!==this.documentType},c.prototype.isFoundDocument=function(){return 1===this.documentType},c.prototype.isNoDocument=function(){return 2===this.documentType},c.prototype.isUnknownDocument=function(){return 3===this.documentType},c.prototype.isEqual=function(s){return s instanceof c&&this.key.isEqual(s.key)&&this.version.isEqual(s.version)&&this.documentType===s.documentType&&this.documentState===s.documentState&&this.data.isEqual(s.data)},c.prototype.clone=function(){return new c(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},c.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},c}(),pg=function(c,s,l,h,m,y,b){void 0===s&&(s=null),void 0===l&&(l=[]),void 0===h&&(h=[]),void 0===m&&(m=null),void 0===y&&(y=null),void 0===b&&(b=null),this.path=c,this.collectionGroup=s,this.orderBy=l,this.filters=h,this.limit=m,this.startAt=y,this.endAt=b,this.h=null};function bf(c,s,l,h,m,y,b){return void 0===s&&(s=null),void 0===l&&(l=[]),void 0===h&&(h=[]),void 0===m&&(m=null),void 0===y&&(y=null),void 0===b&&(b=null),new pg(c,s,l,h,m,y,b)}function lc(c){var s=Pe(c);if(null===s.h){var l=s.path.canonicalString();null!==s.collectionGroup&&(l+="|cg:"+s.collectionGroup),l+="|f:",l+=s.filters.map(function(h){return(m=h).field.canonicalString()+m.op.toString()+fs(m.value);var m}).join(","),l+="|ob:",l+=s.orderBy.map(function(h){return(m=h).field.canonicalString()+m.dir;var m}).join(","),uc(s.limit)||(l+="|l:",l+=s.limit),s.startAt&&(l+="|lb:",l+=Bp(s.startAt)),s.endAt&&(l+="|ub:",l+=Bp(s.endAt)),s.h=l}return s.h}function pl(c,s){if(c.limit!==s.limit||c.orderBy.length!==s.orderBy.length)return!1;for(var l=0;l<c.orderBy.length;l++)if(!ml(c.orderBy[l],s.orderBy[l]))return!1;if(c.filters.length!==s.filters.length)return!1;for(var h=0;h<c.filters.length;h++)if((m=c.filters[h]).op!==(y=s.filters[h]).op||!m.field.isEqual(y.field)||!hs(m.value,y.value))return!1;var m,y;return c.collectionGroup===s.collectionGroup&&!!c.path.isEqual(s.path)&&!!jd(c.startAt,s.startAt)&&jd(c.endAt,s.endAt)}function Pd(c){return Ve.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}var qi=function(c){function s(l,h,m){var y=this;return(y=c.call(this)||this).field=l,y.op=h,y.value=m,y}return(0,S.ZT)(s,c),s.create=function(l,h,m){return l.isKeyField()?"in"===h||"not-in"===h?this.l(l,h,m):new wf(l,h,m):"array-contains"===h?new $v(l,m):"in"===h?new S_(l,m):"not-in"===h?new T_(l,m):"array-contains-any"===h?new mg(l,m):new s(l,h,m)},s.l=function(l,h,m){return"in"===h?new Fd(l,m):new dc(l,m)},s.prototype.matches=function(l){var h=l.data.field(this.field);return"!="===this.op?null!==h&&this.m(lu(h,this.value)):null!==h&&Ei(this.value)===Ei(h)&&this.m(lu(h,this.value))},s.prototype.m=function(l){switch(this.op){case"<":return l<0;case"<=":return l<=0;case"==":return 0===l;case"!=":return 0!==l;case">":return l>0;case">=":return l>=0;default:return He()}},s.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},s}(function(){}),wf=function(c){function s(l,h,m){var y=this;return(y=c.call(this,l,h,m)||this).key=Ve.fromName(m.referenceValue),y}return(0,S.ZT)(s,c),s.prototype.matches=function(l){var h=Ve.comparator(l.key,this.key);return this.m(h)},s}(qi),Fd=function(c){function s(l,h){var m=this;return(m=c.call(this,l,"in",h)||this).keys=Ef(0,h),m}return(0,S.ZT)(s,c),s.prototype.matches=function(l){return this.keys.some(function(h){return h.isEqual(l.key)})},s}(qi),dc=function(c){function s(l,h){var m=this;return(m=c.call(this,l,"not-in",h)||this).keys=Ef(0,h),m}return(0,S.ZT)(s,c),s.prototype.matches=function(l){return!this.keys.some(function(h){return h.isEqual(l.key)})},s}(qi);function Ef(c,s){var l;return((null===(l=s.arrayValue)||void 0===l?void 0:l.values)||[]).map(function(h){return Ve.fromName(h.referenceValue)})}var $v=function(c){function s(l,h){return c.call(this,l,"array-contains",h)||this}return(0,S.ZT)(s,c),s.prototype.matches=function(l){var h=l.data.field(this.field);return Dr(h)&&yf(h.arrayValue,this.value)},s}(qi),S_=function(c){function s(l,h){return c.call(this,l,"in",h)||this}return(0,S.ZT)(s,c),s.prototype.matches=function(l){var h=l.data.field(this.field);return null!==h&&yf(this.value.arrayValue,h)},s}(qi),T_=function(c){function s(l,h){return c.call(this,l,"not-in",h)||this}return(0,S.ZT)(s,c),s.prototype.matches=function(l){if(yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var h=l.data.field(this.field);return null!==h&&!yf(this.value.arrayValue,h)},s}(qi),mg=function(c){function s(l,h){return c.call(this,l,"array-contains-any",h)||this}return(0,S.ZT)(s,c),s.prototype.matches=function(l){var h=this,m=l.data.field(this.field);return!(!Dr(m)||!m.arrayValue.values)&&m.arrayValue.values.some(function(y){return yf(h.value.arrayValue,y)})},s}(qi),Ld=function(c,s){this.position=c,this.before=s};function Bp(c){return(c.before?"b":"a")+":"+c.position.map(function(s){return fs(s)}).join(",")}var hc=function(c,s){void 0===s&&(s="asc"),this.field=c,this.dir=s};function ml(c,s){return c.dir===s.dir&&c.field.isEqual(s.field)}function Vp(c,s,l){for(var h=0,m=0;m<c.position.length;m++){var y=s[m],b=c.position[m];if(h=y.field.isKeyField()?Ve.comparator(Ve.fromName(b.referenceValue),l.key):lu(b,l.data.field(y.field)),"desc"===y.dir&&(h*=-1),0!==h)break}return c.before?h<=0:h<0}function jd(c,s){if(null===c)return null===s;if(null===s||c.before!==s.before||c.position.length!==s.position.length)return!1;for(var l=0;l<c.position.length;l++)if(!hs(c.position[l],s.position[l]))return!1;return!0}var js=function(c,s,l,h,m,y,b,D){void 0===s&&(s=null),void 0===l&&(l=[]),void 0===h&&(h=[]),void 0===m&&(m=null),void 0===y&&(y="F"),void 0===b&&(b=null),void 0===D&&(D=null),this.path=c,this.collectionGroup=s,this.explicitOrderBy=l,this.filters=h,this.limit=m,this.limitType=y,this.startAt=b,this.endAt=D,this.p=null,this.T=null};function gg(c,s,l,h,m,y,b,D){return new js(c,s,l,h,m,y,b,D)}function gl(c){return new js(c)}function vl(c){return!uc(c.limit)&&"F"===c.limitType}function yl(c){return!uc(c.limit)&&"L"===c.limitType}function Df(c){return c.explicitOrderBy.length>0?c.explicitOrderBy[0].field:null}function Cf(c){for(var s=0,l=c.filters;s<l.length;s++){var h=l[s];if(h.g())return h.field}return null}function _l(c){return null!==c.collectionGroup}function hu(c){var s=Pe(c);if(null===s.p){s.p=[];var l=Cf(s),h=Df(s);if(null!==l&&null===h)l.isKeyField()||s.p.push(new hc(l)),s.p.push(new hc(Uo.keyField(),"asc"));else{for(var m=!1,y=0,b=s.explicitOrderBy;y<b.length;y++){var D=b[y];s.p.push(D),D.field.isKeyField()&&(m=!0)}if(!m){var T=s.explicitOrderBy.length>0?s.explicitOrderBy[s.explicitOrderBy.length-1].dir:"asc";s.p.push(new hc(Uo.keyField(),T))}}}return s.p}function Oi(c){var s=Pe(c);if(!s.T)if("F"===s.limitType)s.T=bf(s.path,s.collectionGroup,hu(s),s.filters,s.limit,s.startAt,s.endAt);else{for(var l=[],h=0,m=hu(s);h<m.length;h++){var y=m[h];l.push(new hc(y.field,"desc"===y.dir?"asc":"desc"))}var D=s.endAt?new Ld(s.endAt.position,!s.endAt.before):null,T=s.startAt?new Ld(s.startAt.position,!s.startAt.before):null;s.T=bf(s.path,s.collectionGroup,l,s.filters,s.limit,D,T)}return s.T}function Up(c,s,l){return new js(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),s,l,c.startAt,c.endAt)}function Bd(c,s){return pl(Oi(c),Oi(s))&&c.limitType===s.limitType}function qv(c){return lc(Oi(c))+"|lt:"+c.limitType}function bl(c){return"Query(target="+(l=(s=Oi(c)).path.canonicalString(),null!==s.collectionGroup&&(l+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(l+=", filters: ["+s.filters.map(function(h){return(m=h).field.canonicalString()+" "+m.op+" "+fs(m.value);var m}).join(", ")+"]"),uc(s.limit)||(l+=", limit: "+s.limit),s.orderBy.length>0&&(l+=", orderBy: ["+s.orderBy.map(function(h){return(m=h).field.canonicalString()+" ("+m.dir+")";var m}).join(", ")+"]"),s.startAt&&(l+=", startAt: "+Bp(s.startAt)),s.endAt&&(l+=", endAt: "+Bp(s.endAt)),"Target("+l+"); limitType=")+c.limitType+")";var s,l}function uo(c,s){return s.isFoundDocument()&&(m=(h=s).key.path,null!==(l=c).collectionGroup?h.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(m):Ve.isDocumentKey(l.path)?l.path.isEqual(m):l.path.isImmediateParentOf(m))&&function(l,h){for(var m=0,y=l.explicitOrderBy;m<y.length;m++){var b=y[m];if(!b.field.isKeyField()&&null===h.data.field(b.field))return!1}return!0}(c,s)&&function(l,h){for(var m=0,y=l.filters;m<y.length;m++)if(!y[m].matches(h))return!1;return!0}(c,s)&&function(l,h){return!(l.startAt&&!Vp(l.startAt,hu(l),h)||l.endAt&&Vp(l.endAt,hu(l),h))}(c,s);var l,h,m}function If(c){return function(s,l){for(var h=!1,m=0,y=hu(c);m<y.length;m++){var b=y[m],D=vg(b,s,l);if(0!==D)return D;h=h||b.field.isKeyField()}return 0}}function vg(c,s,l){var m,b,D,T,h=c.field.isKeyField()?Ve.comparator(s.key,l.key):(b=l,D=s.data.field(m=c.field),T=b.data.field(m),null!==D&&null!==T?lu(D,T):He());switch(c.dir){case"asc":return h;case"desc":return-1*h;default:return He()}}function Vd(c,s){if(c.I){if(isNaN(s))return{doubleValue:"NaN"};if(s===1/0)return{doubleValue:"Infinity"};if(s===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(s)?"-0":s}}function Ud(c){return{integerValue:""+c}}function Hd(c,s){return We(s)?Ud(s):Vd(c,s)}var zd=function(){this._=void 0};function $d(c,s,l){return c instanceof Ni?(y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(h=l).seconds,nanos:h.nanoseconds}}}},(m=s)&&(y.fields.__previous_value__=m),{mapValue:y}):c instanceof wa?xn(c,s):c instanceof Bs?wl(c,s):function(h,m){var y=Io(h,m),b=qd(y)+qd(h.A);return _f(y)&&_f(h.A)?Ud(b):Vd(h.R,b)}(c,s);var h,m,y}function yg(c,s,l){return c instanceof wa?xn(c,s):c instanceof Bs?wl(c,s):l}function Io(c,s){return c instanceof jr?_f(l=s)||(h=l)&&"doubleValue"in h?s:{integerValue:0}:null;var h,l}var Ni=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,S.ZT)(s,c),s}(zd),wa=function(c){function s(l){var h=this;return(h=c.call(this)||this).elements=l,h}return(0,S.ZT)(s,c),s}(zd);function xn(c,s){for(var l=fu(s),h=function(b){l.some(function(D){return hs(D,b)})||l.push(b)},m=0,y=c.elements;m<y.length;m++)h(y[m]);return{arrayValue:{values:l}}}var Bs=function(c){function s(l){var h=this;return(h=c.call(this)||this).elements=l,h}return(0,S.ZT)(s,c),s}(zd);function wl(c,s){for(var l=fu(s),h=function(b){l=l.filter(function(D){return!hs(D,b)})},m=0,y=c.elements;m<y.length;m++)h(y[m]);return{arrayValue:{values:l}}}var jr=function(c){function s(l,h){var m=this;return(m=c.call(this)||this).R=l,m.A=h,m}return(0,S.ZT)(s,c),s}(zd);function qd(c){return Lr(c.integerValue||c.doubleValue)}function fu(c){return Dr(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}var So=function(c,s){this.field=c,this.transform=s},si=function(c,s){this.version=c,this.transformResults=s},Cr=function(){function c(s,l){this.updateTime=s,this.exists=l}return c.none=function(){return new c},c.exists=function(s){return new c(void 0,s)},c.updateTime=function(s){return new c(s)},Object.defineProperty(c.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(s){return this.exists===s.exists&&(this.updateTime?!!s.updateTime&&this.updateTime.isEqual(s.updateTime):!s.updateTime)},c}();function Vs(c,s){return void 0!==c.updateTime?s.isFoundDocument()&&s.version.isEqual(c.updateTime):void 0===c.exists||c.exists===s.isFoundDocument()}var El=function(){};function fc(c,s,l){var h,m,y,b,D;c instanceof pu?(m=s,y=l,b=(h=c).value.clone(),D=Sf(h.fieldTransforms,m,y.transformResults),b.setAll(D),m.convertToFoundDocument(y.version,b).setHasCommittedMutations()):c instanceof Br?function(h,m,y){if(Vs(h.precondition,m)){var b=Sf(h.fieldTransforms,m,y.transformResults),D=m.data;D.setAll(it(h)),D.setAll(b),m.convertToFoundDocument(y.version,D).setHasCommittedMutations()}else m.convertToUnknownDocument(y.version)}(c,s,l):function(h,m,y){m.convertToNoDocument(y.version).setHasCommittedMutations()}(0,s,l)}function Ho(c,s,l){var m;c instanceof pu?function(h,m,y){if(Vs(h.precondition,m)){var b=h.value.clone(),D=mu(h.fieldTransforms,y,m);b.setAll(D),m.convertToFoundDocument(Ea(m),b).setHasLocalMutations()}}(c,s,l):c instanceof Br?function(h,m,y){if(Vs(h.precondition,m)){var b=mu(h.fieldTransforms,y,m),D=m.data;D.setAll(it(h)),D.setAll(b),m.convertToFoundDocument(Ea(m),D).setHasLocalMutations()}}(c,s,l):Vs(c.precondition,m=s)&&m.convertToNoDocument(mt.min())}function Hp(c,s){for(var l=null,h=0,m=c.fieldTransforms;h<m.length;h++){var y=m[h],b=s.data.field(y.field),D=Io(y.transform,b||null);null!=D&&(null==l&&(l=oi.empty()),l.set(y.field,D))}return l||null}function zp(c,s){return c.type===s.type&&!!c.key.isEqual(s.key)&&!!c.precondition.isEqual(s.precondition)&&(h=s.fieldTransforms,!!(void 0===(l=c.fieldTransforms)&&void 0===h||l&&h&&wr(l,h,function(m,y){return(b=m).field.isEqual((D=y).field)&&(O=D.transform,(T=b.transform)instanceof wa&&O instanceof wa||T instanceof Bs&&O instanceof Bs?wr(T.elements,O.elements,hs):T instanceof jr&&O instanceof jr?hs(T.A,O.A):T instanceof Ni&&O instanceof Ni);var b,D,T,O})))&&(0===c.type?c.value.isEqual(s.value):1!==c.type||c.data.isEqual(s.data)&&c.fieldMask.isEqual(s.fieldMask));var l,h}function Ea(c){return c.isFoundDocument()?c.version:mt.min()}var pu=function(c){function s(l,h,m,y){void 0===y&&(y=[]);var b=this;return(b=c.call(this)||this).key=l,b.value=h,b.precondition=m,b.fieldTransforms=y,b.type=0,b}return(0,S.ZT)(s,c),s}(El),Br=function(c){function s(l,h,m,y,b){void 0===b&&(b=[]);var D=this;return(D=c.call(this)||this).key=l,D.data=h,D.fieldMask=m,D.precondition=y,D.fieldTransforms=b,D.type=1,D}return(0,S.ZT)(s,c),s}(El);function it(c){var s=new Map;return c.fieldMask.fields.forEach(function(l){if(!l.isEmpty()){var h=c.data.field(l);s.set(l,h)}}),s}function Sf(c,s,l){var h=new Map;nt(c.length===l.length);for(var m=0;m<l.length;m++){var y=c[m],b=y.transform,D=s.data.field(y.field);h.set(y.field,yg(b,D,l[m]))}return h}function mu(c,s,l){for(var h=new Map,m=0,y=c;m<y.length;m++){var b=y[m],D=b.transform,T=l.data.field(b.field);h.set(b.field,$d(D,T,s))}return h}var Ir,Ht,Dl=function(c){function s(l,h){var m=this;return(m=c.call(this)||this).key=l,m.precondition=h,m.type=2,m.fieldTransforms=[],m}return(0,S.ZT)(s,c),s}(El),Da=function(c){function s(l,h){var m=this;return(m=c.call(this)||this).key=l,m.precondition=h,m.type=3,m.fieldTransforms=[],m}return(0,S.ZT)(s,c),s}(El),gu=function(c){this.count=c};function Ca(c){switch(c){case ue.OK:return He();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return He()}}function _g(c){if(void 0===c)return Fr("GRPC error has no .code"),ue.UNKNOWN;switch(c){case Ir.OK:return ue.OK;case Ir.CANCELLED:return ue.CANCELLED;case Ir.UNKNOWN:return ue.UNKNOWN;case Ir.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Ir.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Ir.INTERNAL:return ue.INTERNAL;case Ir.UNAVAILABLE:return ue.UNAVAILABLE;case Ir.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Ir.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Ir.NOT_FOUND:return ue.NOT_FOUND;case Ir.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Ir.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Ir.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Ir.ABORTED:return ue.ABORTED;case Ir.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Ir.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Ir.DATA_LOSS:return ue.DATA_LOSS;default:return He()}}(Ht=Ir||(Ir={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";var Bn=function(){function c(s,l){this.comparator=s,this.root=l||Us.EMPTY}return c.prototype.insert=function(s,l){return new c(this.comparator,this.root.insert(s,l,this.comparator).copy(null,null,Us.BLACK,null,null))},c.prototype.remove=function(s){return new c(this.comparator,this.root.remove(s,this.comparator).copy(null,null,Us.BLACK,null,null))},c.prototype.get=function(s){for(var l=this.root;!l.isEmpty();){var h=this.comparator(s,l.key);if(0===h)return l.value;h<0?l=l.left:h>0&&(l=l.right)}return null},c.prototype.indexOf=function(s){for(var l=0,h=this.root;!h.isEmpty();){var m=this.comparator(s,h.key);if(0===m)return l+h.left.size;m<0?h=h.left:(l+=h.left.size+1,h=h.right)}return-1},c.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(c.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),c.prototype.minKey=function(){return this.root.minKey()},c.prototype.maxKey=function(){return this.root.maxKey()},c.prototype.inorderTraversal=function(s){return this.root.inorderTraversal(s)},c.prototype.forEach=function(s){this.inorderTraversal(function(l,h){return s(l,h),!1})},c.prototype.toString=function(){var s=[];return this.inorderTraversal(function(l,h){return s.push(l+":"+h),!1}),"{"+s.join(", ")+"}"},c.prototype.reverseTraversal=function(s){return this.root.reverseTraversal(s)},c.prototype.getIterator=function(){return new Gd(this.root,null,this.comparator,!1)},c.prototype.getIteratorFrom=function(s){return new Gd(this.root,s,this.comparator,!1)},c.prototype.getReverseIterator=function(){return new Gd(this.root,null,this.comparator,!0)},c.prototype.getReverseIteratorFrom=function(s){return new Gd(this.root,s,this.comparator,!0)},c}(),Gd=function(){function c(s,l,h,m){this.isReverse=m,this.nodeStack=[];for(var y=1;!s.isEmpty();)if(y=l?h(s.key,l):1,m&&(y*=-1),y<0)s=this.isReverse?s.left:s.right;else{if(0===y){this.nodeStack.push(s);break}this.nodeStack.push(s),s=this.isReverse?s.right:s.left}}return c.prototype.getNext=function(){var s=this.nodeStack.pop(),l={key:s.key,value:s.value};if(this.isReverse)for(s=s.left;!s.isEmpty();)this.nodeStack.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack.push(s),s=s.left;return l},c.prototype.hasNext=function(){return this.nodeStack.length>0},c.prototype.peek=function(){if(0===this.nodeStack.length)return null;var s=this.nodeStack[this.nodeStack.length-1];return{key:s.key,value:s.value}},c}(),Us=function(){function c(s,l,h,m,y){this.key=s,this.value=l,this.color=h??c.RED,this.left=m??c.EMPTY,this.right=y??c.EMPTY,this.size=this.left.size+1+this.right.size}return c.prototype.copy=function(s,l,h,m,y){return new c(s??this.key,l??this.value,h??this.color,m??this.left,y??this.right)},c.prototype.isEmpty=function(){return!1},c.prototype.inorderTraversal=function(s){return this.left.inorderTraversal(s)||s(this.key,this.value)||this.right.inorderTraversal(s)},c.prototype.reverseTraversal=function(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)},c.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},c.prototype.minKey=function(){return this.min().key},c.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},c.prototype.insert=function(s,l,h){var m=this,y=h(s,m.key);return(m=y<0?m.copy(null,null,null,m.left.insert(s,l,h),null):0===y?m.copy(null,l,null,null,null):m.copy(null,null,null,null,m.right.insert(s,l,h))).fixUp()},c.prototype.removeMin=function(){if(this.left.isEmpty())return c.EMPTY;var s=this;return s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),(s=s.copy(null,null,null,s.left.removeMin(),null)).fixUp()},c.prototype.remove=function(s,l){var h,m=this;if(l(s,m.key)<0)m.left.isEmpty()||m.left.isRed()||m.left.left.isRed()||(m=m.moveRedLeft()),m=m.copy(null,null,null,m.left.remove(s,l),null);else{if(m.left.isRed()&&(m=m.rotateRight()),m.right.isEmpty()||m.right.isRed()||m.right.left.isRed()||(m=m.moveRedRight()),0===l(s,m.key)){if(m.right.isEmpty())return c.EMPTY;h=m.right.min(),m=m.copy(h.key,h.value,null,null,m.right.removeMin())}m=m.copy(null,null,null,null,m.right.remove(s,l))}return m.fixUp()},c.prototype.isRed=function(){return this.color},c.prototype.fixUp=function(){var s=this;return s.right.isRed()&&!s.left.isRed()&&(s=s.rotateLeft()),s.left.isRed()&&s.left.left.isRed()&&(s=s.rotateRight()),s.left.isRed()&&s.right.isRed()&&(s=s.colorFlip()),s},c.prototype.moveRedLeft=function(){var s=this.colorFlip();return s.right.left.isRed()&&(s=(s=(s=s.copy(null,null,null,null,s.right.rotateRight())).rotateLeft()).colorFlip()),s},c.prototype.moveRedRight=function(){var s=this.colorFlip();return s.left.left.isRed()&&(s=(s=s.rotateRight()).colorFlip()),s},c.prototype.rotateLeft=function(){var s=this.copy(null,null,c.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)},c.prototype.rotateRight=function(){var s=this.copy(null,null,c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)},c.prototype.colorFlip=function(){var s=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,l)},c.prototype.checkMaxDepth=function(){var s=this.check();return Math.pow(2,s)<=this.size+1},c.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw He();var s=this.left.check();if(s!==this.right.check())throw He();return s+(this.isRed()?0:1)},c}();Us.EMPTY=null,Us.RED=!0,Us.BLACK=!1,Us.EMPTY=new(function(){function c(){this.size=0}return Object.defineProperty(c.prototype,"key",{get:function(){throw He()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"value",{get:function(){throw He()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"color",{get:function(){throw He()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"left",{get:function(){throw He()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"right",{get:function(){throw He()},enumerable:!1,configurable:!0}),c.prototype.copy=function(s,l,h,m,y){return this},c.prototype.insert=function(s,l,h){return new Us(s,l)},c.prototype.remove=function(s,l){return this},c.prototype.isEmpty=function(){return!0},c.prototype.inorderTraversal=function(s){return!1},c.prototype.reverseTraversal=function(s){return!1},c.prototype.minKey=function(){return null},c.prototype.maxKey=function(){return null},c.prototype.isRed=function(){return!1},c.prototype.checkMaxDepth=function(){return!0},c.prototype.check=function(){return 0},c}());var de=function(){function c(s){this.comparator=s,this.data=new Bn(this.comparator)}return c.prototype.has=function(s){return null!==this.data.get(s)},c.prototype.first=function(){return this.data.minKey()},c.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(c.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),c.prototype.indexOf=function(s){return this.data.indexOf(s)},c.prototype.forEach=function(s){this.data.inorderTraversal(function(l,h){return s(l),!1})},c.prototype.forEachInRange=function(s,l){for(var h=this.data.getIteratorFrom(s[0]);h.hasNext();){var m=h.getNext();if(this.comparator(m.key,s[1])>=0)return;l(m.key)}},c.prototype.forEachWhile=function(s,l){var h;for(h=void 0!==l?this.data.getIteratorFrom(l):this.data.getIterator();h.hasNext();)if(!s(h.getNext().key))return},c.prototype.firstAfterOrEqual=function(s){var l=this.data.getIteratorFrom(s);return l.hasNext()?l.getNext().key:null},c.prototype.getIterator=function(){return new sn(this.data.getIterator())},c.prototype.getIteratorFrom=function(s){return new sn(this.data.getIteratorFrom(s))},c.prototype.add=function(s){return this.copy(this.data.remove(s).insert(s,!0))},c.prototype.delete=function(s){return this.has(s)?this.copy(this.data.remove(s)):this},c.prototype.isEmpty=function(){return this.data.isEmpty()},c.prototype.unionWith=function(s){var l=this;return l.size<s.size&&(l=s,s=this),s.forEach(function(h){l=l.add(h)}),l},c.prototype.isEqual=function(s){if(!(s instanceof c)||this.size!==s.size)return!1;for(var l=this.data.getIterator(),h=s.data.getIterator();l.hasNext();){var m=l.getNext().key,y=h.getNext().key;if(0!==this.comparator(m,y))return!1}return!0},c.prototype.toArray=function(){var s=[];return this.forEach(function(l){s.push(l)}),s},c.prototype.toString=function(){var s=[];return this.forEach(function(l){return s.push(l)}),"SortedSet("+s.toString()+")"},c.prototype.copy=function(s){var l=new c(this.comparator);return l.data=s,l},c}(),sn=function(){function c(s){this.iter=s}return c.prototype.getNext=function(){return this.iter.getNext().key},c.prototype.hasNext=function(){return this.iter.hasNext()},c}(),lo=new Bn(Ve.comparator);function bn(){return lo}var ai=new Bn(Ve.comparator);function Cl(){return ai}var vu=new Bn(Ve.comparator);function Sr(){return vu}var Tf=new de(Ve.comparator);function yn(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];for(var l=Tf,h=0,m=c;h<m.length;h++)l=l.add(m[h]);return l}var $p=new de(Xe);function qp(){return $p}var Il=function(){function c(s,l,h,m,y){this.snapshotVersion=s,this.targetChanges=l,this.targetMismatches=h,this.documentUpdates=m,this.resolvedLimboDocuments=y}return c.createSynthesizedRemoteEventForCurrentChange=function(s,l){var h=new Map;return h.set(s,Tr.createSynthesizedTargetChangeForCurrentChange(s,l)),new c(mt.min(),h,qp(),bn(),yn())},c}(),Tr=function(){function c(s,l,h,m,y){this.resumeToken=s,this.current=l,this.addedDocuments=h,this.modifiedDocuments=m,this.removedDocuments=y}return c.createSynthesizedTargetChangeForCurrentChange=function(s,l){return new c(ki.EMPTY_BYTE_STRING,l,yn(),yn(),yn())},c}(),Gi=function(c,s,l,h){this.v=c,this.removedTargetIds=s,this.key=l,this.P=h},yu=function(c,s){this.targetId=c,this.V=s},pc=function(c,s,l,h){void 0===l&&(l=ki.EMPTY_BYTE_STRING),void 0===h&&(h=null),this.state=c,this.targetIds=s,this.resumeToken=l,this.cause=h},zo=function(){function c(){this.S=0,this.D=Wd(),this.C=ki.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(c.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),c.prototype.O=function(s){s.approximateByteSize()>0&&(this.k=!0,this.C=s)},c.prototype.M=function(){var s=yn(),l=yn(),h=yn();return this.D.forEach(function(m,y){switch(y){case 0:s=s.add(m);break;case 2:l=l.add(m);break;case 1:h=h.add(m);break;default:He()}}),new Tr(this.C,this.N,s,l,h)},c.prototype.L=function(){this.k=!1,this.D=Wd()},c.prototype.B=function(s,l){this.k=!0,this.D=this.D.insert(s,l)},c.prototype.q=function(s){this.k=!0,this.D=this.D.remove(s)},c.prototype.U=function(){this.S+=1},c.prototype.K=function(){this.S-=1},c.prototype.j=function(){this.k=!0,this.N=!0},c}(),xf=function(){function c(s){this.W=s,this.G=new Map,this.H=bn(),this.J=Af(),this.Y=new de(Xe)}return c.prototype.X=function(s){for(var l=0,h=s.v;l<h.length;l++){var m=h[l];s.P&&s.P.isFoundDocument()?this.Z(m,s.P):this.tt(m,s.key,s.P)}for(var y=0,b=s.removedTargetIds;y<b.length;y++)this.tt(m=b[y],s.key,s.P)},c.prototype.et=function(s){var l=this;this.forEachTarget(s,function(h){var m=l.nt(h);switch(s.state){case 0:l.st(h)&&m.O(s.resumeToken);break;case 1:m.K(),m.F||m.L(),m.O(s.resumeToken);break;case 2:m.K(),m.F||l.removeTarget(h);break;case 3:l.st(h)&&(m.j(),m.O(s.resumeToken));break;case 4:l.st(h)&&(l.it(h),m.O(s.resumeToken));break;default:He()}})},c.prototype.forEachTarget=function(s,l){var h=this;s.targetIds.length>0?s.targetIds.forEach(l):this.G.forEach(function(m,y){h.st(y)&&l(y)})},c.prototype.rt=function(s){var l=s.targetId,h=s.V.count,m=this.ot(l);if(m){var y=m.target;if(Pd(y))if(0===h){var b=new Ve(y.path);this.tt(l,b,Gr.newNoDocument(b,mt.min()))}else nt(1===h);else this.ct(l)!==h&&(this.it(l),this.Y=this.Y.add(l))}},c.prototype.ut=function(s){var l=this,h=new Map;this.G.forEach(function(b,D){var T=l.ot(D);if(T){if(b.current&&Pd(T.target)){var O=new Ve(T.target.path);null!==l.H.get(O)||l.at(D,O)||l.tt(D,O,Gr.newNoDocument(O,s))}b.$&&(h.set(D,b.M()),b.L())}});var m=yn();this.J.forEach(function(b,D){var T=!0;D.forEachWhile(function(O){var P=l.ot(O);return!P||2===P.purpose||(T=!1,!1)}),T&&(m=m.add(b))});var y=new Il(s,h,this.Y,this.H,m);return this.H=bn(),this.J=Af(),this.Y=new de(Xe),y},c.prototype.Z=function(s,l){if(this.st(s)){var h=this.at(s,l.key)?2:0;this.nt(s).B(l.key,h),this.H=this.H.insert(l.key,l),this.J=this.J.insert(l.key,this.ht(l.key).add(s))}},c.prototype.tt=function(s,l,h){if(this.st(s)){var m=this.nt(s);this.at(s,l)?m.B(l,1):m.q(l),this.J=this.J.insert(l,this.ht(l).delete(s)),h&&(this.H=this.H.insert(l,h))}},c.prototype.removeTarget=function(s){this.G.delete(s)},c.prototype.ct=function(s){var l=this.nt(s).M();return this.W.getRemoteKeysForTarget(s).size+l.addedDocuments.size-l.removedDocuments.size},c.prototype.U=function(s){this.nt(s).U()},c.prototype.nt=function(s){var l=this.G.get(s);return l||(l=new zo,this.G.set(s,l)),l},c.prototype.ht=function(s){var l=this.J.get(s);return l||(l=new de(Xe),this.J=this.J.insert(s,l)),l},c.prototype.st=function(s){var l=null!==this.ot(s);return l||pe("WatchChangeAggregator","Detected inactive target",s),l},c.prototype.ot=function(s){var l=this.G.get(s);return l&&l.F?null:this.W.lt(s)},c.prototype.it=function(s){var l=this;this.G.set(s,new zo),this.W.getRemoteKeysForTarget(s).forEach(function(h){l.tt(s,h,null)})},c.prototype.at=function(s,l){return this.W.getRemoteKeysForTarget(s).has(l)},c}();function Af(){return new Bn(Ve.comparator)}function Wd(){return new Bn(Ve.comparator)}var bg={asc:"ASCENDING",desc:"DESCENDING"},Kd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yd=function(c,s){this.databaseId=c,this.I=s};function Sl(c,s){return c.I?new Date(1e3*s.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+s.nanoseconds).slice(-9)+"Z":{seconds:""+s.seconds,nanos:s.nanoseconds}}function Tl(c,s){return c.I?s.toBase64():s.toUint8Array()}function Zd(c,s){return Sl(c,s.toTimestamp())}function Vr(c){return nt(!!c),mt.fromTimestamp((l=ds(c),new qr(l.seconds,l.nanos)));var l}function _u(c,s){return(l=c,new Kt(["projects",l.projectId,"databases",l.database])).child("documents").child(s).canonicalString();var l}function Gp(c){var s=Kt.fromString(c);return nt(kf(s)),s}function xl(c,s){return _u(c.databaseId,s.path)}function $o(c,s){var l=Gp(s);if(l.get(1)!==c.databaseId.projectId)throw new we(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+l.get(1)+" vs "+c.databaseId.projectId);if(l.get(3)!==c.databaseId.database)throw new we(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+l.get(3)+" vs "+c.databaseId.database);return new Ve(To(l))}function Al(c,s){return _u(c.databaseId,s)}function bu(c){var s=Gp(c);return 4===s.length?Kt.emptyPath():To(s)}function wu(c){return new Kt(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function To(c){return nt(c.length>4&&"documents"===c.get(4)),c.popFirst(5)}function Wr(c,s,l){return{name:xl(c,s),fields:l.value.mapValue.fields}}function ms(c,s,l){var h=$o(c,s.name),m=Vr(s.updateTime),y=new oi({mapValue:{fields:s.fields}}),b=Gr.newFoundDocument(h,m,y);return l&&b.setHasCommittedMutations(),l?b.setHasCommittedMutations():b}function An(c,s){var l,m;if(s instanceof pu)l={update:Wr(c,s.key,s.value)};else if(s instanceof Dl)l={delete:xl(c,s.key)};else if(s instanceof Br)l={update:Wr(c,s.key,s.data),updateMask:Jd(s.fieldMask)};else{if(!(s instanceof Da))return He();l={verify:xl(c,s.key)}}return s.fieldTransforms.length>0&&(l.updateTransforms=s.fieldTransforms.map(function(h){return function(m,y){var b=y.transform;if(b instanceof Ni)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof wa)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Bs)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof jr)return{fieldPath:y.field.canonicalString(),increment:b.A};throw He()}(0,h)})),s.precondition.isNone||(l.currentDocument=void 0!==(m=s.precondition).updateTime?{updateTime:Zd(c,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:He()),l}function Wp(c,s){var O,l=s.currentDocument?void 0!==(O=s.currentDocument).updateTime?Cr.updateTime(Vr(O.updateTime)):void 0!==O.exists?Cr.exists(O.exists):Cr.none():Cr.none(),h=s.updateTransforms?s.updateTransforms.map(function(O){return function(P,B){var z=null;"setToServerValue"in B?(nt("REQUEST_TIME"===B.setToServerValue),z=new Ni):"appendMissingElements"in B?z=new wa(B.appendMissingElements.values||[]):"removeAllFromArray"in B?z=new Bs(B.removeAllFromArray.values||[]):"increment"in B?z=new jr(P,B.increment):He();var he=Uo.fromServerFormat(B.fieldPath);return new So(he,z)}(c,O)}):[];if(s.update){var m=$o(c,s.update.name),y=new oi({mapValue:{fields:s.update.fields}});if(s.updateMask){var b=function(O){return new Do((O.fieldPaths||[]).map(function(B){return Uo.fromServerFormat(B)}))}(s.updateMask);return new Br(m,y,b,l,h)}return new pu(m,y,l,h)}if(s.delete){var D=$o(c,s.delete);return new Dl(D,l)}if(s.verify){var T=$o(c,s.verify);return new Da(T,l)}return He()}function Ml(c,s){return{documents:[Al(c,s.path)]}}function Rl(c,s){var l={structuredQuery:{}},h=s.path;null!==s.collectionGroup?(l.parent=Al(c,h),l.structuredQuery.from=[{collectionId:s.collectionGroup,allDescendants:!0}]):(l.parent=Al(c,h.popLast()),l.structuredQuery.from=[{collectionId:h.lastSegment()}]);var m=function(D){if(0!==D.length){var T=D.map(function(O){return function(P){if("=="===P.op){if(Co(P.value))return{unaryFilter:{field:Ia(P.field),op:"IS_NAN"}};if(_a(P.value))return{unaryFilter:{field:Ia(P.field),op:"IS_NULL"}}}else if("!="===P.op){if(Co(P.value))return{unaryFilter:{field:Ia(P.field),op:"IS_NOT_NAN"}};if(_a(P.value))return{unaryFilter:{field:Ia(P.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ia(P.field),op:Gv(P.op),value:P.value}}}(O)});return 1===T.length?T[0]:{compositeFilter:{op:"AND",filters:T}}}}(s.filters);m&&(l.structuredQuery.where=m);var y=function(D){if(0!==D.length)return D.map(function(T){return{field:Ia((O=T).field),direction:mc(O.dir)};var O})}(s.orderBy);y&&(l.structuredQuery.orderBy=y);var T,b=(T=s.limit,c.I||uc(T)?T:{value:T});return null!==b&&(l.structuredQuery.limit=b),s.startAt&&(l.structuredQuery.startAt=Kp(s.startAt)),s.endAt&&(l.structuredQuery.endAt=Kp(s.endAt)),l}function kl(c){var s=bu(c.parent),l=c.structuredQuery,h=l.from?l.from.length:0,m=null;if(h>0){nt(1===h);var y=l.from[0];y.allDescendants?m=y.collectionId:s=s.child(y.collectionId)}var b=[];l.where&&(b=Mf(l.where));var D=[];l.orderBy&&(D=l.orderBy.map(function(B){return new hc(Hs((z=B).field),function(re){switch(re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction));var z}));var B,z,T=null;l.limit&&(T=uc(z="object"==typeof(B=l.limit)?B.value:B)?null:z);var O=null;l.startAt&&(O=Xd(l.startAt));var P=null;return l.endAt&&(P=Xd(l.endAt)),gg(s,m,D,b,T,"F",O,P)}function Mf(c){return c?void 0!==c.unaryFilter?[Rf(c)]:void 0!==c.fieldFilter?[Qd(c)]:void 0!==c.compositeFilter?c.compositeFilter.filters.map(function(s){return Mf(s)}).reduce(function(s,l){return s.concat(l)}):He():[]}function Kp(c){return{before:c.before,values:c.position}}function Xd(c){return new Ld(c.values||[],!!c.before)}function mc(c){return bg[c]}function Gv(c){return Kd[c]}function Ia(c){return{fieldPath:c.canonicalString()}}function Hs(c){return Uo.fromServerFormat(c.fieldPath)}function Qd(c){return qi.create(Hs(c.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return He()}}(c.fieldFilter.op),c.fieldFilter.value)}function Rf(c){switch(c.unaryFilter.op){case"IS_NAN":var s=Hs(c.unaryFilter.field);return qi.create(s,"==",{doubleValue:NaN});case"IS_NULL":var l=Hs(c.unaryFilter.field);return qi.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var h=Hs(c.unaryFilter.field);return qi.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var m=Hs(c.unaryFilter.field);return qi.create(m,"!=",{nullValue:"NULL_VALUE"});default:return He()}}function Jd(c){var s=[];return c.fields.forEach(function(l){return s.push(l.canonicalString())}),{fieldPaths:s}}function kf(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}function Wi(c){for(var s="",l=0;l<c.length;l++)s.length>0&&(s=Ol(s)),s=Sa(c.get(l),s);return Ol(s)}function Sa(c,s){for(var l=s,h=c.length,m=0;m<h;m++){var y=c.charAt(m);switch(y){case"\0":l+="\x01\x10";break;case"\x01":l+="\x01\x11";break;default:l+=y}}return l}function Ol(c){return c+"\x01\x01"}function Di(c){var s=c.length;if(nt(s>=2),2===s)return nt("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),Kt.emptyPath();for(var l=s-2,h=[],m="",y=0;y<s;){var b=c.indexOf("\x01",y);switch((b<0||b>l)&&He(),c.charAt(b+1)){case"\x01":var D=c.substring(y,b),T=void 0;0===m.length?T=D:(T=m+=D,m=""),h.push(T);break;case"\x10":m+=c.substring(y,b),m+="\0";break;case"\x11":m+=c.substring(y,b+1);break;default:He()}y=b+2}return new Kt(h)}var Nl=function(c,s){this.seconds=c,this.nanoseconds=s},Kr=function(c,s,l){this.ownerId=c,this.allowTabSynchronization=s,this.leaseTimestampMs=l};Kr.store="owner",Kr.key="owner";var zs=function(c,s,l){this.userId=c,this.lastAcknowledgedBatchId=s,this.lastStreamToken=l};zs.store="mutationQueues",zs.keyPath="userId";var Yn=function(c,s,l,h,m){this.userId=c,this.batchId=s,this.localWriteTimeMs=l,this.baseMutations=h,this.mutations=m};Yn.store="mutations",Yn.keyPath="batchId",Yn.userMutationsIndex="userMutationsIndex",Yn.userMutationsKeyPath=["userId","batchId"];var ci=function(){function c(){}return c.prefixForUser=function(s){return[s]},c.prefixForPath=function(s,l){return[s,Wi(l)]},c.key=function(s,l,h){return[s,Wi(l),h]},c}();ci.store="documentMutations",ci.PLACEHOLDER=new ci;var Wv=function(c,s){this.path=c,this.readTime=s},Kv=function(c,s){this.path=c,this.version=s},Vn=function(c,s,l,h,m,y){this.unknownDocument=c,this.noDocument=s,this.document=l,this.hasCommittedMutations=h,this.readTime=m,this.parentPath=y};Vn.store="remoteDocuments",Vn.readTimeIndex="readTimeIndex",Vn.readTimeIndexPath="readTime",Vn.collectionReadTimeIndex="collectionReadTimeIndex",Vn.collectionReadTimeIndexPath=["parentPath","readTime"];var ui=function(c){this.byteSize=c};ui.store="remoteDocumentGlobal",ui.key="remoteDocumentGlobalKey";var Ki=function(c,s,l,h,m,y,b){this.targetId=c,this.canonicalId=s,this.readTime=l,this.resumeToken=h,this.lastListenSequenceNumber=m,this.lastLimboFreeSnapshotVersion=y,this.query=b};Ki.store="targets",Ki.keyPath="targetId",Ki.queryTargetsIndexName="queryTargetsIndex",Ki.queryTargetsKeyPath=["canonicalId","targetId"];var Jn=function(c,s,l){this.targetId=c,this.path=s,this.sequenceNumber=l};Jn.store="targetDocuments",Jn.keyPath=["targetId","path"],Jn.documentTargetsIndex="documentTargetsIndex",Jn.documentTargetsKeyPath=["path","targetId"];var Ci=function(c,s,l,h){this.highestTargetId=c,this.highestListenSequenceNumber=s,this.lastRemoteSnapshotVersion=l,this.targetCount=h};Ci.key="targetGlobalKey",Ci.store="targetGlobal";var $s=function(c,s){this.collectionId=c,this.parent=s};$s.store="collectionParents",$s.keyPath=["collectionId","parent"];var gc=function(c,s,l,h){this.clientId=c,this.updateTimeMs=s,this.networkEnabled=l,this.inForeground=h};gc.store="clientMetadata",gc.keyPath="clientId";var qs=function(c,s,l){this.bundleId=c,this.createTime=s,this.version=l};qs.store="bundles",qs.keyPath="bundleId";var Eu=function(c,s,l){this.name=c,this.readTime=s,this.bundledQuery=l};Eu.store="namedQueries",Eu.keyPath="name";var Yv=(0,S.ev)((0,S.ev)([],(0,S.ev)((0,S.ev)([],(0,S.ev)((0,S.ev)([],(0,S.ev)((0,S.ev)([],[zs.store,Yn.store,ci.store,Vn.store,Ki.store,Kr.store,Ci.store,Jn.store]),[gc.store])),[ui.store])),[$s.store])),[qs.store,Eu.store]),xo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",eh=function(){function c(){this.onCommittedListeners=[]}return c.prototype.addOnCommittedListener=function(s){this.onCommittedListeners.push(s)},c.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(s){return s()})},c}(),wn=function(){var c=this;this.promise=new Promise(function(s,l){c.resolve=s,c.reject=l})},Se=function(){function c(s){var l=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,s(function(h){l.isDone=!0,l.result=h,l.nextCallback&&l.nextCallback(h)},function(h){l.isDone=!0,l.error=h,l.catchCallback&&l.catchCallback(h)})}return c.prototype.catch=function(s){return this.next(void 0,s)},c.prototype.next=function(s,l){var h=this;return this.callbackAttached&&He(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(l,this.error):this.wrapSuccess(s,this.result):new c(function(m,y){h.nextCallback=function(b){h.wrapSuccess(s,b).next(m,y)},h.catchCallback=function(b){h.wrapFailure(l,b).next(m,y)}})},c.prototype.toPromise=function(){var s=this;return new Promise(function(l,h){s.next(l,h)})},c.prototype.wrapUserFunction=function(s){try{var l=s();return l instanceof c?l:c.resolve(l)}catch(h){return c.reject(h)}},c.prototype.wrapSuccess=function(s,l){return s?this.wrapUserFunction(function(){return s(l)}):c.resolve(l)},c.prototype.wrapFailure=function(s,l){return s?this.wrapUserFunction(function(){return s(l)}):c.reject(l)},c.resolve=function(s){return new c(function(l,h){l(s)})},c.reject=function(s){return new c(function(l,h){h(s)})},c.waitFor=function(s){return new c(function(l,h){var m=0,y=0,b=!1;s.forEach(function(D){++m,D.next(function(){++y,b&&y===m&&l()},function(T){return h(T)})}),b=!0,y===m&&l()})},c.or=function(s){for(var l=c.resolve(!1),h=function(b){l=l.next(function(D){return D?c.resolve(D):b()})},m=0,y=s;m<y.length;m++)h(y[m]);return l},c.forEach=function(s,l){var h=this,m=[];return s.forEach(function(y,b){m.push(l.call(h,y,b))}),this.waitFor(m)},c}(),Ao=function(){function c(s,l){var h=this;this.action=s,this.transaction=l,this.aborted=!1,this.ft=new wn,this.transaction.oncomplete=function(){h.ft.resolve()},this.transaction.onabort=function(){l.error?h.ft.reject(new th(s,l.error)):h.ft.resolve()},this.transaction.onerror=function(m){var y=Of(m.target.error);h.ft.reject(new th(s,y))}}return c.open=function(s,l,h,m){try{return new c(l,s.transaction(m,h))}catch(y){throw new th(l,y)}},Object.defineProperty(c.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),c.prototype.abort=function(s){s&&this.ft.reject(s),this.aborted||(pe("SimpleDb","Aborting transaction:",s?s.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},c.prototype.store=function(s){var l=this.transaction.objectStore(s);return new Zp(l)},c}(),Ta=function(){function c(s,l,h){this.name=s,this.version=l,this.wt=h,12.2===c._t((0,$e.z$)())&&Fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return c.delete=function(s){return pe("SimpleDb","Removing database:",s),gs(window.indexedDB.deleteDatabase(s)).toPromise()},c.yt=function(){if(typeof indexedDB>"u")return!1;if(c.gt())return!0;var s=(0,$e.z$)(),l=c._t(s),h=0<l&&l<10,m=c.Et(s),y=0<m&&m<4.5;return!(s.indexOf("MSIE ")>0||s.indexOf("Trident/")>0||s.indexOf("Edge/")>0||h||y)},c.gt=function(){var s;return typeof process<"u"&&"YES"===(null===(s=process.env)||void 0===s?void 0:s.Tt)},c.It=function(s,l){return s.store(l)},c._t=function(s){var l=s.match(/i(?:phone|pad|pod) os ([\d_]+)/i),h=l?l[1].split("_").slice(0,2).join("."):"-1";return Number(h)},c.Et=function(s){var l=s.match(/Android ([\d.]+)/i),h=l?l[1].split(".").slice(0,2).join("."):"-1";return Number(h)},c.prototype.At=function(s){return(0,S.mG)(this,void 0,void 0,function(){var l,h=this;return(0,S.Jh)(this,function(m){switch(m.label){case 0:return this.db?[3,2]:(pe("SimpleDb","Opening database:",this.name),l=this,[4,new Promise(function(y,b){var D=indexedDB.open(h.name,h.version);D.onsuccess=function(T){y(T.target.result)},D.onblocked=function(){b(new th(s,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},D.onerror=function(T){var O=T.target.error;b("VersionError"===O.name?new we(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new th(s,O))},D.onupgradeneeded=function(T){pe("SimpleDb",'Database "'+h.name+'" requires upgrade from version:',T.oldVersion),h.wt.Rt(T.target.result,D.transaction,T.oldVersion,h.version).next(function(){pe("SimpleDb","Database upgrade to version "+h.version+" complete")})}})]);case 1:l.db=m.sent(),m.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(y){return h.bt(y)}),this.db)]}})})},c.prototype.vt=function(s){this.bt=s,this.db&&(this.db.onversionchange=function(l){return s(l)})},c.prototype.runTransaction=function(s,l,h,m){return(0,S.mG)(this,void 0,void 0,function(){var y,b,D,T,O;return(0,S.Jh)(this,function(P){switch(P.label){case 0:y="readonly"===l,b=0,D=function(){var B,z,re,te,he;return(0,S.Jh)(this,function(Me){switch(Me.label){case 0:++b,Me.label=1;case 1:return Me.trys.push([1,4,,5]),[4,T.At(s)];case 2:return T.db=Me.sent(),B=Ao.open(T.db,s,y?"readonly":"readwrite",h),z=m(B).catch(function(Le){return B.abort(Le),Se.reject(Le)}).toPromise(),re={},z.catch(function(){}),[4,B.dt];case 3:return[2,(re.value=(Me.sent(),z),re)];case 4:return pe("SimpleDb","Transaction failed with error:",(te=Me.sent()).message,"Retrying:",he="FirebaseError"!==te.name&&b<3),T.close(),he?[3,5]:[2,{value:Promise.reject(te)}];case 5:return[2]}})},T=this,P.label=1;case 1:return[5,D()];case 2:if("object"==typeof(O=P.sent()))return[2,O.value];P.label=3;case 3:return[3,1];case 4:return[2]}})})},c.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},c}(),Yp=function(){function c(s){this.Pt=s,this.Vt=!1,this.St=null}return Object.defineProperty(c.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"cursor",{set:function(s){this.Pt=s},enumerable:!1,configurable:!0}),c.prototype.done=function(){this.Vt=!0},c.prototype.Ct=function(s){this.St=s},c.prototype.delete=function(){return gs(this.Pt.delete())},c}(),th=function(c){function s(l,h){var m=this;return(m=c.call(this,ue.UNAVAILABLE,"IndexedDB transaction '"+l+"' failed: "+h)||this).name="IndexedDbTransactionError",m}return(0,S.ZT)(s,c),s}(we);function vc(c){return"IndexedDbTransactionError"===c.name}var Zp=function(){function c(s){this.store=s}return c.prototype.put=function(s,l){var h;return void 0!==l?(pe("SimpleDb","PUT",this.store.name,s,l),h=this.store.put(l,s)):(pe("SimpleDb","PUT",this.store.name,"<auto-key>",s),h=this.store.put(s)),gs(h)},c.prototype.add=function(s){return pe("SimpleDb","ADD",this.store.name,s,s),gs(this.store.add(s))},c.prototype.get=function(s){var l=this;return gs(this.store.get(s)).next(function(h){return void 0===h&&(h=null),pe("SimpleDb","GET",l.store.name,s,h),h})},c.prototype.delete=function(s){return pe("SimpleDb","DELETE",this.store.name,s),gs(this.store.delete(s))},c.prototype.count=function(){return pe("SimpleDb","COUNT",this.store.name),gs(this.store.count())},c.prototype.Nt=function(s,l){var h=this.cursor(this.options(s,l)),m=[];return this.xt(h,function(y,b){m.push(b)}).next(function(){return m})},c.prototype.kt=function(s,l){pe("SimpleDb","DELETE ALL",this.store.name);var h=this.options(s,l);h.Ft=!1;var m=this.cursor(h);return this.xt(m,function(y,b,D){return D.delete()})},c.prototype.$t=function(s,l){var h;l?h=s:(h={},l=s);var m=this.cursor(h);return this.xt(m,l)},c.prototype.Ot=function(s){var l=this.cursor({});return new Se(function(h,m){l.onerror=function(y){var b=Of(y.target.error);m(b)},l.onsuccess=function(y){var b=y.target.result;b?s(b.primaryKey,b.value).next(function(D){D?b.continue():h()}):h()}})},c.prototype.xt=function(s,l){var h=[];return new Se(function(m,y){s.onerror=function(b){y(b.target.error)},s.onsuccess=function(b){var D=b.target.result;if(D){var T=new Yp(D),O=l(D.primaryKey,D.value,T);if(O instanceof Se){var P=O.catch(function(B){return T.done(),Se.reject(B)});h.push(P)}T.isDone?m():null===T.Dt?D.continue():D.continue(T.Dt)}else m()}}).next(function(){return Se.waitFor(h)})},c.prototype.options=function(s,l){var h;return void 0!==s&&("string"==typeof s?h=s:l=s),{index:h,range:l}},c.prototype.cursor=function(s){var l="next";if(s.reverse&&(l="prev"),s.index){var h=this.store.index(s.index);return s.Ft?h.openKeyCursor(s.range,l):h.openCursor(s.range,l)}return this.store.openCursor(s.range,l)},c}();function gs(c){return new Se(function(s,l){c.onsuccess=function(h){s(h.target.result)},c.onerror=function(h){var m=Of(h.target.error);l(m)}})}var nh=!1;function Of(c){var s=Ta._t((0,$e.z$)());if(s>=12.2&&s<13){var l="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(l)>=0){var h=new we("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+l+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return nh||(nh=!0,setTimeout(function(){throw h},0)),h}}return c}var Pl=function(c){function s(l,h){var m=this;return(m=c.call(this)||this).Mt=l,m.currentSequenceNumber=h,m}return(0,S.ZT)(s,c),s}(eh);function Ur(c,s){var l=Pe(c);return Ta.It(l.Mt,s)}var Nf=function(){function c(s,l,h,m){this.batchId=s,this.localWriteTime=l,this.baseMutations=h,this.mutations=m}return c.prototype.applyToRemoteDocument=function(s,l){for(var h=l.mutationResults,m=0;m<this.mutations.length;m++){var y=this.mutations[m];y.key.isEqual(s.key)&&fc(y,s,h[m])}},c.prototype.applyToLocalView=function(s){for(var l=0,h=this.baseMutations;l<h.length;l++)(b=h[l]).key.isEqual(s.key)&&Ho(b,s,this.localWriteTime);for(var m=0,y=this.mutations;m<y.length;m++){var b;(b=y[m]).key.isEqual(s.key)&&Ho(b,s,this.localWriteTime)}},c.prototype.applyToLocalDocumentSet=function(s){var l=this;this.mutations.forEach(function(h){var m=s.get(h.key),y=m;l.applyToLocalView(y),m.isValidDocument()||y.convertToNoDocument(mt.min())})},c.prototype.keys=function(){return this.mutations.reduce(function(s,l){return s.add(l.key)},yn())},c.prototype.isEqual=function(s){return this.batchId===s.batchId&&wr(this.mutations,s.mutations,function(l,h){return zp(l,h)})&&wr(this.baseMutations,s.baseMutations,function(l,h){return zp(l,h)})},c}(),wg=function(){function c(s,l,h,m){this.batch=s,this.commitVersion=l,this.mutationResults=h,this.docVersions=m}return c.from=function(s,l,h){nt(s.mutations.length===h.length);for(var m=Sr(),y=s.mutations,b=0;b<y.length;b++)m=m.insert(y[b].key,h[b].version);return new c(s,l,h,m)},c}(),rh=function(){function c(s,l,h,m,y,b,D){void 0===y&&(y=mt.min()),void 0===b&&(b=mt.min()),void 0===D&&(D=ki.EMPTY_BYTE_STRING),this.target=s,this.targetId=l,this.purpose=h,this.sequenceNumber=m,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=D}return c.prototype.withSequenceNumber=function(s){return new c(this.target,this.targetId,this.purpose,s,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},c.prototype.withResumeToken=function(s,l){return new c(this.target,this.targetId,this.purpose,this.sequenceNumber,l,this.lastLimboFreeSnapshotVersion,s)},c.prototype.withLastLimboFreeSnapshotVersion=function(s){return new c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,s,this.resumeToken)},c}(),Du=function(c){this.Lt=c};function xa(c,s){if(s.document)return ms(c.Lt,s.document,!!s.hasCommittedMutations);if(s.noDocument){var l=Ve.fromSegments(s.noDocument.path),h=yc(s.noDocument.readTime),m=Gr.newNoDocument(l,h);return s.hasCommittedMutations?m.setHasCommittedMutations():m}if(s.unknownDocument){var y=Ve.fromSegments(s.unknownDocument.path);return h=yc(s.unknownDocument.version),Gr.newUnknownDocument(y,h)}return He()}function Ii(c,s,l){var B,z,h=Xp(l),m=s.key.path.popLast().toArray();if(s.isFoundDocument()){var y={name:xl(B=c.Lt,(z=s).key),fields:z.data.value.mapValue.fields,updateTime:Sl(B,z.version.toTimestamp())},b=s.hasCommittedMutations;return new Vn(null,null,y,b,h,m)}if(s.isNoDocument()){var D=s.key.path.toArray(),T=xr(s.version);return b=s.hasCommittedMutations,new Vn(null,new Wv(D,T),null,b,h,m)}if(s.isUnknownDocument()){var O=s.key.path.toArray(),P=xr(s.version);return new Vn(new Kv(O,P),null,null,!0,h,m)}return He()}function Xp(c){var s=c.toTimestamp();return[s.seconds,s.nanoseconds]}function Qp(c){var s=new qr(c[0],c[1]);return mt.fromTimestamp(s)}function xr(c){var s=c.toTimestamp();return new Nl(s.seconds,s.nanoseconds)}function yc(c){var s=new qr(c.seconds,c.nanoseconds);return mt.fromTimestamp(s)}function Cu(c,s){for(var l=(s.baseMutations||[]).map(function(T){return Wp(c.Lt,T)}),h=0;h<s.mutations.length-1;++h)h+1<s.mutations.length&&void 0!==s.mutations[h+1].transform&&(s.mutations[h].updateTransforms=s.mutations[h+1].transform.fieldTransforms,s.mutations.splice(h+1,1),++h);var b=s.mutations.map(function(T){return Wp(c.Lt,T)}),D=qr.fromMillis(s.localWriteTimeMs);return new Nf(s.batchId,D,l,b)}function Aa(c){var s,l,h=yc(c.readTime),m=void 0!==c.lastLimboFreeSnapshotVersion?yc(c.lastLimboFreeSnapshotVersion):mt.min();return void 0!==c.query.documents?(nt(1===(l=c.query).documents.length),s=Oi(gl(bu(l.documents[0])))):s=Oi(kl(c.query)),new rh(s,c.targetId,0,c.lastListenSequenceNumber,h,m,ki.fromBase64String(c.resumeToken))}function Iu(c,s){var l,h=xr(s.snapshotVersion),m=xr(s.lastLimboFreeSnapshotVersion);l=Pd(s.target)?Ml(c.Lt,s.target):Rl(c.Lt,s.target);var y=s.resumeToken.toBase64();return new Ki(s.targetId,lc(s.target),h,y,s.sequenceNumber,m,l)}function Ma(c){var s=kl({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?Up(s,s.limit,"L"):s}var Fl=function(){function c(){}return c.prototype.getBundleMetadata=function(s,l){return Jp(s).get(l).next(function(h){if(h)return{id:(m=h).bundleId,createTime:yc(m.createTime),version:m.version};var m})},c.prototype.saveBundleMetadata=function(s,l){return Jp(s).put({bundleId:(h=l).id,createTime:xr(Vr(h.createTime)),version:h.version});var h},c.prototype.getNamedQuery=function(s,l){return Ll(s).get(l).next(function(h){if(h)return{name:(m=h).name,query:Ma(m.bundledQuery),readTime:yc(m.readTime)};var m})},c.prototype.saveNamedQuery=function(s,l){return Ll(s).put({name:(h=l).name,readTime:xr(Vr(h.readTime)),bundledQuery:h.bundledQuery});var h},c}();function Jp(c){return Ur(c,qs.store)}function Ll(c){return Ur(c,Eu.store)}var _c=function(){function c(){this.Bt=new em}return c.prototype.addToCollectionParentIndex=function(s,l){return this.Bt.add(l),Se.resolve()},c.prototype.getCollectionParents=function(s,l){return Se.resolve(this.Bt.getEntries(l))},c}(),em=function(){function c(){this.index={}}return c.prototype.add=function(s){var l=s.lastSegment(),h=s.popLast(),m=this.index[l]||new de(Kt.comparator),y=!m.has(h);return this.index[l]=m.add(h),y},c.prototype.has=function(s){var l=s.lastSegment(),h=s.popLast(),m=this.index[l];return m&&m.has(h)},c.prototype.getEntries=function(s){return(this.index[s]||new de(Kt.comparator)).toArray()},c}(),tm=function(){function c(){this.qt=new em}return c.prototype.addToCollectionParentIndex=function(s,l){var h=this;if(!this.qt.has(l)){var m=l.lastSegment(),y=l.popLast();s.addOnCommittedListener(function(){h.qt.add(l)});var b={collectionId:m,parent:Wi(y)};return nm(s).put(b)}return Se.resolve()},c.prototype.getCollectionParents=function(s,l){var h=[],m=IDBKeyRange.bound([l,""],[dr(l),""],!1,!0);return nm(s).Nt(m).next(function(y){for(var b=0,D=y;b<D.length;b++){var T=D[b];if(T.collectionId!==l)break;h.push(Di(T.parent))}return h})},c}();function nm(c){return Ur(c,$s.store)}var rm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vs=function(){function c(s,l,h){this.cacheSizeCollectionThreshold=s,this.percentileToCollect=l,this.maximumSequenceNumbersToCollect=h}return c.withCacheSize=function(s){return new c(s,c.DEFAULT_COLLECTION_PERCENTILE,c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},c}();function Zv(c,s,l){var h=c.store(Yn.store),m=c.store(ci.store),y=[],b=IDBKeyRange.only(l.batchId),D=0,T=h.$t({range:b},function(te,he,Me){return D++,Me.delete()});y.push(T.next(function(){nt(1===D)}));for(var O=[],P=0,B=l.mutations;P<B.length;P++){var z=B[P],re=ci.key(s,z.key.path,l.batchId);y.push(m.delete(re)),O.push(z.key)}return Se.waitFor(y).next(function(){return O})}function im(c){if(!c)return 0;var s;if(c.document)s=c.document;else if(c.unknownDocument)s=c.unknownDocument;else{if(!c.noDocument)throw He();s=c.noDocument}return JSON.stringify(s).length}vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(41943040,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);var x_=function(){function c(s,l,h,m){this.userId=s,this.R=l,this.Ut=h,this.referenceDelegate=m,this.Kt={}}return c.Qt=function(s,l,h,m){return nt(""!==s.uid),new c(s.isAuthenticated()?s.uid:"",l,h,m)},c.prototype.checkEmpty=function(s){var l=!0,h=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bc(s).$t({index:Yn.userMutationsIndex,range:h},function(m,y,b){l=!1,b.done()}).next(function(){return l})},c.prototype.addMutationBatch=function(s,l,h,m){var y=this,b=jl(s),D=bc(s);return D.add({}).next(function(T){nt("number"==typeof T);for(var O=new Nf(T,l,h,m),P=function(Le,ot,lt){var Qt=lt.baseMutations.map(function(Hn){return An(Le.Lt,Hn)}),vn=lt.mutations.map(function(Hn){return An(Le.Lt,Hn)});return new Yn(ot,lt.batchId,lt.localWriteTime.toMillis(),Qt,vn)}(y.R,y.userId,O),B=[],z=new de(function(Le,ot){return Xe(Le.canonicalString(),ot.canonicalString())}),re=0,te=m;re<te.length;re++){var he=te[re],Me=ci.key(y.userId,he.key.path,T);z=z.add(he.key.path.popLast()),B.push(D.put(P)),B.push(b.put(Me,ci.PLACEHOLDER))}return z.forEach(function(Le){B.push(y.Ut.addToCollectionParentIndex(s,Le))}),s.addOnCommittedListener(function(){y.Kt[T]=O.keys()}),Se.waitFor(B).next(function(){return O})})},c.prototype.lookupMutationBatch=function(s,l){var h=this;return bc(s).get(l).next(function(m){return m?(nt(m.userId===h.userId),Cu(h.R,m)):null})},c.prototype.jt=function(s,l){var h=this;return this.Kt[l]?Se.resolve(this.Kt[l]):this.lookupMutationBatch(s,l).next(function(m){if(m){var y=m.keys();return h.Kt[l]=y,y}return null})},c.prototype.getNextMutationBatchAfterBatchId=function(s,l){var h=this,m=l+1,y=IDBKeyRange.lowerBound([this.userId,m]),b=null;return bc(s).$t({index:Yn.userMutationsIndex,range:y},function(D,T,O){T.userId===h.userId&&(nt(T.batchId>=m),b=Cu(h.R,T)),O.done()}).next(function(){return b})},c.prototype.getHighestUnacknowledgedBatchId=function(s){var l=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),h=-1;return bc(s).$t({index:Yn.userMutationsIndex,range:l,reverse:!0},function(m,y,b){h=y.batchId,b.done()}).next(function(){return h})},c.prototype.getAllMutationBatches=function(s){var l=this,h=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bc(s).Nt(Yn.userMutationsIndex,h).next(function(m){return m.map(function(y){return Cu(l.R,y)})})},c.prototype.getAllMutationBatchesAffectingDocumentKey=function(s,l){var h=this,m=ci.prefixForPath(this.userId,l.path),y=IDBKeyRange.lowerBound(m),b=[];return jl(s).$t({range:y},function(D,T,O){var P=D[0],z=D[2],re=Di(D[1]);if(P===h.userId&&l.path.isEqual(re))return bc(s).get(z).next(function(te){if(!te)throw He();nt(te.userId===h.userId),b.push(Cu(h.R,te))});O.done()}).next(function(){return b})},c.prototype.getAllMutationBatchesAffectingDocumentKeys=function(s,l){var h=this,m=new de(Xe),y=[];return l.forEach(function(b){var D=ci.prefixForPath(h.userId,b.path),T=IDBKeyRange.lowerBound(D),O=jl(s).$t({range:T},function(P,B,z){var re=P[0],he=P[2],Me=Di(P[1]);re===h.userId&&b.path.isEqual(Me)?m=m.add(he):z.done()});y.push(O)}),Se.waitFor(y).next(function(){return h.Wt(s,m)})},c.prototype.getAllMutationBatchesAffectingQuery=function(s,l){var h=this,m=l.path,y=m.length+1,b=ci.prefixForPath(this.userId,m),D=IDBKeyRange.lowerBound(b),T=new de(Xe);return jl(s).$t({range:D},function(O,P,B){var z=O[0],te=O[2],he=Di(O[1]);z===h.userId&&m.isPrefixOf(he)?he.length===y&&(T=T.add(te)):B.done()}).next(function(){return h.Wt(s,T)})},c.prototype.Wt=function(s,l){var h=this,m=[],y=[];return l.forEach(function(b){y.push(bc(s).get(b).next(function(D){if(null===D)throw He();nt(D.userId===h.userId),m.push(Cu(h.R,D))}))}),Se.waitFor(y).next(function(){return m})},c.prototype.removeMutationBatch=function(s,l){var h=this;return Zv(s.Mt,this.userId,l).next(function(m){return s.addOnCommittedListener(function(){h.Gt(l.batchId)}),Se.forEach(m,function(y){return h.referenceDelegate.markPotentiallyOrphaned(s,y)})})},c.prototype.Gt=function(s){delete this.Kt[s]},c.prototype.performConsistencyCheck=function(s){var l=this;return this.checkEmpty(s).next(function(h){if(!h)return Se.resolve();var m=IDBKeyRange.lowerBound(ci.prefixForUser(l.userId)),y=[];return jl(s).$t({range:m},function(b,D,T){if(b[0]===l.userId){var O=Di(b[1]);y.push(O)}else T.done()}).next(function(){nt(0===y.length)})})},c.prototype.containsKey=function(s,l){return Su(s,this.userId,l)},c.prototype.zt=function(s){var l=this;return Hr(s).get(this.userId).next(function(h){return h||new zs(l.userId,-1,"")})},c}();function Su(c,s,l){var h=ci.prefixForPath(s,l.path),m=h[1],y=IDBKeyRange.lowerBound(h),b=!1;return jl(c).$t({range:y,Ft:!0},function(D,T,O){D[0]===s&&D[1]===m&&(b=!0),O.done()}).next(function(){return b})}function bc(c){return Ur(c,Yn.store)}function jl(c){return Ur(c,ci.store)}function Hr(c){return Ur(c,zs.store)}var Pf=function(){function c(s){this.Ht=s}return c.prototype.next=function(){return this.Ht+=2,this.Ht},c.Jt=function(){return new c(0)},c.Yt=function(){return new c(-1)},c}(),ih=function(){function c(s,l){this.referenceDelegate=s,this.R=l}return c.prototype.allocateTargetId=function(s){var l=this;return this.Xt(s).next(function(h){var m=new Pf(h.highestTargetId);return h.highestTargetId=m.next(),l.Zt(s,h).next(function(){return h.highestTargetId})})},c.prototype.getLastRemoteSnapshotVersion=function(s){return this.Xt(s).next(function(l){return mt.fromTimestamp(new qr(l.lastRemoteSnapshotVersion.seconds,l.lastRemoteSnapshotVersion.nanoseconds))})},c.prototype.getHighestSequenceNumber=function(s){return this.Xt(s).next(function(l){return l.highestListenSequenceNumber})},c.prototype.setTargetsMetadata=function(s,l,h){var m=this;return this.Xt(s).next(function(y){return y.highestListenSequenceNumber=l,h&&(y.lastRemoteSnapshotVersion=h.toTimestamp()),l>y.highestListenSequenceNumber&&(y.highestListenSequenceNumber=l),m.Zt(s,y)})},c.prototype.addTargetData=function(s,l){var h=this;return this.te(s,l).next(function(){return h.Xt(s).next(function(m){return m.targetCount+=1,h.ee(l,m),h.Zt(s,m)})})},c.prototype.updateTargetData=function(s,l){return this.te(s,l)},c.prototype.removeTargetData=function(s,l){var h=this;return this.removeMatchingKeysForTargetId(s,l.targetId).next(function(){return Bl(s).delete(l.targetId)}).next(function(){return h.Xt(s)}).next(function(m){return nt(m.targetCount>0),m.targetCount-=1,h.Zt(s,m)})},c.prototype.removeTargets=function(s,l,h){var m=this,y=0,b=[];return Bl(s).$t(function(D,T){var O=Aa(T);O.sequenceNumber<=l&&null===h.get(O.targetId)&&(y++,b.push(m.removeTargetData(s,O)))}).next(function(){return Se.waitFor(b)}).next(function(){return y})},c.prototype.forEachTarget=function(s,l){return Bl(s).$t(function(h,m){var y=Aa(m);l(y)})},c.prototype.Xt=function(s){return Mo(s).get(Ci.key).next(function(l){return nt(null!==l),l})},c.prototype.Zt=function(s,l){return Mo(s).put(Ci.key,l)},c.prototype.te=function(s,l){return Bl(s).put(Iu(this.R,l))},c.prototype.ee=function(s,l){var h=!1;return s.targetId>l.highestTargetId&&(l.highestTargetId=s.targetId,h=!0),s.sequenceNumber>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=s.sequenceNumber,h=!0),h},c.prototype.getTargetCount=function(s){return this.Xt(s).next(function(l){return l.targetCount})},c.prototype.getTargetData=function(s,l){var h=lc(l),m=IDBKeyRange.bound([h,Number.NEGATIVE_INFINITY],[h,Number.POSITIVE_INFINITY]),y=null;return Bl(s).$t({range:m,index:Ki.queryTargetsIndexName},function(b,D,T){var O=Aa(D);pl(l,O.target)&&(y=O,T.done())}).next(function(){return y})},c.prototype.addMatchingKeys=function(s,l,h){var m=this,y=[],b=Ro(s);return l.forEach(function(D){var T=Wi(D.path);y.push(b.put(new Jn(h,T))),y.push(m.referenceDelegate.addReference(s,h,D))}),Se.waitFor(y)},c.prototype.removeMatchingKeys=function(s,l,h){var m=this,y=Ro(s);return Se.forEach(l,function(b){var D=Wi(b.path);return Se.waitFor([y.delete([h,D]),m.referenceDelegate.removeReference(s,h,b)])})},c.prototype.removeMatchingKeysForTargetId=function(s,l){var h=Ro(s),m=IDBKeyRange.bound([l],[l+1],!1,!0);return h.delete(m)},c.prototype.getMatchingKeysForTargetId=function(s,l){var h=IDBKeyRange.bound([l],[l+1],!1,!0),m=Ro(s),y=yn();return m.$t({range:h,Ft:!0},function(b,D,T){var O=Di(b[1]),P=new Ve(O);y=y.add(P)}).next(function(){return y})},c.prototype.containsKey=function(s,l){var h=Wi(l.path),m=IDBKeyRange.bound([h],[dr(h)],!1,!0),y=0;return Ro(s).$t({index:Jn.documentTargetsIndex,Ft:!0,range:m},function(b,D,T){0!==b[0]&&(y++,T.done())}).next(function(){return y>0})},c.prototype.lt=function(s,l){return Bl(s).get(l).next(function(h){return h?Aa(h):null})},c}();function Bl(c){return Ur(c,Ki.store)}function Mo(c){return Ur(c,Ci.store)}function Ro(c){return Ur(c,Jn.store)}function wc(c){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(s){if(c.code!==ue.FAILED_PRECONDITION||c.message!==xo)throw c;return pe("LocalStore","Unexpectedly lost primary lease"),[2]})})}function oh(c,s){var h=c[1],y=s[1],b=Xe(c[0],s[0]);return 0===b?Xe(h,y):b}var sh=function(){function c(s){this.ne=s,this.buffer=new de(oh),this.se=0}return c.prototype.ie=function(){return++this.se},c.prototype.re=function(s){var l=[s,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(l);else{var h=this.buffer.last();oh(l,h)<0&&(this.buffer=this.buffer.delete(h).add(l))}},Object.defineProperty(c.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),c}(),Xv=function(){function c(s,l){this.garbageCollector=s,this.asyncQueue=l,this.oe=!1,this.ce=null}return c.prototype.start=function(s){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(s)},c.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(c.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),c.prototype.ue=function(s){var l=this,h=this.oe?3e5:6e4;pe("LruGarbageCollector","Garbage collection scheduled in "+h+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",h,function(){return(0,S.mG)(l,void 0,void 0,function(){var m;return(0,S.Jh)(this,function(y){switch(y.label){case 0:this.ce=null,this.oe=!0,y.label=1;case 1:return y.trys.push([1,3,,7]),[4,s.collectGarbage(this.garbageCollector)];case 2:return y.sent(),[3,7];case 3:return vc(m=y.sent())?(pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",m),[3,6]):[3,4];case 4:return[4,wc(m)];case 5:y.sent(),y.label=6;case 6:return[3,7];case 7:return[4,this.ue(s)];case 8:return y.sent(),[2]}})})})},c}(),A_=function(){function c(s,l){this.ae=s,this.params=l}return c.prototype.calculateTargetCount=function(s,l){return this.ae.he(s).next(function(h){return Math.floor(l/100*h)})},c.prototype.nthSequenceNumber=function(s,l){var h=this;if(0===l)return Se.resolve(_i.o);var m=new sh(l);return this.ae.forEachTarget(s,function(y){return m.re(y.sequenceNumber)}).next(function(){return h.ae.le(s,function(y){return m.re(y)})}).next(function(){return m.maxValue})},c.prototype.removeTargets=function(s,l,h){return this.ae.removeTargets(s,l,h)},c.prototype.removeOrphanedDocuments=function(s,l){return this.ae.removeOrphanedDocuments(s,l)},c.prototype.collect=function(s,l){var h=this;return-1===this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(rm)):this.getCacheSize(s).next(function(m){return m<h.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector","Garbage collection skipped; Cache size "+m+" is lower than threshold "+h.params.cacheSizeCollectionThreshold),rm):h.fe(s,l)})},c.prototype.getCacheSize=function(s){return this.ae.getCacheSize(s)},c.prototype.fe=function(s,l){var h,m,y,b,D,T,O,P=this,B=Date.now();return this.calculateTargetCount(s,this.params.percentileToCollect).next(function(z){return z>P.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+P.params.maximumSequenceNumbersToCollect+" from "+z),m=P.params.maximumSequenceNumbersToCollect):m=z,b=Date.now(),P.nthSequenceNumber(s,m)}).next(function(z){return h=z,D=Date.now(),P.removeTargets(s,h,l)}).next(function(z){return y=z,T=Date.now(),P.removeOrphanedDocuments(s,h)}).next(function(z){return O=Date.now(),wi()<=rt.in.DEBUG&&pe("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(b-B)+"ms\n\tDetermined least recently used "+m+" in "+(D-b)+"ms\n\tRemoved "+y+" targets in "+(T-D)+"ms\n\tRemoved "+z+" documents in "+(O-T)+"ms\nTotal Duration: "+(O-B)+"ms"),Se.resolve({didRun:!0,sequenceNumbersCollected:m,targetsRemoved:y,documentsRemoved:z})})},c}(),Qv=function(){function c(s,l){this.db=s,this.garbageCollector=new A_(this,l)}return c.prototype.he=function(s){var l=this.de(s);return this.db.getTargetCache().getTargetCount(s).next(function(h){return l.next(function(m){return h+m})})},c.prototype.de=function(s){var l=0;return this.le(s,function(h){l++}).next(function(){return l})},c.prototype.forEachTarget=function(s,l){return this.db.getTargetCache().forEachTarget(s,l)},c.prototype.le=function(s,l){return this.we(s,function(h,m){return l(m)})},c.prototype.addReference=function(s,l,h){return om(s,h)},c.prototype.removeReference=function(s,l,h){return om(s,h)},c.prototype.removeTargets=function(s,l,h){return this.db.getTargetCache().removeTargets(s,l,h)},c.prototype.markPotentiallyOrphaned=function(s,l){return om(s,l)},c.prototype._e=function(s,l){return m=l,y=!1,Hr(h=s).Ot(function(b){return Su(h,b,m).next(function(D){return D&&(y=!0),Se.resolve(!D)})}).next(function(){return y});var h,m,y},c.prototype.removeOrphanedDocuments=function(s,l){var h=this,m=this.db.getRemoteDocumentCache().newChangeBuffer(),y=[],b=0;return this.we(s,function(D,T){if(T<=l){var O=h._e(s,D).next(function(P){if(!P)return b++,m.getEntry(s,D).next(function(){return m.removeEntry(D),Ro(s).delete([0,Wi(D.path)])})});y.push(O)}}).next(function(){return Se.waitFor(y)}).next(function(){return m.apply(s)}).next(function(){return b})},c.prototype.removeTarget=function(s,l){var h=l.withSequenceNumber(s.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(s,h)},c.prototype.updateLimboDocument=function(s,l){return om(s,l)},c.prototype.we=function(s,l){var h,m=Ro(s),y=_i.o;return m.$t({index:Jn.documentTargetsIndex},function(b,D){var O=D.path,P=D.sequenceNumber;0===b[0]?(y!==_i.o&&l(new Ve(Di(h)),y),y=P,h=O):y=_i.o}).next(function(){y!==_i.o&&l(new Ve(Di(h)),y)})},c.prototype.getCacheSize=function(s){return this.db.getRemoteDocumentCache().getSize(s)},c}();function om(c,s){return Ro(c).put((h=c.currentSequenceNumber,new Jn(0,Wi(s.path),h)));var h}var Yr=function(){function c(s,l){this.mapKeyFn=s,this.equalsFn=l,this.inner={}}return c.prototype.get=function(s){var l=this.mapKeyFn(s),h=this.inner[l];if(void 0!==h)for(var m=0,y=h;m<y.length;m++){var b=y[m],T=b[1];if(this.equalsFn(b[0],s))return T}},c.prototype.has=function(s){return void 0!==this.get(s)},c.prototype.set=function(s,l){var h=this.mapKeyFn(s),m=this.inner[h];if(void 0!==m){for(var y=0;y<m.length;y++)if(this.equalsFn(m[y][0],s))return void(m[y]=[s,l]);m.push([s,l])}else this.inner[h]=[[s,l]]},c.prototype.delete=function(s){var l=this.mapKeyFn(s),h=this.inner[l];if(void 0===h)return!1;for(var m=0;m<h.length;m++)if(this.equalsFn(h[m][0],s))return 1===h.length?delete this.inner[l]:h.splice(m,1),!0;return!1},c.prototype.forEach=function(s){Er(this.inner,function(l,h){for(var m=0,y=h;m<y.length;m++){var b=y[m];s(b[0],b[1])}})},c.prototype.isEmpty=function(){return Rd(this.inner)},c}(),ah=function(){function c(){this.changes=new Yr(function(s){return s.toString()},function(s,l){return s.isEqual(l)}),this.changesApplied=!1}return c.prototype.getReadTime=function(s){var l=this.changes.get(s);return l?l.readTime:mt.min()},c.prototype.addEntry=function(s,l){this.assertNotApplied(),this.changes.set(s.key,{document:s,readTime:l})},c.prototype.removeEntry=function(s,l){void 0===l&&(l=null),this.assertNotApplied(),this.changes.set(s,{document:Gr.newInvalidDocument(s),readTime:l})},c.prototype.getEntry=function(s,l){this.assertNotApplied();var h=this.changes.get(l);return void 0!==h?Se.resolve(h.document):this.getFromCache(s,l)},c.prototype.getEntries=function(s,l){return this.getAllFromCache(s,l)},c.prototype.apply=function(s){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(s)},c.prototype.assertNotApplied=function(){},c}(),Vl=function(){function c(s,l){this.R=s,this.Ut=l}return c.prototype.addEntry=function(s,l,h){return Ec(s).put(Ff(l),h)},c.prototype.removeEntry=function(s,l){var h=Ec(s),m=Ff(l);return h.delete(m)},c.prototype.updateMetadata=function(s,l){var h=this;return this.getMetadata(s).next(function(m){return m.byteSize+=l,h.me(s,m)})},c.prototype.getEntry=function(s,l){var h=this;return Ec(s).get(Ff(l)).next(function(m){return h.ye(l,m)})},c.prototype.ge=function(s,l){var h=this;return Ec(s).get(Ff(l)).next(function(m){return{document:h.ye(l,m),size:im(m)}})},c.prototype.getEntries=function(s,l){var h=this,m=bn();return this.pe(s,l,function(y,b){var D=h.ye(y,b);m=m.insert(y,D)}).next(function(){return m})},c.prototype.Ee=function(s,l){var h=this,m=bn(),y=new Bn(Ve.comparator);return this.pe(s,l,function(b,D){var T=h.ye(b,D);m=m.insert(b,T),y=y.insert(b,im(D))}).next(function(){return{documents:m,Te:y}})},c.prototype.pe=function(s,l,h){if(l.isEmpty())return Se.resolve();var m=IDBKeyRange.bound(l.first().path.toArray(),l.last().path.toArray()),y=l.getIterator(),b=y.getNext();return Ec(s).$t({range:m},function(D,T,O){for(var P=Ve.fromSegments(D);b&&Ve.comparator(b,P)<0;)h(b,null),b=y.getNext();b&&b.isEqual(P)&&(h(b,T),b=y.hasNext()?y.getNext():null),b?O.Ct(b.path.toArray()):O.done()}).next(function(){for(;b;)h(b,null),b=y.hasNext()?y.getNext():null})},c.prototype.getDocumentsMatchingQuery=function(s,l,h){var m=this,y=bn(),b=l.path.length+1,D={};if(h.isEqual(mt.min())){var T=l.path.toArray();D.range=IDBKeyRange.lowerBound(T)}else{var O=l.path.toArray(),P=Xp(h);D.range=IDBKeyRange.lowerBound([O,P],!0),D.index=Vn.collectionReadTimeIndex}return Ec(s).$t(D,function(B,z,re){if(B.length===b){var te=xa(m.R,z);l.path.isPrefixOf(te.key.path)?uo(l,te)&&(y=y.insert(te.key,te)):re.done()}}).next(function(){return y})},c.prototype.newChangeBuffer=function(s){return new M_(this,!!s&&s.trackRemovals)},c.prototype.getSize=function(s){return this.getMetadata(s).next(function(l){return l.byteSize})},c.prototype.getMetadata=function(s){return sm(s).get(ui.key).next(function(l){return nt(!!l),l})},c.prototype.me=function(s,l){return sm(s).put(ui.key,l)},c.prototype.ye=function(s,l){if(l){var h=xa(this.R,l);if(!h.isNoDocument()||!h.version.isEqual(mt.min()))return h}return Gr.newInvalidDocument(s)},c}(),M_=function(c){function s(l,h){var m=this;return(m=c.call(this)||this).Ie=l,m.trackRemovals=h,m.Ae=new Yr(function(y){return y.toString()},function(y,b){return y.isEqual(b)}),m}return(0,S.ZT)(s,c),s.prototype.applyChanges=function(l){var h=this,m=[],y=0,b=new de(function(D,T){return Xe(D.canonicalString(),T.canonicalString())});return this.changes.forEach(function(D,T){var O=h.Ae.get(D);if(T.document.isValidDocument()){var P=Ii(h.Ie.R,T.document,h.getReadTime(D));b=b.add(D.path.popLast());var B=im(P);y+=B-O,m.push(h.Ie.addEntry(l,D,P))}else if(y-=O,h.trackRemovals){var z=Ii(h.Ie.R,Gr.newNoDocument(D,mt.min()),h.getReadTime(D));m.push(h.Ie.addEntry(l,D,z))}else m.push(h.Ie.removeEntry(l,D))}),b.forEach(function(D){m.push(h.Ie.Ut.addToCollectionParentIndex(l,D))}),m.push(this.Ie.updateMetadata(l,y)),Se.waitFor(m)},s.prototype.getFromCache=function(l,h){var m=this;return this.Ie.ge(l,h).next(function(y){return m.Ae.set(h,y.size),y.document})},s.prototype.getAllFromCache=function(l,h){var m=this;return this.Ie.Ee(l,h).next(function(y){var b=y.documents;return y.Te.forEach(function(D,T){m.Ae.set(D,T)}),b})},s}(ah);function sm(c){return Ur(c,ui.store)}function Ec(c){return Ur(c,Vn.store)}function Ff(c){return c.path.toArray()}var Jv=function(){function c(s){this.R=s}return c.prototype.Rt=function(s,l,h,m){var y=this;nt(h<m&&h>=0&&m<=11);var T,b=new Ao("createOrUpgrade",l);h<1&&m>=1&&(s.createObjectStore(Kr.store),(T=s).createObjectStore(zs.store,{keyPath:zs.keyPath}),T.createObjectStore(Yn.store,{keyPath:Yn.keyPath,autoIncrement:!0}).createIndex(Yn.userMutationsIndex,Yn.userMutationsKeyPath,{unique:!0}),T.createObjectStore(ci.store),Eg(s),function(T){T.createObjectStore(Vn.store)}(s));var D=Se.resolve();return h<3&&m>=3&&(0!==h&&(function(T){T.deleteObjectStore(Jn.store),T.deleteObjectStore(Ki.store),T.deleteObjectStore(Ci.store)}(s),Eg(s)),D=D.next(function(){return function(T){var O=T.store(Ci.store),P=new Ci(0,0,mt.min().toTimestamp(),0);return O.put(Ci.key,P)}(b)})),h<4&&m>=4&&(0!==h&&(D=D.next(function(){return function(T,O){return O.store(Yn.store).Nt().next(function(P){T.deleteObjectStore(Yn.store),T.createObjectStore(Yn.store,{keyPath:Yn.keyPath,autoIncrement:!0}).createIndex(Yn.userMutationsIndex,Yn.userMutationsKeyPath,{unique:!0});var B=O.store(Yn.store),z=P.map(function(re){return B.put(re)});return Se.waitFor(z)})}(s,b)})),D=D.next(function(){!function(T){T.createObjectStore(gc.store,{keyPath:gc.keyPath})}(s)})),h<5&&m>=5&&(D=D.next(function(){return y.Re(b)})),h<6&&m>=6&&(D=D.next(function(){return function(T){T.createObjectStore(ui.store)}(s),y.be(b)})),h<7&&m>=7&&(D=D.next(function(){return y.ve(b)})),h<8&&m>=8&&(D=D.next(function(){return y.Pe(s,b)})),h<9&&m>=9&&(D=D.next(function(){(function(T){T.objectStoreNames.contains("remoteDocumentChanges")&&T.deleteObjectStore("remoteDocumentChanges")})(s),function(T){var O=T.objectStore(Vn.store);O.createIndex(Vn.readTimeIndex,Vn.readTimeIndexPath,{unique:!1}),O.createIndex(Vn.collectionReadTimeIndex,Vn.collectionReadTimeIndexPath,{unique:!1})}(l)})),h<10&&m>=10&&(D=D.next(function(){return y.Ve(b)})),h<11&&m>=11&&(D=D.next(function(){(function(T){T.createObjectStore(qs.store,{keyPath:qs.keyPath})})(s),function(T){T.createObjectStore(Eu.store,{keyPath:Eu.keyPath})}(s)})),D},c.prototype.be=function(s){var l=0;return s.store(Vn.store).$t(function(h,m){l+=im(m)}).next(function(){var h=new ui(l);return s.store(ui.store).put(ui.key,h)})},c.prototype.Re=function(s){var l=this,h=s.store(zs.store),m=s.store(Yn.store);return h.Nt().next(function(y){return Se.forEach(y,function(b){var D=IDBKeyRange.bound([b.userId,-1],[b.userId,b.lastAcknowledgedBatchId]);return m.Nt(Yn.userMutationsIndex,D).next(function(T){return Se.forEach(T,function(O){nt(O.userId===b.userId);var P=Cu(l.R,O);return Zv(s,b.userId,P).next(function(){})})})})})},c.prototype.ve=function(s){var l=s.store(Jn.store),h=s.store(Vn.store);return s.store(Ci.store).get(Ci.key).next(function(m){var y=[];return h.$t(function(b,D){var T=new Kt(b),O=[0,Wi(T)];y.push(l.get(O).next(function(P){return P?Se.resolve():l.put(new Jn(0,Wi(T),m.highestListenSequenceNumber))}))}).next(function(){return Se.waitFor(y)})})},c.prototype.Pe=function(s,l){s.createObjectStore($s.store,{keyPath:$s.keyPath});var h=l.store($s.store),m=new em,y=function(b){if(m.add(b)){var D=b.lastSegment(),T=b.popLast();return h.put({collectionId:D,parent:Wi(T)})}};return l.store(Vn.store).$t({Ft:!0},function(b,D){var T=new Kt(b);return y(T.popLast())}).next(function(){return l.store(ci.store).$t({Ft:!0},function(b,D){var O=Di(b[1]);return y(O.popLast())})})},c.prototype.Ve=function(s){var l=this,h=s.store(Ki.store);return h.$t(function(m,y){var b=Aa(y),D=Iu(l.R,b);return h.put(D)})},c}();function Eg(c){c.createObjectStore(Jn.store,{keyPath:Jn.keyPath}).createIndex(Jn.documentTargetsIndex,Jn.documentTargetsKeyPath,{unique:!0}),c.createObjectStore(Ki.store,{keyPath:Ki.keyPath}).createIndex(Ki.queryTargetsIndexName,Ki.queryTargetsKeyPath,{unique:!0}),c.createObjectStore(Ci.store)}var Lf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ey=function(){function c(s,l,h,m,y,b,D,T,O,P){if(this.allowTabSynchronization=s,this.persistenceKey=l,this.clientId=h,this.Se=y,this.window=b,this.document=D,this.De=O,this.Ce=P,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(B){return Promise.resolve()},!c.yt())throw new we(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qv(this,m),this.Le=l+"main",this.R=new Du(T),this.Be=new Ta(this.Le,11,new Jv(this.R)),this.qe=new ih(this.referenceDelegate,this.R),this.Ut=new tm,this.Ue=new Vl(this.R,this.Ut),this.Ke=new Fl,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===P&&Fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return c.prototype.start=function(){var s=this;return this.je().then(function(){if(!s.isPrimary&&!s.allowTabSynchronization)throw new we(ue.FAILED_PRECONDITION,Lf);return s.We(),s.Ge(),s.ze(),s.runTransaction("getHighestListenSequenceNumber","readonly",function(l){return s.qe.getHighestSequenceNumber(l)})}).then(function(l){s.Ne=new _i(l,s.De)}).then(function(){s.xe=!0}).catch(function(l){return s.Be&&s.Be.close(),Promise.reject(l)})},c.prototype.He=function(s){var l=this;return this.Me=function(h){return(0,S.mG)(l,void 0,void 0,function(){return(0,S.Jh)(this,function(m){return this.started?[2,s(h)]:[2]})})},s(this.isPrimary)},c.prototype.setDatabaseDeletedListener=function(s){var l=this;this.Be.vt(function(h){return(0,S.mG)(l,void 0,void 0,function(){return(0,S.Jh)(this,function(m){switch(m.label){case 0:return null===h.newVersion?[4,s()]:[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})})})},c.prototype.setNetworkEnabled=function(s){var l=this;this.networkEnabled!==s&&(this.networkEnabled=s,this.Se.enqueueAndForget(function(){return(0,S.mG)(l,void 0,void 0,function(){return(0,S.Jh)(this,function(h){switch(h.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:h.sent(),h.label=2;case 2:return[2]}})})}))},c.prototype.je=function(){var s=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(l){return xu(l).put(new gc(s.clientId,Date.now(),s.networkEnabled,s.inForeground)).next(function(){if(s.isPrimary)return s.Je(l).next(function(h){h||(s.isPrimary=!1,s.Se.enqueueRetryable(function(){return s.Me(!1)}))})}).next(function(){return s.Ye(l)}).next(function(h){return s.isPrimary&&!h?s.Xe(l).next(function(){return!1}):!!h&&s.Ze(l).next(function(){return!0})})}).catch(function(l){if(vc(l))return pe("IndexedDbPersistence","Failed to extend owner lease: ",l),s.isPrimary;if(!s.allowTabSynchronization)throw l;return pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",l),!1}).then(function(l){s.isPrimary!==l&&s.Se.enqueueRetryable(function(){return s.Me(l)}),s.isPrimary=l})},c.prototype.Je=function(s){var l=this;return Tu(s).get(Kr.key).next(function(h){return Se.resolve(l.tn(h))})},c.prototype.en=function(s){return xu(s).delete(this.clientId)},c.prototype.nn=function(){return(0,S.mG)(this,void 0,void 0,function(){var s,l,h,y=this;return(0,S.Jh)(this,function(b){switch(b.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(D){var T=Ur(D,gc.store);return T.Nt().next(function(O){var P=y.rn(O,18e5),B=O.filter(function(z){return-1===P.indexOf(z)});return Se.forEach(B,function(z){return T.delete(z.clientId)}).next(function(){return B})})}).catch(function(){return[]})]);case 1:if(s=b.sent(),this.Qe)for(l=0,h=s;l<h.length;l++)this.Qe.removeItem(this.on(h[l].clientId));b.label=2;case 2:return[2]}})})},c.prototype.ze=function(){var s=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return s.je().then(function(){return s.nn()}).then(function(){return s.ze()})})},c.prototype.tn=function(s){return!!s&&s.ownerId===this.clientId},c.prototype.Ye=function(s){var l=this;return this.Ce?Se.resolve(!0):Tu(s).get(Kr.key).next(function(h){if(null!==h&&l.sn(h.leaseTimestampMs,5e3)&&!l.cn(h.ownerId)){if(l.tn(h)&&l.networkEnabled)return!0;if(!l.tn(h)){if(!h.allowTabSynchronization)throw new we(ue.FAILED_PRECONDITION,Lf);return!1}}return!(!l.networkEnabled||!l.inForeground)||xu(s).Nt().next(function(m){return void 0===l.rn(m,5e3).find(function(y){return!(l.clientId===y.clientId||!(!l.networkEnabled&&y.networkEnabled||!l.inForeground&&y.inForeground&&l.networkEnabled===y.networkEnabled))})})}).next(function(h){return l.isPrimary!==h&&pe("IndexedDbPersistence","Client "+(h?"is":"is not")+" eligible for a primary lease."),h})},c.prototype.shutdown=function(){return(0,S.mG)(this,void 0,void 0,function(){var s=this;return(0,S.Jh)(this,function(l){switch(l.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Kr.store,gc.store],function(h){var m=new Pl(h,_i.o);return s.Xe(m).next(function(){return s.en(m)})})];case 1:return l.sent(),this.Be.close(),this.ln(),[2]}})})},c.prototype.rn=function(s,l){var h=this;return s.filter(function(m){return h.sn(m.updateTimeMs,l)&&!h.cn(m.clientId)})},c.prototype.fn=function(){var s=this;return this.runTransaction("getActiveClients","readonly",function(l){return xu(l).Nt().next(function(h){return s.rn(h,18e5).map(function(m){return m.clientId})})})},Object.defineProperty(c.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),c.prototype.getMutationQueue=function(s){return x_.Qt(s,this.R,this.Ut,this.referenceDelegate)},c.prototype.getTargetCache=function(){return this.qe},c.prototype.getRemoteDocumentCache=function(){return this.Ue},c.prototype.getIndexManager=function(){return this.Ut},c.prototype.getBundleCache=function(){return this.Ke},c.prototype.runTransaction=function(s,l,h){var y,m=this;return pe("IndexedDbPersistence","Starting transaction:",s),this.Be.runTransaction(s,"readonly"===l?"readonly":"readwrite",Yv,function(D){return y=new Pl(D,m.Ne?m.Ne.next():_i.o),"readwrite-primary"===l?m.Je(y).next(function(T){return!!T||m.Ye(y)}).next(function(T){if(!T)throw Fr("Failed to obtain primary lease for action '"+s+"'."),m.isPrimary=!1,m.Se.enqueueRetryable(function(){return m.Me(!1)}),new we(ue.FAILED_PRECONDITION,xo);return h(y)}).next(function(T){return m.Ze(y).next(function(){return T})}):m.dn(y).next(function(){return h(y)})}).then(function(D){return y.raiseOnCommittedEvent(),D})},c.prototype.dn=function(s){var l=this;return Tu(s).get(Kr.key).next(function(h){if(null!==h&&l.sn(h.leaseTimestampMs,5e3)&&!l.cn(h.ownerId)&&!l.tn(h)&&!(l.Ce||l.allowTabSynchronization&&h.allowTabSynchronization))throw new we(ue.FAILED_PRECONDITION,Lf)})},c.prototype.Ze=function(s){var l=new Kr(this.clientId,this.allowTabSynchronization,Date.now());return Tu(s).put(Kr.key,l)},c.yt=function(){return Ta.yt()},c.prototype.Xe=function(s){var l=this,h=Tu(s);return h.get(Kr.key).next(function(m){return l.tn(m)?(pe("IndexedDbPersistence","Releasing primary lease."),h.delete(Kr.key)):Se.resolve()})},c.prototype.sn=function(s,l){var h=Date.now();return!(s<h-l||s>h&&(Fr("Detected an update time that is in the future: "+s+" > "+h),1))},c.prototype.We=function(){var s=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){s.Se.enqueueAndForget(function(){return s.inForeground="visible"===s.document.visibilityState,s.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},c.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},c.prototype.Ge=function(){var s,l=this;"function"==typeof(null===(s=this.window)||void 0===s?void 0:s.addEventListener)&&(this.ke=function(){l.un(),(0,$e.G6)()&&navigator.appVersion.match("Version/14")&&l.Se.enterRestrictedMode(!0),l.Se.enqueueAndForget(function(){return l.shutdown()})},this.window.addEventListener("pagehide",this.ke))},c.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},c.prototype.cn=function(s){var l;try{var h=null!==(null===(l=this.Qe)||void 0===l?void 0:l.getItem(this.on(s)));return pe("IndexedDbPersistence","Client '"+s+"' "+(h?"is":"is not")+" zombied in LocalStorage"),h}catch(m){return Fr("IndexedDbPersistence","Failed to get zombied client id.",m),!1}},c.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(s){Fr("Failed to set zombie client id.",s)}},c.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},c.prototype.on=function(s){return"firestore_zombie_"+this.persistenceKey+"_"+s},c}();function Tu(c){return Ur(c,Kr.store)}function xu(c){return Ur(c,gc.store)}function am(c,s){var l=c.projectId;return c.isDefaultDatabase||(l+="."+c.database),"firestore/"+s+"/"+l+"/"}var jt=function(c,s){this.progress=c,this.wn=s},cm=function(){function c(s,l,h){this.Ue=s,this._n=l,this.Ut=h}return c.prototype.mn=function(s,l){var h=this;return this._n.getAllMutationBatchesAffectingDocumentKey(s,l).next(function(m){return h.yn(s,l,m)})},c.prototype.yn=function(s,l,h){return this.Ue.getEntry(s,l).next(function(m){for(var y=0,b=h;y<b.length;y++)b[y].applyToLocalView(m);return m})},c.prototype.gn=function(s,l){s.forEach(function(h,m){for(var y=0,b=l;y<b.length;y++)b[y].applyToLocalView(m)})},c.prototype.pn=function(s,l){var h=this;return this.Ue.getEntries(s,l).next(function(m){return h.En(s,m).next(function(){return m})})},c.prototype.En=function(s,l){var h=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(s,l).next(function(m){return h.gn(l,m)})},c.prototype.getDocumentsMatchingQuery=function(s,l,h){return Ve.isDocumentKey((m=l).path)&&null===m.collectionGroup&&0===m.filters.length?this.Tn(s,l.path):_l(l)?this.In(s,l,h):this.An(s,l,h);var m},c.prototype.Tn=function(s,l){return this.mn(s,new Ve(l)).next(function(h){var m=Cl();return h.isFoundDocument()&&(m=m.insert(h.key,h)),m})},c.prototype.In=function(s,l,h){var m=this,y=l.collectionGroup,b=Cl();return this.Ut.getCollectionParents(s,y).next(function(D){return Se.forEach(D,function(T){var P,B,O=(P=l,B=T.child(y),new js(B,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt));return m.An(s,O,h).next(function(P){P.forEach(function(B,z){b=b.insert(B,z)})})}).next(function(){return b})})},c.prototype.An=function(s,l,h){var m,y,b=this;return this.Ue.getDocumentsMatchingQuery(s,l,h).next(function(D){return m=D,b._n.getAllMutationBatchesAffectingQuery(s,l)}).next(function(D){return b.Rn(s,y=D,m).next(function(T){m=T;for(var O=0,P=y;O<P.length;O++)for(var B=P[O],z=0,re=B.mutations;z<re.length;z++){var te=re[z],he=te.key,Me=m.get(he);null==Me&&(Me=Gr.newInvalidDocument(he),m=m.insert(he,Me)),Ho(te,Me,B.localWriteTime),Me.isFoundDocument()||(m=m.remove(he))}})}).next(function(){return m.forEach(function(D,T){uo(l,T)||(m=m.remove(D))}),m})},c.prototype.Rn=function(s,l,h){for(var m=yn(),y=0,b=l;y<b.length;y++)for(var D=0,T=b[y].mutations;D<T.length;D++){var O=T[D];O instanceof Br&&null===h.get(O.key)&&(m=m.add(O.key))}var P=h;return this.Ue.getEntries(s,m).next(function(B){return B.forEach(function(z,re){re.isFoundDocument()&&(P=P.insert(z,re))}),P})},c}(),Au=function(){function c(s,l,h,m){this.targetId=s,this.fromCache=l,this.bn=h,this.vn=m}return c.Pn=function(s,l){for(var h=yn(),m=yn(),y=0,b=l.docChanges;y<b.length;y++){var D=b[y];switch(D.type){case 0:h=h.add(D.doc.key);break;case 1:m=m.add(D.doc.key)}}return new c(s,l.fromCache,h,m)},c}(),Dg=function(){function c(){}return c.prototype.Vn=function(s){this.Sn=s},c.prototype.getDocumentsMatchingQuery=function(s,l,h,m){var b,y=this;return 0===(b=l).filters.length&&null===b.limit&&null==b.startAt&&null==b.endAt&&(0===b.explicitOrderBy.length||1===b.explicitOrderBy.length&&b.explicitOrderBy[0].field.isKeyField())||h.isEqual(mt.min())?this.Dn(s,l):this.Sn.pn(s,m).next(function(b){var D=y.Cn(l,b);return(vl(l)||yl(l))&&y.Nn(l.limitType,D,m,h)?y.Dn(s,l):(wi()<=rt.in.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),bl(l)),y.Sn.getDocumentsMatchingQuery(s,l,h).next(function(T){return D.forEach(function(O){T=T.insert(O.key,O)}),T}))})},c.prototype.Cn=function(s,l){var h=new de(If(s));return l.forEach(function(m,y){uo(s,y)&&(h=h.add(y))}),h},c.prototype.Nn=function(s,l,h,m){if(h.size!==l.size)return!0;var y="F"===s?l.last():l.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(m)>0)},c.prototype.Dn=function(s,l){return wi()<=rt.in.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",bl(l)),this.Sn.getDocumentsMatchingQuery(s,l,mt.min())},c}(),Cg=function(){function c(s,l,h,m){this.persistence=s,this.xn=l,this.R=m,this.kn=new Bn(Xe),this.Fn=new Yr(function(y){return lc(y)},pl),this.$n=mt.min(),this._n=s.getMutationQueue(h),this.On=s.getRemoteDocumentCache(),this.qe=s.getTargetCache(),this.Mn=new cm(this.On,this._n,this.persistence.getIndexManager()),this.Ke=s.getBundleCache(),this.xn.Vn(this.Mn)}return c.prototype.collectGarbage=function(s){var l=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(h){return s.collect(h,l.kn)})},c}();function jf(c,s,l,h){return new Cg(c,s,l,h)}function ch(c,s){return(0,S.mG)(this,void 0,void 0,function(){var l,h,m,y;return(0,S.Jh)(this,function(b){switch(b.label){case 0:return l=Pe(c),h=l._n,m=l.Mn,[4,l.persistence.runTransaction("Handle user change","readonly",function(D){var T;return l._n.getAllMutationBatches(D).next(function(O){return T=O,h=l.persistence.getMutationQueue(s),m=new cm(l.On,h,l.persistence.getIndexManager()),h.getAllMutationBatches(D)}).next(function(O){for(var P=[],B=[],z=yn(),re=0,te=T;re<te.length;re++){var he=te[re];P.push(he.batchId);for(var Me=0,Le=he.mutations;Me<Le.length;Me++)z=z.add(Le[Me].key)}for(var lt=0,Qt=O;lt<Qt.length;lt++){var vn=Qt[lt];B.push(vn.batchId);for(var Hn=0,go=vn.mutations;Hn<go.length;Hn++)z=z.add(go[Hn].key)}return m.pn(D,z).next(function(gp){return{Ln:gp,removedBatchIds:P,addedBatchIds:B}})})})];case 1:return y=b.sent(),[2,(l._n=h,l.Mn=m,l.xn.Vn(l.Mn),y)]}})})}function Ig(c,s){var l=Pe(c);return l.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(h){var b,D,T,O,P,B,z,m=s.batch.keys(),y=l.On.newChangeBuffer({trackRemovals:!0});return(b=l,D=h,T=s,O=y,P=T.batch,B=P.keys(),z=Se.resolve(),B.forEach(function(re){z=z.next(function(){return O.getEntry(D,re)}).next(function(te){var he=T.docVersions.get(re);nt(null!==he),te.version.compareTo(he)<0&&(P.applyToRemoteDocument(te,T),te.isValidDocument()&&O.addEntry(te,T.commitVersion))})}),z.next(function(){return b._n.removeMutationBatch(D,P)})).next(function(){return y.apply(h)}).next(function(){return l._n.performConsistencyCheck(h)}).next(function(){return l.Mn.pn(h,m)})})}function Sg(c){var s=Pe(c);return s.persistence.runTransaction("Get last remote snapshot version","readonly",function(l){return s.qe.getLastRemoteSnapshotVersion(l)})}function ty(c,s){var l=Pe(c),h=s.snapshotVersion,m=l.kn;return l.persistence.runTransaction("Apply remote event","readwrite-primary",function(y){var b=l.On.newChangeBuffer({trackRemovals:!0});m=l.kn;var D=[];s.targetChanges.forEach(function(P,B){var he,Me,Le,z=m.get(B);if(z){D.push(l.qe.removeMatchingKeys(y,P.removedDocuments,B).next(function(){return l.qe.addMatchingKeys(y,P.addedDocuments,B)}));var re=P.resumeToken;if(re.approximateByteSize()>0){var te=z.withResumeToken(re,h).withSequenceNumber(y.currentSequenceNumber);m=m.insert(B,te),he=z,Le=P,nt((Me=te).resumeToken.approximateByteSize()>0),(0===he.resumeToken.approximateByteSize()||Me.snapshotVersion.toMicroseconds()-he.snapshotVersion.toMicroseconds()>=3e8||Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0)&&D.push(l.qe.updateTargetData(y,te))}}});var T=bn();if(s.documentUpdates.forEach(function(P,B){s.resolvedLimboDocuments.has(P)&&D.push(l.persistence.referenceDelegate.updateLimboDocument(y,P))}),D.push(Gs(y,b,s.documentUpdates,h,void 0).next(function(P){T=P})),!h.isEqual(mt.min())){var O=l.qe.getLastRemoteSnapshotVersion(y).next(function(P){return l.qe.setTargetsMetadata(y,y.currentSequenceNumber,h)});D.push(O)}return Se.waitFor(D).next(function(){return b.apply(y)}).next(function(){return l.Mn.En(y,T)}).next(function(){return T})}).then(function(y){return l.kn=m,y})}function Gs(c,s,l,h,m){var y=yn();return l.forEach(function(b){return y=y.add(b)}),s.getEntries(c,y).next(function(b){var D=bn();return l.forEach(function(T,O){var P=b.get(T),B=m?.get(T)||h;O.isNoDocument()&&O.version.isEqual(mt.min())?(s.removeEntry(T,B),D=D.insert(T,O)):!P.isValidDocument()||O.version.compareTo(P.version)>0||0===O.version.compareTo(P.version)&&P.hasPendingWrites?(s.addEntry(O,B),D=D.insert(T,O)):pe("LocalStore","Ignoring outdated watch update for ",T,". Current version:",P.version," Watch version:",O.version)}),D})}function uh(c,s){var l=Pe(c);return l.persistence.runTransaction("Get next mutation batch","readonly",function(h){return void 0===s&&(s=-1),l._n.getNextMutationBatchAfterBatchId(h,s)})}function Mu(c,s){var l=Pe(c);return l.persistence.runTransaction("Allocate target","readwrite",function(h){var m;return l.qe.getTargetData(h,s).next(function(y){return y?Se.resolve(m=y):l.qe.allocateTargetId(h).next(function(b){return m=new rh(s,b,0,h.currentSequenceNumber),l.qe.addTargetData(h,m).next(function(){return m})})})}).then(function(h){var m=l.kn.get(h.targetId);return(null===m||h.snapshotVersion.compareTo(m.snapshotVersion)>0)&&(l.kn=l.kn.insert(h.targetId,h),l.Fn.set(s,h.targetId)),h})}function Ru(c,s,l){return(0,S.mG)(this,void 0,void 0,function(){var h,m,y,b;return(0,S.Jh)(this,function(D){switch(D.label){case 0:h=Pe(c),m=h.kn.get(s),y=l?"readwrite":"readwrite-primary",D.label=1;case 1:return D.trys.push([1,4,,5]),l?[3,3]:[4,h.persistence.runTransaction("Release target",y,function(T){return h.persistence.referenceDelegate.removeTarget(T,m)})];case 2:D.sent(),D.label=3;case 3:return[3,5];case 4:if(!vc(b=D.sent()))throw b;return pe("LocalStore","Failed to update sequence numbers for target "+s+": "+b),[3,5];case 5:return h.kn=h.kn.remove(s),h.Fn.delete(m.target),[2]}})})}function ku(c,s,l){var h=Pe(c),m=mt.min(),y=yn();return h.persistence.runTransaction("Execute query","readonly",function(b){return(D=h,T=b,O=Oi(s),P=Pe(D),B=P.Fn.get(O),void 0!==B?Se.resolve(P.kn.get(B)):P.qe.getTargetData(T,O)).next(function(D){if(D)return m=D.lastLimboFreeSnapshotVersion,h.qe.getMatchingKeysForTargetId(b,D.targetId).next(function(T){y=T})}).next(function(){return h.xn.getDocumentsMatchingQuery(b,s,l?m:mt.min(),l?y:yn())}).next(function(D){return{documents:D,Bn:y}});var D,T,O,P,B})}function um(c,s){var l=Pe(c),h=Pe(l.qe),m=l.kn.get(s);return m?Promise.resolve(m.target):l.persistence.runTransaction("Get target data","readonly",function(y){return h.lt(y,s).next(function(b){return b?b.target:null})})}function Tg(c){var s=Pe(c);return s.persistence.runTransaction("Get new document changes","readonly",function(l){return m=l,y=s.$n,b=Pe(s.On),D=bn(),T=Xp(y),O=Ec(m),P=IDBKeyRange.lowerBound(T,!0),O.$t({index:Vn.readTimeIndex,range:P},function(B,z){var re=xa(b.R,z);D=D.insert(re.key,re),T=z.readTime}).next(function(){return{wn:D,readTime:Qp(T)}});var m,y,b,D,T,O,P}).then(function(l){var h=l.wn;return s.$n=l.readTime,h})}function xg(c){return(0,S.mG)(this,void 0,void 0,function(){var s;return(0,S.Jh)(this,function(l){return[2,(s=Pe(c)).persistence.runTransaction("Synchronize last document change read time","readonly",function(h){return y=Ec(h),b=mt.min(),y.$t({index:Vn.readTimeIndex,reverse:!0},function(D,T,O){T.readTime&&(b=Qp(T.readTime)),O.done()}).next(function(){return b});var y,b}).then(function(h){s.$n=h})]})})}function Ag(c,s,l,h){return(0,S.mG)(this,void 0,void 0,function(){var m,y,b,D,T,O,P,B,z,re;return(0,S.Jh)(this,function(te){switch(te.label){case 0:for(m=Pe(c),y=yn(),b=bn(),D=Sr(),T=0,O=l;T<O.length;T++)B=s.qn((P=O[T]).metadata.name),P.document&&(y=y.add(B)),b=b.insert(B,s.Un(P)),D=D.insert(B,s.Kn(P.metadata.readTime));return z=m.On.newChangeBuffer({trackRemovals:!0}),[4,Mu(m,(he=h,Oi(gl(Kt.fromString("__bundle__/docs/"+he)))))];case 1:return re=te.sent(),[2,m.persistence.runTransaction("Apply bundle documents","readwrite",function(he){return Gs(he,z,b,mt.min(),D).next(function(Me){return z.apply(he),Me}).next(function(Me){return m.qe.removeMatchingKeysForTargetId(he,re.targetId).next(function(){return m.qe.addMatchingKeys(he,y,re.targetId)}).next(function(){return m.Mn.En(he,Me)}).next(function(){return Me})})})]}var he})})}function lh(c,s,l){return void 0===l&&(l=yn()),(0,S.mG)(this,void 0,void 0,function(){var h,m;return(0,S.Jh)(this,function(y){switch(y.label){case 0:return[4,Mu(c,Oi(Ma(s.bundledQuery)))];case 1:return h=y.sent(),[2,(m=Pe(c)).persistence.runTransaction("Save named query","readwrite",function(b){var D=Vr(s.readTime);if(h.snapshotVersion.compareTo(D)>=0)return m.Ke.saveNamedQuery(b,s);var T=h.withResumeToken(ki.EMPTY_BYTE_STRING,D);return m.kn=m.kn.insert(T.targetId,T),m.qe.updateTargetData(b,T).next(function(){return m.qe.removeMatchingKeysForTargetId(b,h.targetId)}).next(function(){return m.qe.addMatchingKeys(b,l,h.targetId)}).next(function(){return m.Ke.saveNamedQuery(b,s)})})]}})})}var Bf=function(){function c(s){this.R=s,this.Qn=new Map,this.jn=new Map}return c.prototype.getBundleMetadata=function(s,l){return Se.resolve(this.Qn.get(l))},c.prototype.saveBundleMetadata=function(s,l){var h;return this.Qn.set(l.id,{id:(h=l).id,version:h.version,createTime:Vr(h.createTime)}),Se.resolve()},c.prototype.getNamedQuery=function(s,l){return Se.resolve(this.jn.get(l))},c.prototype.saveNamedQuery=function(s,l){return this.jn.set(l.name,{name:(h=l).name,query:Ma(h.bundledQuery),readTime:Vr(h.readTime)}),Se.resolve();var h},c}(),Vf=function(){function c(){this.Wn=new de(Zr.Gn),this.zn=new de(Zr.Hn)}return c.prototype.isEmpty=function(){return this.Wn.isEmpty()},c.prototype.addReference=function(s,l){var h=new Zr(s,l);this.Wn=this.Wn.add(h),this.zn=this.zn.add(h)},c.prototype.Jn=function(s,l){var h=this;s.forEach(function(m){return h.addReference(m,l)})},c.prototype.removeReference=function(s,l){this.Yn(new Zr(s,l))},c.prototype.Xn=function(s,l){var h=this;s.forEach(function(m){return h.removeReference(m,l)})},c.prototype.Zn=function(s){var l=this,h=new Ve(new Kt([])),m=new Zr(h,s),y=new Zr(h,s+1),b=[];return this.zn.forEachInRange([m,y],function(D){l.Yn(D),b.push(D.key)}),b},c.prototype.ts=function(){var s=this;this.Wn.forEach(function(l){return s.Yn(l)})},c.prototype.Yn=function(s){this.Wn=this.Wn.delete(s),this.zn=this.zn.delete(s)},c.prototype.es=function(s){var l=new Ve(new Kt([])),h=new Zr(l,s),m=new Zr(l,s+1),y=yn();return this.zn.forEachInRange([h,m],function(b){y=y.add(b.key)}),y},c.prototype.containsKey=function(s){var l=new Zr(s,0),h=this.Wn.firstAfterOrEqual(l);return null!==h&&s.isEqual(h.key)},c}(),Zr=function(){function c(s,l){this.key=s,this.ns=l}return c.Gn=function(s,l){return Ve.comparator(s.key,l.key)||Xe(s.ns,l.ns)},c.Hn=function(s,l){return Xe(s.ns,l.ns)||Ve.comparator(s.key,l.key)},c}(),lm=function(){function c(s,l){this.Ut=s,this.referenceDelegate=l,this._n=[],this.ss=1,this.rs=new de(Zr.Gn)}return c.prototype.checkEmpty=function(s){return Se.resolve(0===this._n.length)},c.prototype.addMutationBatch=function(s,l,h,m){var y=this.ss;this.ss++;var b=new Nf(y,l,h,m);this._n.push(b);for(var D=0,T=m;D<T.length;D++){var O=T[D];this.rs=this.rs.add(new Zr(O.key,y)),this.Ut.addToCollectionParentIndex(s,O.key.path.popLast())}return Se.resolve(b)},c.prototype.lookupMutationBatch=function(s,l){return Se.resolve(this.os(l))},c.prototype.getNextMutationBatchAfterBatchId=function(s,l){var m=this.cs(l+1),y=m<0?0:m;return Se.resolve(this._n.length>y?this._n[y]:null)},c.prototype.getHighestUnacknowledgedBatchId=function(){return Se.resolve(0===this._n.length?-1:this.ss-1)},c.prototype.getAllMutationBatches=function(s){return Se.resolve(this._n.slice())},c.prototype.getAllMutationBatchesAffectingDocumentKey=function(s,l){var h=this,m=new Zr(l,0),y=new Zr(l,Number.POSITIVE_INFINITY),b=[];return this.rs.forEachInRange([m,y],function(D){var T=h.os(D.ns);b.push(T)}),Se.resolve(b)},c.prototype.getAllMutationBatchesAffectingDocumentKeys=function(s,l){var h=this,m=new de(Xe);return l.forEach(function(y){var b=new Zr(y,0),D=new Zr(y,Number.POSITIVE_INFINITY);h.rs.forEachInRange([b,D],function(T){m=m.add(T.ns)})}),Se.resolve(this.us(m))},c.prototype.getAllMutationBatchesAffectingQuery=function(s,l){var h=l.path,m=h.length+1,y=h;Ve.isDocumentKey(y)||(y=y.child(""));var b=new Zr(new Ve(y),0),D=new de(Xe);return this.rs.forEachWhile(function(T){var O=T.key.path;return!!h.isPrefixOf(O)&&(O.length===m&&(D=D.add(T.ns)),!0)},b),Se.resolve(this.us(D))},c.prototype.us=function(s){var l=this,h=[];return s.forEach(function(m){var y=l.os(m);null!==y&&h.push(y)}),h},c.prototype.removeMutationBatch=function(s,l){var h=this;nt(0===this.hs(l.batchId,"removed")),this._n.shift();var m=this.rs;return Se.forEach(l.mutations,function(y){var b=new Zr(y.key,l.batchId);return m=m.delete(b),h.referenceDelegate.markPotentiallyOrphaned(s,y.key)}).next(function(){h.rs=m})},c.prototype.Gt=function(s){},c.prototype.containsKey=function(s,l){var h=new Zr(l,0),m=this.rs.firstAfterOrEqual(h);return Se.resolve(l.isEqual(m&&m.key))},c.prototype.performConsistencyCheck=function(s){return Se.resolve()},c.prototype.hs=function(s,l){return this.cs(s)},c.prototype.cs=function(s){return 0===this._n.length?0:s-this._n[0].batchId},c.prototype.os=function(s){var l=this.cs(s);return l<0||l>=this._n.length?null:this._n[l]},c}(),ny=function(){function c(s,l){this.Ut=s,this.ls=l,this.docs=new Bn(Ve.comparator),this.size=0}return c.prototype.addEntry=function(s,l,h){var m=l.key,y=this.docs.get(m),b=y?y.size:0,D=this.ls(l);return this.docs=this.docs.insert(m,{document:l.clone(),size:D,readTime:h}),this.size+=D-b,this.Ut.addToCollectionParentIndex(s,m.path.popLast())},c.prototype.removeEntry=function(s){var l=this.docs.get(s);l&&(this.docs=this.docs.remove(s),this.size-=l.size)},c.prototype.getEntry=function(s,l){var h=this.docs.get(l);return Se.resolve(h?h.document.clone():Gr.newInvalidDocument(l))},c.prototype.getEntries=function(s,l){var h=this,m=bn();return l.forEach(function(y){var b=h.docs.get(y);m=m.insert(y,b?b.document.clone():Gr.newInvalidDocument(y))}),Se.resolve(m)},c.prototype.getDocumentsMatchingQuery=function(s,l,h){for(var m=bn(),y=new Ve(l.path.child("")),b=this.docs.getIteratorFrom(y);b.hasNext();){var D=b.getNext(),O=D.value,P=O.document,B=O.readTime;if(!l.path.isPrefixOf(D.key.path))break;B.compareTo(h)<=0||uo(l,P)&&(m=m.insert(P.key,P.clone()))}return Se.resolve(m)},c.prototype.fs=function(s,l){return Se.forEach(this.docs,function(h){return l(h)})},c.prototype.newChangeBuffer=function(s){return new Mg(this)},c.prototype.getSize=function(s){return Se.resolve(this.size)},c}(),Mg=function(c){function s(l){var h=this;return(h=c.call(this)||this).Ie=l,h}return(0,S.ZT)(s,c),s.prototype.applyChanges=function(l){var h=this,m=[];return this.changes.forEach(function(y,b){b.document.isValidDocument()?m.push(h.Ie.addEntry(l,b.document,h.getReadTime(y))):h.Ie.removeEntry(y)}),Se.waitFor(m)},s.prototype.getFromCache=function(l,h){return this.Ie.getEntry(l,h)},s.prototype.getAllFromCache=function(l,h){return this.Ie.getEntries(l,h)},s}(ah),ry=function(){function c(s){this.persistence=s,this.ds=new Yr(function(l){return lc(l)},pl),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.ws=0,this._s=new Vf,this.targetCount=0,this.ys=Pf.Jt()}return c.prototype.forEachTarget=function(s,l){return this.ds.forEach(function(h,m){return l(m)}),Se.resolve()},c.prototype.getLastRemoteSnapshotVersion=function(s){return Se.resolve(this.lastRemoteSnapshotVersion)},c.prototype.getHighestSequenceNumber=function(s){return Se.resolve(this.ws)},c.prototype.allocateTargetId=function(s){return this.highestTargetId=this.ys.next(),Se.resolve(this.highestTargetId)},c.prototype.setTargetsMetadata=function(s,l,h){return h&&(this.lastRemoteSnapshotVersion=h),l>this.ws&&(this.ws=l),Se.resolve()},c.prototype.te=function(s){this.ds.set(s.target,s);var l=s.targetId;l>this.highestTargetId&&(this.ys=new Pf(l),this.highestTargetId=l),s.sequenceNumber>this.ws&&(this.ws=s.sequenceNumber)},c.prototype.addTargetData=function(s,l){return this.te(l),this.targetCount+=1,Se.resolve()},c.prototype.updateTargetData=function(s,l){return this.te(l),Se.resolve()},c.prototype.removeTargetData=function(s,l){return this.ds.delete(l.target),this._s.Zn(l.targetId),this.targetCount-=1,Se.resolve()},c.prototype.removeTargets=function(s,l,h){var m=this,y=0,b=[];return this.ds.forEach(function(D,T){T.sequenceNumber<=l&&null===h.get(T.targetId)&&(m.ds.delete(D),b.push(m.removeMatchingKeysForTargetId(s,T.targetId)),y++)}),Se.waitFor(b).next(function(){return y})},c.prototype.getTargetCount=function(s){return Se.resolve(this.targetCount)},c.prototype.getTargetData=function(s,l){var h=this.ds.get(l)||null;return Se.resolve(h)},c.prototype.addMatchingKeys=function(s,l,h){return this._s.Jn(l,h),Se.resolve()},c.prototype.removeMatchingKeys=function(s,l,h){this._s.Xn(l,h);var m=this.persistence.referenceDelegate,y=[];return m&&l.forEach(function(b){y.push(m.markPotentiallyOrphaned(s,b))}),Se.waitFor(y)},c.prototype.removeMatchingKeysForTargetId=function(s,l){return this._s.Zn(l),Se.resolve()},c.prototype.getMatchingKeysForTargetId=function(s,l){var h=this._s.es(l);return Se.resolve(h)},c.prototype.containsKey=function(s,l){return Se.resolve(this._s.containsKey(l))},c}(),Rg=function(){function c(s,l){var h=this;this.gs={},this.Ne=new _i(0),this.xe=!1,this.xe=!0,this.referenceDelegate=s(this),this.qe=new ry(this),this.Ut=new _c,this.Ue=new ny(this.Ut,function(b){return h.referenceDelegate.ps(b)}),this.R=new Du(l),this.Ke=new Bf(this.R)}return c.prototype.start=function(){return Promise.resolve()},c.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(c.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),c.prototype.setDatabaseDeletedListener=function(){},c.prototype.setNetworkEnabled=function(){},c.prototype.getIndexManager=function(){return this.Ut},c.prototype.getMutationQueue=function(s){var l=this.gs[s.toKey()];return l||(l=new lm(this.Ut,this.referenceDelegate),this.gs[s.toKey()]=l),l},c.prototype.getTargetCache=function(){return this.qe},c.prototype.getRemoteDocumentCache=function(){return this.Ue},c.prototype.getBundleCache=function(){return this.Ke},c.prototype.runTransaction=function(s,l,h){var m=this;pe("MemoryPersistence","Starting transaction:",s);var y=new kg(this.Ne.next());return this.referenceDelegate.Es(),h(y).next(function(b){return m.referenceDelegate.Ts(y).next(function(){return b})}).toPromise().then(function(b){return y.raiseOnCommittedEvent(),b})},c.prototype.Is=function(s,l){return Se.or(Object.values(this.gs).map(function(h){return function(){return h.containsKey(s,l)}}))},c}(),kg=function(c){function s(l){var h=this;return(h=c.call(this)||this).currentSequenceNumber=l,h}return(0,S.ZT)(s,c),s}(eh),Uf=function(){function c(s){this.persistence=s,this.As=new Vf,this.Rs=null}return c.bs=function(s){return new c(s)},Object.defineProperty(c.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw He()},enumerable:!1,configurable:!0}),c.prototype.addReference=function(s,l,h){return this.As.addReference(h,l),this.vs.delete(h.toString()),Se.resolve()},c.prototype.removeReference=function(s,l,h){return this.As.removeReference(h,l),this.vs.add(h.toString()),Se.resolve()},c.prototype.markPotentiallyOrphaned=function(s,l){return this.vs.add(l.toString()),Se.resolve()},c.prototype.removeTarget=function(s,l){var h=this;this.As.Zn(l.targetId).forEach(function(y){return h.vs.add(y.toString())});var m=this.persistence.getTargetCache();return m.getMatchingKeysForTargetId(s,l.targetId).next(function(y){y.forEach(function(b){return h.vs.add(b.toString())})}).next(function(){return m.removeTargetData(s,l)})},c.prototype.Es=function(){this.Rs=new Set},c.prototype.Ts=function(s){var l=this,h=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.vs,function(m){var y=Ve.fromPath(m);return l.Ps(s,y).next(function(b){b||h.removeEntry(y)})}).next(function(){return l.Rs=null,h.apply(s)})},c.prototype.updateLimboDocument=function(s,l){var h=this;return this.Ps(s,l).next(function(m){m?h.vs.delete(l.toString()):h.vs.add(l.toString())})},c.prototype.ps=function(s){return 0},c.prototype.Ps=function(s,l){var h=this;return Se.or([function(){return Se.resolve(h.As.containsKey(l))},function(){return h.persistence.getTargetCache().containsKey(s,l)},function(){return h.persistence.Is(s,l)}])},c}(),li=function(){function c(s){this.uid=s}return c.prototype.isAuthenticated=function(){return null!=this.uid},c.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},c.prototype.isEqual=function(s){return s.uid===this.uid},c}();function Og(c,s){return"firestore_clients_"+c+"_"+s}function Ul(c,s,l){var h="firestore_mutations_"+c+"_"+l;return s.isAuthenticated()&&(h+="_"+s.uid),h}function Ng(c,s){return"firestore_targets_"+c+"_"+s}li.UNAUTHENTICATED=new li(null),li.GOOGLE_CREDENTIALS=new li("google-credentials-uid"),li.FIRST_PARTY=new li("first-party-uid"),li.MOCK_USER=new li("mock-user");var Pg=function(){function c(s,l,h,m){this.user=s,this.batchId=l,this.state=h,this.error=m}return c.Vs=function(s,l,h){var m,y=JSON.parse(h),b="object"==typeof y&&-1!==["pending","acknowledged","rejected"].indexOf(y.state)&&(void 0===y.error||"object"==typeof y.error);return b&&y.error&&(b="string"==typeof y.error.message&&"string"==typeof y.error.code)&&(m=new we(y.error.code,y.error.message)),b?new c(s,l,y.state,m):(Fr("SharedClientState","Failed to parse mutation state for ID '"+l+"': "+h),null)},c.prototype.Ss=function(){var s={state:this.state,updateTimeMs:Date.now()};return this.error&&(s.error={code:this.error.code,message:this.error.message}),JSON.stringify(s)},c}(),Hf=function(){function c(s,l,h){this.targetId=s,this.state=l,this.error=h}return c.Vs=function(s,l){var h,m=JSON.parse(l),y="object"==typeof m&&-1!==["not-current","current","rejected"].indexOf(m.state)&&(void 0===m.error||"object"==typeof m.error);return y&&m.error&&(y="string"==typeof m.error.message&&"string"==typeof m.error.code)&&(h=new we(m.error.code,m.error.message)),y?new c(s,m.state,h):(Fr("SharedClientState","Failed to parse target state for ID '"+s+"': "+l),null)},c.prototype.Ss=function(){var s={state:this.state,updateTimeMs:Date.now()};return this.error&&(s.error={code:this.error.code,message:this.error.message}),JSON.stringify(s)},c}(),zf=function(){function c(s,l){this.clientId=s,this.activeTargetIds=l}return c.Vs=function(s,l){for(var h=JSON.parse(l),m="object"==typeof h&&h.activeTargetIds instanceof Array,y=qp(),b=0;m&&b<h.activeTargetIds.length;++b)m=We(h.activeTargetIds[b]),y=y.add(h.activeTargetIds[b]);return m?new c(s,y):(Fr("SharedClientState","Failed to parse client data for instance '"+s+"': "+l),null)},c}(),Fg=function(){function c(s,l){this.clientId=s,this.onlineState=l}return c.Vs=function(s){var l=JSON.parse(s);return"object"==typeof l&&-1!==["Unknown","Online","Offline"].indexOf(l.onlineState)&&"string"==typeof l.clientId?new c(l.clientId,l.onlineState):(Fr("SharedClientState","Failed to parse online state: "+s),null)},c}(),Ou=function(){function c(){this.activeTargetIds=qp()}return c.prototype.Ds=function(s){this.activeTargetIds=this.activeTargetIds.add(s)},c.prototype.Cs=function(s){this.activeTargetIds=this.activeTargetIds.delete(s)},c.prototype.Ss=function(){var s={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(s)},c}(),Ws=function(){function c(s,l,h,m,y){this.window=s,this.Se=l,this.persistenceKey=h,this.Ns=m,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Bn(Xe),this.started=!1,this.$s=[];var b=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Os=Og(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new Ou),this.Ls=new RegExp("^firestore_clients_"+b+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+b+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+b+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(D){return"firestore_bundle_loaded_"+D}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return c.yt=function(s){return!(!s||!s.localStorage)},c.prototype.start=function(){return(0,S.mG)(this,void 0,void 0,function(){var s,l,h,m,y,b,D,T,O,P,z=this;return(0,S.Jh)(this,function(re){switch(re.label){case 0:return[4,this.syncEngine.fn()];case 1:for(s=re.sent(),l=0,h=s;l<h.length;l++)(m=h[l])!==this.Ns&&(y=this.getItem(Og(this.persistenceKey,m)))&&(b=zf.Vs(m,y))&&(this.Fs=this.Fs.insert(b.clientId,b));for(this.Qs(),(D=this.storage.getItem(this.Us))&&(T=this.js(D))&&this.Ws(T),O=0,P=this.$s;O<P.length;O++)this.ks(P[O]);return this.$s=[],this.window.addEventListener("pagehide",function(){return z.shutdown()}),this.started=!0,[2]}})})},c.prototype.writeSequenceNumber=function(s){this.setItem(this.Ms,JSON.stringify(s))},c.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},c.prototype.isActiveQueryTarget=function(s){var l=!1;return this.Fs.forEach(function(h,m){m.activeTargetIds.has(s)&&(l=!0)}),l},c.prototype.addPendingMutation=function(s){this.zs(s,"pending")},c.prototype.updateMutationState=function(s,l,h){this.zs(s,l,h),this.Hs(s)},c.prototype.addLocalQueryTarget=function(s){var l="not-current";if(this.isActiveQueryTarget(s)){var h=this.storage.getItem(Ng(this.persistenceKey,s));if(h){var m=Hf.Vs(s,h);m&&(l=m.state)}}return this.Js.Ds(s),this.Qs(),l},c.prototype.removeLocalQueryTarget=function(s){this.Js.Cs(s),this.Qs()},c.prototype.isLocalQueryTarget=function(s){return this.Js.activeTargetIds.has(s)},c.prototype.clearQueryState=function(s){this.removeItem(Ng(this.persistenceKey,s))},c.prototype.updateQueryState=function(s,l,h){this.Ys(s,l,h)},c.prototype.handleUserChange=function(s,l,h){var m=this;l.forEach(function(y){m.Hs(y)}),this.currentUser=s,h.forEach(function(y){m.addPendingMutation(y)})},c.prototype.setOnlineState=function(s){this.Xs(s)},c.prototype.notifyBundleLoaded=function(){this.Zs()},c.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},c.prototype.getItem=function(s){var l=this.storage.getItem(s);return pe("SharedClientState","READ",s,l),l},c.prototype.setItem=function(s,l){pe("SharedClientState","SET",s,l),this.storage.setItem(s,l)},c.prototype.removeItem=function(s){pe("SharedClientState","REMOVE",s),this.storage.removeItem(s)},c.prototype.ks=function(s){var l=this,h=s;if(h.storageArea===this.storage){if(pe("SharedClientState","EVENT",h.key,h.newValue),h.key===this.Os)return void Fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,S.mG)(l,void 0,void 0,function(){var m,y,b,D,T,O;return(0,S.Jh)(this,function(P){if(this.started){if(null!==h.key)if(this.Ls.test(h.key)){if(null==h.newValue)return m=this.ti(h.key),[2,this.ei(m,null)];if(y=this.ni(h.key,h.newValue))return[2,this.ei(y.clientId,y)]}else if(this.Bs.test(h.key)){if(null!==h.newValue&&(b=this.si(h.key,h.newValue)))return[2,this.ii(b)]}else if(this.qs.test(h.key)){if(null!==h.newValue&&(D=this.ri(h.key,h.newValue)))return[2,this.oi(D)]}else if(h.key===this.Us){if(null!==h.newValue&&(T=this.js(h.newValue)))return[2,this.Ws(T)]}else if(h.key===this.Ms)(O=function(B){var z=_i.o;if(null!=B)try{var re=JSON.parse(B);nt("number"==typeof re),z=re}catch(te){Fr("SharedClientState","Failed to read sequence number from WebStorage",te)}return z}(h.newValue))!==_i.o&&this.sequenceNumberHandler(O);else if(h.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(h);return[2]})})})}},Object.defineProperty(c.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),c.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},c.prototype.zs=function(s,l,h){var m=new Pg(this.currentUser,s,l,h),y=Ul(this.persistenceKey,this.currentUser,s);this.setItem(y,m.Ss())},c.prototype.Hs=function(s){var l=Ul(this.persistenceKey,this.currentUser,s);this.removeItem(l)},c.prototype.Xs=function(s){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:s}))},c.prototype.Ys=function(s,l,h){var m=Ng(this.persistenceKey,s),y=new Hf(s,l,h);this.setItem(m,y.Ss())},c.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},c.prototype.ti=function(s){var l=this.Ls.exec(s);return l?l[1]:null},c.prototype.ni=function(s,l){var h=this.ti(s);return zf.Vs(h,l)},c.prototype.si=function(s,l){var h=this.Bs.exec(s),m=Number(h[1]);return Pg.Vs(new li(void 0!==h[2]?h[2]:null),m,l)},c.prototype.ri=function(s,l){var h=this.qs.exec(s),m=Number(h[1]);return Hf.Vs(m,l)},c.prototype.js=function(s){return Fg.Vs(s)},c.prototype.ii=function(s){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(l){return s.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(s.batchId,s.state,s.error)]:(pe("SharedClientState","Ignoring mutation for non-active user "+s.user.uid),[2])})})},c.prototype.oi=function(s){return this.syncEngine.ai(s.targetId,s.state,s.error)},c.prototype.ei=function(s,l){var h=this,m=l?this.Fs.insert(s,l):this.Fs.remove(s),y=this.Gs(this.Fs),b=this.Gs(m),D=[],T=[];return b.forEach(function(O){y.has(O)||D.push(O)}),y.forEach(function(O){b.has(O)||T.push(O)}),this.syncEngine.hi(D,T).then(function(){h.Fs=m})},c.prototype.Ws=function(s){this.Fs.get(s.clientId)&&this.onlineStateHandler(s.onlineState)},c.prototype.Gs=function(s){var l=qp();return s.forEach(function(h,m){l=l.unionWith(m.activeTargetIds)}),l},c}(),Ks=function(){function c(){this.li=new Ou,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return c.prototype.addPendingMutation=function(s){},c.prototype.updateMutationState=function(s,l,h){},c.prototype.addLocalQueryTarget=function(s){return this.li.Ds(s),this.fi[s]||"not-current"},c.prototype.updateQueryState=function(s,l,h){this.fi[s]=l},c.prototype.removeLocalQueryTarget=function(s){this.li.Cs(s)},c.prototype.isLocalQueryTarget=function(s){return this.li.activeTargetIds.has(s)},c.prototype.clearQueryState=function(s){delete this.fi[s]},c.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},c.prototype.isActiveQueryTarget=function(s){return this.li.activeTargetIds.has(s)},c.prototype.start=function(){return this.li=new Ou,Promise.resolve()},c.prototype.handleUserChange=function(s,l,h){},c.prototype.setOnlineState=function(s){},c.prototype.shutdown=function(){},c.prototype.writeSequenceNumber=function(s){},c.prototype.notifyBundleLoaded=function(){},c}(),dm=function(){function c(){}return c.prototype.di=function(s){},c.prototype.shutdown=function(){},c}(),$f=function(){function c(){var s=this;this.wi=function(){return s._i()},this.mi=function(){return s.yi()},this.gi=[],this.pi()}return c.prototype.di=function(s){this.gi.push(s)},c.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},c.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},c.prototype._i=function(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var s=0,l=this.gi;s<l.length;s++)(0,l[s])(0)},c.prototype.yi=function(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var s=0,l=this.gi;s<l.length;s++)(0,l[s])(1)},c.yt=function(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},c}(),Lg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Nu=function(){function c(s){this.Ei=s.Ei,this.Ti=s.Ti}return c.prototype.Ii=function(s){this.Ai=s},c.prototype.Ri=function(s){this.bi=s},c.prototype.onMessage=function(s){this.vi=s},c.prototype.close=function(){this.Ti()},c.prototype.send=function(s){this.Ei(s)},c.prototype.Pi=function(){this.Ai()},c.prototype.Vi=function(s){this.bi(s)},c.prototype.Si=function(s){this.vi(s)},c}(),hm=function(c){function s(l){var h=this;return(h=c.call(this,l)||this).forceLongPolling=l.forceLongPolling,h.autoDetectLongPolling=l.autoDetectLongPolling,h.useFetchStreams=l.useFetchStreams,h}return(0,S.ZT)(s,c),s.prototype.Fi=function(l,h,m,y){return new Promise(function(b,D){var T=new au;T.listenOnce(su.COMPLETE,function(){try{switch(T.getLastErrorCode()){case bt.NO_ERROR:var P=T.getResponseJson();pe("Connection","XHR received:",JSON.stringify(P)),b(P);break;case bt.TIMEOUT:pe("Connection",'RPC "'+l+'" timed out'),D(new we(ue.DEADLINE_EXCEEDED,"Request time out"));break;case bt.HTTP_ERROR:var B=T.getStatus();if(pe("Connection",'RPC "'+l+'" failed with status:',B,"response text:",T.getResponseText()),B>0){var z=T.getResponseJson().error;if(z&&z.status&&z.message){var re=(he=z.status.toLowerCase().replace(/_/g,"-"),Object.values(ue).indexOf(he)>=0?he:ue.UNKNOWN);D(new we(re,z.message))}else D(new we(ue.UNKNOWN,"Server responded with status "+T.getStatus()))}else D(new we(ue.UNAVAILABLE,"Connection failed."));break;default:He()}}finally{pe("Connection",'RPC "'+l+'" completed.')}var he});var O=JSON.stringify(y);T.send(h,"POST",O,m,15)})},s.prototype.Oi=function(l,h){var m=[this.Di,"/","google.firestore.v1.Firestore","/",l,"/channel"],y=new co,b=nc(),D={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(D.xmlHttpFactory=new Tn({})),this.ki(D.initMessageHeaders,h),(0,$e.uI)()||(0,$e.b$)()||(0,$e.d)()||(0,$e.w1)()||(0,$e.Mn)()||(0,$e.ru)()||(D.httpHeadersOverwriteParam="$httpHeaders");var T=m.join("");pe("Connection","Creating WebChannel: "+T,D);var O=y.createWebChannel(T,D),P=!1,B=!1,z=new Nu({Ei:function(te){B?pe("Connection","Not sending because WebChannel is closed:",te):(P||(pe("Connection","Opening WebChannel transport."),O.open(),P=!0),pe("Connection","WebChannel sending:",te),O.send(te))},Ti:function(){return O.close()}}),re=function(te,he,Me){te.listen(he,function(Le){try{Me(Le)}catch(ot){setTimeout(function(){throw ot},0)}})};return re(O,Fs.EventType.OPEN,function(){B||pe("Connection","WebChannel transport opened.")}),re(O,Fs.EventType.CLOSE,function(){B||(B=!0,pe("Connection","WebChannel transport closed"),z.Vi())}),re(O,Fs.EventType.ERROR,function(te){B||(B=!0,cu("Connection","WebChannel transport errored:",te),z.Vi(new we(ue.UNAVAILABLE,"The operation could not be completed")))}),re(O,Fs.EventType.MESSAGE,function(te){var he;if(!B){var Me=te.data[0];nt(!!Me);var ot=Me.error||(null===(he=Me[0])||void 0===he?void 0:he.error);if(ot){pe("Connection","WebChannel received error:",ot);var lt=ot.status,Qt=function(Hn){var go=Ir[Hn];if(void 0!==go)return _g(go)}(lt),vn=ot.message;void 0===Qt&&(Qt=ue.INTERNAL,vn="Unknown error status: "+lt+" with message "+ot.message),B=!0,z.Vi(new we(Qt,vn)),O.close()}else pe("Connection","WebChannel received:",Me),z.Si(Me)}}),re(b,Fp.STAT_EVENT,function(te){te.stat===ga_PROXY?pe("Connection","Detected buffering proxy"):te.stat===ga_NOPROXY&&pe("Connection","Detected no buffering proxy")}),setTimeout(function(){z.Pi()},0),z},s}(function(){function c(s){this.databaseInfo=s,this.databaseId=s.databaseId,this.Di=(s.ssl?"https":"http")+"://"+s.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return c.prototype.Ni=function(s,l,h,m){var y=this.xi(s,l);pe("RestConnection","Sending: ",y,h);var b={};return this.ki(b,m),this.Fi(s,y,b,h).then(function(D){return pe("RestConnection","Received: ",D),D},function(D){throw cu("RestConnection",s+" failed with error: ",D,"url: ",y,"request:",h),D})},c.prototype.$i=function(s,l,h,m){return this.Ni(s,l,h,m)},c.prototype.ki=function(s,l){if(s["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),l)for(var h in l.authHeaders)l.authHeaders.hasOwnProperty(h)&&(s[h]=l.authHeaders[h])},c.prototype.xi=function(s,l){return this.Di+"/v1/"+l+":"+Lg[s]},c}());function Pu(){return typeof window<"u"?window:null}function Ys(){return typeof document<"u"?document:null}function Ra(c){return new Yd(c,!0)}var Zs=function(){function c(s,l,h,m,y){void 0===h&&(h=1e3),void 0===m&&(m=1.5),void 0===y&&(y=6e4),this.Se=s,this.timerId=l,this.Mi=h,this.Li=m,this.Bi=y,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return c.prototype.reset=function(){this.qi=0},c.prototype.Qi=function(){this.qi=this.Bi},c.prototype.ji=function(s){var l=this;this.cancel();var h=Math.floor(this.qi+this.Wi()),m=Math.max(0,Date.now()-this.Ki),y=Math.max(0,h-m);y>0&&pe("ExponentialBackoff","Backing off for "+y+" ms (base delay: "+this.qi+" ms, delay with jitter: "+h+" ms, last attempt: "+m+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,y,function(){return l.Ki=Date.now(),s()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},c.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},c.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},c.prototype.Wi=function(){return(Math.random()-.5)*this.qi},c}(),qf=function(){function c(s,l,h,m,y,b){this.Se=s,this.zi=h,this.Hi=m,this.Ji=y,this.listener=b,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Zs(s,l)}return c.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},c.prototype.er=function(){return 2===this.state},c.prototype.start=function(){3!==this.state?this.auth():this.nr()},c.prototype.stop=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(s){switch(s.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},c.prototype.sr=function(){this.state=0,this.Zi.reset()},c.prototype.ir=function(){var s=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return s.rr()}))},c.prototype.cr=function(s){this.ur(),this.stream.send(s)},c.prototype.rr=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(s){return this.er()?[2,this.close(0)]:[2]})})},c.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},c.prototype.close=function(s,l){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(h){switch(h.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==s?this.Zi.reset():l&&l.code===ue.RESOURCE_EXHAUSTED?(Fr(l.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):l&&l.code===ue.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=s,[4,this.listener.Ri(l)];case 1:return h.sent(),[2]}})})},c.prototype.ar=function(){},c.prototype.auth=function(){var s=this;this.state=1;var l=this.hr(this.Yi),h=this.Yi;this.Ji.getToken().then(function(m){s.Yi===h&&s.lr(m)},function(m){l(function(){var y=new we(ue.UNKNOWN,"Fetching auth token failed: "+m.message);return s.dr(y)})})},c.prototype.lr=function(s){var l=this,h=this.hr(this.Yi);this.stream=this.wr(s),this.stream.Ii(function(){h(function(){return l.state=2,l.listener.Ii()})}),this.stream.Ri(function(m){h(function(){return l.dr(m)})}),this.stream.onMessage(function(m){h(function(){return l.onMessage(m)})})},c.prototype.nr=function(){var s=this;this.state=4,this.Zi.ji(function(){return(0,S.mG)(s,void 0,void 0,function(){return(0,S.Jh)(this,function(l){return this.state=0,this.start(),[2]})})})},c.prototype.dr=function(s){return pe("PersistentStream","close with error: "+s),this.stream=null,this.close(3,s)},c.prototype.hr=function(s){var l=this;return function(h){l.Se.enqueueAndForget(function(){return l.Yi===s?h():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},c}(),fm=function(c){function s(l,h,m,y,b){var D=this;return(D=c.call(this,l,"listen_stream_connection_backoff","listen_stream_idle",h,m,b)||this).R=y,D}return(0,S.ZT)(s,c),s.prototype.wr=function(l){return this.Hi.Oi("Listen",l)},s.prototype.onMessage=function(l){this.Zi.reset();var h=function(y,b){var D,Me;if("targetChange"in b){var T="NO_CHANGE"===(Me=b.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Me?1:"REMOVE"===Me?2:"CURRENT"===Me?3:"RESET"===Me?4:He(),O=b.targetChange.targetIds||[],P=function(Me,Le){return Me.I?(nt(void 0===Le||"string"==typeof Le),ki.fromBase64String(Le||"")):(nt(void 0===Le||Le instanceof Uint8Array),ki.fromUint8Array(Le||new Uint8Array))}(y,b.targetChange.resumeToken),B=(z=b.targetChange.cause)&&function(Me){var Le=void 0===Me.code?ue.UNKNOWN:_g(Me.code);return new we(Le,Me.message||"")}(z);D=new pc(T,O,P,B||null)}else if("documentChange"in b){O=$o(y,(T=b.documentChange).document.name),P=Vr(T.document.updateTime);var z=new oi({mapValue:{fields:T.document.fields}}),re=(B=Gr.newFoundDocument(O,P,z),T.targetIds||[]);D=new Gi(re,T.removedTargetIds||[],B.key,B)}else if("documentDelete"in b)O=$o(y,(T=b.documentDelete).document),P=T.readTime?Vr(T.readTime):mt.min(),z=Gr.newNoDocument(O,P),D=new Gi([],B=T.removedTargetIds||[],z.key,z);else if("documentRemove"in b)O=$o(y,(T=b.documentRemove).document),D=new Gi([],P=T.removedTargetIds||[],O,null);else{if(!("filter"in b))return He();var he=b.filter;O=new gu(T=he.count||0),D=new yu(P=he.targetId,O)}return D}(this.R,l),m=function(y){if(!("targetChange"in y))return mt.min();var b=y.targetChange;return b.targetIds&&b.targetIds.length?mt.min():b.readTime?Vr(b.readTime):mt.min()}(l);return this.listener._r(h,m)},s.prototype.mr=function(l){var y,b,D,T,h={};h.database=wu(this.R),h.addTarget=(y=this.R,(D=Pd(T=(b=l).target)?{documents:Ml(y,T)}:{query:Rl(y,T)}).targetId=b.targetId,b.resumeToken.approximateByteSize()>0?D.resumeToken=Tl(y,b.resumeToken):b.snapshotVersion.compareTo(mt.min())>0&&(D.readTime=Sl(y,b.snapshotVersion.toTimestamp())),D);var m=function(y,b){var D=function(T,O){switch(O){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return He()}}(0,b.purpose);return null==D?null:{"goog-listen-tags":D}}(0,l);m&&(h.labels=m),this.cr(h)},s.prototype.yr=function(l){var h={};h.database=wu(this.R),h.removeTarget=l,this.cr(h)},s}(qf),jg=function(c){function s(l,h,m,y,b){var D=this;return(D=c.call(this,l,"write_stream_connection_backoff","write_stream_idle",h,m,b)||this).R=y,D.gr=!1,D}return(0,S.ZT)(s,c),Object.defineProperty(s.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),s.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,c.prototype.start.call(this)},s.prototype.ar=function(){this.gr&&this.Er([])},s.prototype.wr=function(l){return this.Hi.Oi("Write",l)},s.prototype.onMessage=function(l){if(nt(!!l.streamToken),this.lastStreamToken=l.streamToken,this.gr){this.Zi.reset();var h=(b=l.commitTime,(y=l.writeResults)&&y.length>0?(nt(void 0!==b),y.map(function(D){return O=b,(P=Vr((T=D).updateTime?T.updateTime:O)).isEqual(mt.min())&&(P=Vr(O)),new si(P,T.transformResults||[]);var T,O,P})):[]),m=Vr(l.commitTime);return this.listener.Tr(m,h)}var y,b;return nt(!l.writeResults||0===l.writeResults.length),this.gr=!0,this.listener.Ir()},s.prototype.Ar=function(){var l={};l.database=wu(this.R),this.cr(l)},s.prototype.Er=function(l){var h=this,m={streamToken:this.lastStreamToken,writes:l.map(function(y){return An(h.R,y)})};this.cr(m)},s}(qf),Bg=function(c){function s(l,h,m){var y=this;return(y=c.call(this)||this).credentials=l,y.Hi=h,y.R=m,y.Rr=!1,y}return(0,S.ZT)(s,c),s.prototype.br=function(){if(this.Rr)throw new we(ue.FAILED_PRECONDITION,"The client has already been terminated.")},s.prototype.Ni=function(l,h,m){var y=this;return this.br(),this.credentials.getToken().then(function(b){return y.Hi.Ni(l,h,m,b)}).catch(function(b){throw"FirebaseError"===b.name?(b.code===ue.UNAUTHENTICATED&&y.credentials.invalidateToken(),b):new we(ue.UNKNOWN,b.toString())})},s.prototype.$i=function(l,h,m){var y=this;return this.br(),this.credentials.getToken().then(function(b){return y.Hi.$i(l,h,m,b)}).catch(function(b){throw"FirebaseError"===b.name?(b.code===ue.UNAUTHENTICATED&&y.credentials.invalidateToken(),b):new we(ue.UNKNOWN,b.toString())})},s.prototype.terminate=function(){this.Rr=!0},s}(function(){}),pm=function(){function c(s,l){this.asyncQueue=s,this.onlineStateHandler=l,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return c.prototype.Sr=function(){var s=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return s.Pr=null,s.Cr("Backend didn't respond within 10 seconds."),s.Dr("Offline"),Promise.resolve()}))},c.prototype.Nr=function(s){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+s.toString()),this.Dr("Offline")))},c.prototype.set=function(s){this.kr(),this.vr=0,"Online"===s&&(this.Vr=!1),this.Dr(s)},c.prototype.Dr=function(s){s!==this.state&&(this.state=s,this.onlineStateHandler(s))},c.prototype.Cr=function(s){var l="Could not reach Cloud Firestore backend. "+s+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Fr(l),this.Vr=!1):pe("OnlineStateTracker",l)},c.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},c}(),mm=function(c,s,l,h,m){var y=this;this.localStore=c,this.datastore=s,this.asyncQueue=l,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=m,this.Lr.di(function(b){l.enqueueAndForget(function(){return(0,S.mG)(y,void 0,void 0,function(){return(0,S.Jh)(this,function(D){switch(D.label){case 0:return ho(this)?(pe("RemoteStore","Restarting streams for network reachability change."),[4,function(T){return(0,S.mG)(this,void 0,void 0,function(){var O;return(0,S.Jh)(this,function(P){switch(P.label){case 0:return(O=Pe(T)).Or.add(4),[4,Hl(O)];case 1:return P.sent(),O.Br.set("Unknown"),O.Or.delete(4),[4,dh(O)];case 2:return P.sent(),[2]}})})}(this)]):[3,2];case 1:D.sent(),D.label=2;case 2:return[2]}})})})}),this.Br=new pm(l,h)};function dh(c){return(0,S.mG)(this,void 0,void 0,function(){var s,l;return(0,S.Jh)(this,function(h){switch(h.label){case 0:if(!ho(c))return[3,4];s=0,l=c.Mr,h.label=1;case 1:return s<l.length?[4,(0,l[s])(!0)]:[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return[2]}})})}function Hl(c){return(0,S.mG)(this,void 0,void 0,function(){var s,l;return(0,S.Jh)(this,function(h){switch(h.label){case 0:s=0,l=c.Mr,h.label=1;case 1:return s<l.length?[4,(0,l[s])(!1)]:[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return[2]}})})}function hh(c,s){var l=Pe(c);l.$r.has(s.targetId)||(l.$r.set(s.targetId,s),$l(l)?zl(l):Kl(l).er()&&Dc(l,s))}function fh(c,s){var l=Pe(c),h=Kl(l);l.$r.delete(s),h.er()&&Yi(l,s),0===l.$r.size&&(h.er()?h.ir():ho(l)&&l.Br.set("Unknown"))}function Dc(c,s){c.qr.U(s.targetId),Kl(c).mr(s)}function Yi(c,s){c.qr.U(s),Kl(c).yr(s)}function zl(c){c.qr=new xf({getRemoteKeysForTarget:function(s){return c.remoteSyncer.getRemoteKeysForTarget(s)},lt:function(s){return c.$r.get(s)||null}}),Kl(c).start(),c.Br.Sr()}function $l(c){return ho(c)&&!Kl(c).tr()&&c.$r.size>0}function ho(c){return 0===Pe(c).Or.size}function rr(c){c.qr=void 0}function Xs(c){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(s){return c.$r.forEach(function(l,h){Dc(c,l)}),[2]})})}function Vg(c,s){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(l){return rr(c),$l(c)?(c.Br.Nr(s),zl(c)):c.Br.set("Unknown"),[2]})})}function Fu(c,s,l){return(0,S.mG)(this,void 0,void 0,function(){var h,m,y;return(0,S.Jh)(this,function(b){switch(b.label){case 0:if(c.Br.set("Online"),!(s instanceof pc&&2===s.state&&s.cause))return[3,6];b.label=1;case 1:return b.trys.push([1,3,,5]),[4,function(D,T){return(0,S.mG)(this,void 0,void 0,function(){var O,P,B,z;return(0,S.Jh)(this,function(re){switch(re.label){case 0:O=T.cause,P=0,B=T.targetIds,re.label=1;case 1:return P<B.length?D.$r.has(z=B[P])?[4,D.remoteSyncer.rejectListen(z,O)]:[3,3]:[3,5];case 2:re.sent(),D.$r.delete(z),D.qr.removeTarget(z),re.label=3;case 3:re.label=4;case 4:return P++,[3,1];case 5:return[2]}})})}(c,s)];case 2:return b.sent(),[3,5];case 3:return h=b.sent(),pe("RemoteStore","Failed to remove targets %s: %s ",s.targetIds.join(","),h),[4,Gf(c,h)];case 4:return b.sent(),[3,5];case 5:return[3,13];case 6:if(s instanceof Gi?c.qr.X(s):s instanceof yu?c.qr.rt(s):c.qr.et(s),l.isEqual(mt.min()))return[3,13];b.label=7;case 7:return b.trys.push([7,11,,13]),[4,Sg(c.localStore)];case 8:return m=b.sent(),l.compareTo(m)>=0?[4,(D=c,T=l,O=D.qr.ut(T),O.targetChanges.forEach(function(P,B){if(P.resumeToken.approximateByteSize()>0){var z=D.$r.get(B);z&&D.$r.set(B,z.withResumeToken(P.resumeToken,T))}}),O.targetMismatches.forEach(function(P){var B=D.$r.get(P);if(B){D.$r.set(P,B.withResumeToken(ki.EMPTY_BYTE_STRING,B.snapshotVersion)),Yi(D,P);var z=new rh(B.target,P,1,B.sequenceNumber);Dc(D,z)}}),D.remoteSyncer.applyRemoteEvent(O))]:[3,10];case 9:b.sent(),b.label=10;case 10:return[3,13];case 11:return pe("RemoteStore","Failed to raise snapshot:",y=b.sent()),[4,Gf(c,y)];case 12:return b.sent(),[3,13];case 13:return[2]}var D,T,O})})}function Gf(c,s,l){return(0,S.mG)(this,void 0,void 0,function(){var h=this;return(0,S.Jh)(this,function(m){switch(m.label){case 0:if(!vc(s))throw s;return c.Or.add(1),[4,Hl(c)];case 1:return m.sent(),c.Br.set("Offline"),l||(l=function(){return Sg(c.localStore)}),c.asyncQueue.enqueueRetryable(function(){return(0,S.mG)(h,void 0,void 0,function(){return(0,S.Jh)(this,function(y){switch(y.label){case 0:return pe("RemoteStore","Retrying IndexedDB access"),[4,l()];case 1:return y.sent(),c.Or.delete(1),[4,dh(c)];case 2:return y.sent(),[2]}})})}),[2]}})})}function ph(c,s){return s().catch(function(l){return Gf(c,l,s)})}function ql(c){return(0,S.mG)(this,void 0,void 0,function(){var s,l,h,m,y;return(0,S.Jh)(this,function(b){switch(b.label){case 0:s=Pe(c),l=ko(s),h=s.Fr.length>0?s.Fr[s.Fr.length-1].batchId:-1,b.label=1;case 1:if(!(ho(D=s)&&D.Fr.length<10))return[3,7];b.label=2;case 2:return b.trys.push([2,4,,6]),[4,uh(s.localStore,h)];case 3:return null===(m=b.sent())?(0===s.Fr.length&&l.ir(),[3,7]):(h=m.batchId,function(D,T){D.Fr.push(T);var O=ko(D);O.er()&&O.pr&&O.Er(T.mutations)}(s,m),[3,6]);case 4:return y=b.sent(),[4,Gf(s,y)];case 5:return b.sent(),[3,6];case 6:return[3,1];case 7:return mh(s)&&Ug(s),[2]}var D})})}function mh(c){return ho(c)&&!ko(c).tr()&&c.Fr.length>0}function Ug(c){ko(c).start()}function Hg(c){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(s){return ko(c).Ar(),[2]})})}function iy(c){return(0,S.mG)(this,void 0,void 0,function(){var s,l,h;return(0,S.Jh)(this,function(y){for(s=ko(c),l=0,h=c.Fr;l<h.length;l++)s.Er(h[l].mutations);return[2]})})}function Wf(c,s,l){return(0,S.mG)(this,void 0,void 0,function(){var h,m;return(0,S.Jh)(this,function(y){switch(y.label){case 0:return h=c.Fr.shift(),m=wg.from(h,s,l),[4,ph(c,function(){return c.remoteSyncer.applySuccessfulWrite(m)})];case 1:return y.sent(),[4,ql(c)];case 2:return y.sent(),[2]}})})}function Gl(c,s){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(l){switch(l.label){case 0:return s&&ko(c).pr?[4,function(h,m){return(0,S.mG)(this,void 0,void 0,function(){var y,b;return(0,S.Jh)(this,function(D){switch(D.label){case 0:return Ca(b=m.code)&&b!==ue.ABORTED?(y=h.Fr.shift(),ko(h).sr(),[4,ph(h,function(){return h.remoteSyncer.rejectFailedWrite(y.batchId,m)})]):[3,3];case 1:return D.sent(),[4,ql(h)];case 2:D.sent(),D.label=3;case 3:return[2]}})})}(c,s)]:[3,2];case 1:l.sent(),l.label=2;case 2:return mh(c)&&Ug(c),[2]}})})}function Wl(c,s){return(0,S.mG)(this,void 0,void 0,function(){var l;return(0,S.Jh)(this,function(h){switch(h.label){case 0:return l=Pe(c),s?(l.Or.delete(2),[4,dh(l)]):[3,2];case 1:return h.sent(),[3,5];case 2:return s?[3,4]:(l.Or.add(2),[4,Hl(l)]);case 3:h.sent(),l.Br.set("Unknown"),h.label=4;case 4:h.label=5;case 5:return[2]}})})}function Kl(c){var l,h,m,y,s=this;return c.Ur||(c.Ur=(l=c.datastore,h=c.asyncQueue,m={Ii:Xs.bind(null,c),Ri:Vg.bind(null,c),_r:Fu.bind(null,c)},(y=Pe(l)).br(),new fm(h,y.Hi,y.credentials,y.R,m)),c.Mr.push(function(l){return(0,S.mG)(s,void 0,void 0,function(){return(0,S.Jh)(this,function(h){switch(h.label){case 0:return l?(c.Ur.sr(),$l(c)?zl(c):c.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,c.Ur.stop()];case 2:h.sent(),rr(c),h.label=3;case 3:return[2]}})})})),c.Ur}function ko(c){var l,h,m,y,s=this;return c.Kr||(c.Kr=(l=c.datastore,h=c.asyncQueue,m={Ii:Hg.bind(null,c),Ri:Gl.bind(null,c),Ir:iy.bind(null,c),Tr:Wf.bind(null,c)},(y=Pe(l)).br(),new jg(h,y.Hi,y.credentials,y.R,m)),c.Mr.push(function(l){return(0,S.mG)(s,void 0,void 0,function(){return(0,S.Jh)(this,function(h){switch(h.label){case 0:return l?(c.Kr.sr(),[4,ql(c)]):[3,2];case 1:return h.sent(),[3,4];case 2:return[4,c.Kr.stop()];case 3:h.sent(),c.Fr.length>0&&(pe("RemoteStore","Stopping write stream with "+c.Fr.length+" pending writes"),c.Fr=[]),h.label=4;case 4:return[2]}})})})),c.Kr}var gm=function(){function c(s,l,h,m,y){this.asyncQueue=s,this.timerId=l,this.targetTimeMs=h,this.op=m,this.removalCallback=y,this.deferred=new wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(b){})}return c.createAndSchedule=function(s,l,h,m,y){var b=new c(s,l,Date.now()+h,m,y);return b.start(h),b},c.prototype.start=function(s){var l=this;this.timerHandle=setTimeout(function(){return l.handleDelayElapsed()},s)},c.prototype.skipDelay=function(){return this.handleDelayElapsed()},c.prototype.cancel=function(s){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new we(ue.CANCELLED,"Operation cancelled"+(s?": "+s:""))))},c.prototype.handleDelayElapsed=function(){var s=this;this.asyncQueue.enqueueAndForget(function(){return null!==s.timerHandle?(s.clearTimeout(),s.op().then(function(l){return s.deferred.resolve(l)})):Promise.resolve()})},c.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},c}();function Lu(c,s){if(Fr("AsyncQueue",s+": "+c),vc(c))return new we(ue.UNAVAILABLE,s+": "+c);throw c}var gh=function(){function c(s){this.comparator=s?function(l,h){return s(l,h)||Ve.comparator(l.key,h.key)}:function(l,h){return Ve.comparator(l.key,h.key)},this.keyedMap=Cl(),this.sortedSet=new Bn(this.comparator)}return c.emptySet=function(s){return new c(s.comparator)},c.prototype.has=function(s){return null!=this.keyedMap.get(s)},c.prototype.get=function(s){return this.keyedMap.get(s)},c.prototype.first=function(){return this.sortedSet.minKey()},c.prototype.last=function(){return this.sortedSet.maxKey()},c.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},c.prototype.indexOf=function(s){var l=this.keyedMap.get(s);return l?this.sortedSet.indexOf(l):-1},Object.defineProperty(c.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),c.prototype.forEach=function(s){this.sortedSet.inorderTraversal(function(l,h){return s(l),!1})},c.prototype.add=function(s){var l=this.delete(s.key);return l.copy(l.keyedMap.insert(s.key,s),l.sortedSet.insert(s,null))},c.prototype.delete=function(s){var l=this.get(s);return l?this.copy(this.keyedMap.remove(s),this.sortedSet.remove(l)):this},c.prototype.isEqual=function(s){if(!(s instanceof c)||this.size!==s.size)return!1;for(var l=this.sortedSet.getIterator(),h=s.sortedSet.getIterator();l.hasNext();){var m=l.getNext().key,y=h.getNext().key;if(!m.isEqual(y))return!1}return!0},c.prototype.toString=function(){var s=[];return this.forEach(function(l){s.push(l.toString())}),0===s.length?"DocumentSet ()":"DocumentSet (\n  "+s.join("  \n")+"\n)"},c.prototype.copy=function(s,l){var h=new c;return h.comparator=this.comparator,h.keyedMap=s,h.sortedSet=l,h},c}(),vh=function(){function c(){this.Qr=new Bn(Ve.comparator)}return c.prototype.track=function(s){var l=s.doc.key,h=this.Qr.get(l);h?0!==s.type&&3===h.type?this.Qr=this.Qr.insert(l,s):3===s.type&&1!==h.type?this.Qr=this.Qr.insert(l,{type:h.type,doc:s.doc}):2===s.type&&2===h.type?this.Qr=this.Qr.insert(l,{type:2,doc:s.doc}):2===s.type&&0===h.type?this.Qr=this.Qr.insert(l,{type:0,doc:s.doc}):1===s.type&&0===h.type?this.Qr=this.Qr.remove(l):1===s.type&&2===h.type?this.Qr=this.Qr.insert(l,{type:1,doc:h.doc}):0===s.type&&1===h.type?this.Qr=this.Qr.insert(l,{type:2,doc:s.doc}):He():this.Qr=this.Qr.insert(l,s)},c.prototype.jr=function(){var s=[];return this.Qr.inorderTraversal(function(l,h){s.push(h)}),s},c}(),Yl=function(){function c(s,l,h,m,y,b,D,T){this.query=s,this.docs=l,this.oldDocs=h,this.docChanges=m,this.mutatedKeys=y,this.fromCache=b,this.syncStateChanged=D,this.excludesMetadataChanges=T}return c.fromInitialDocuments=function(s,l,h,m){var y=[];return l.forEach(function(b){y.push({type:0,doc:b})}),new c(s,l,gh.emptySet(l),y,h,m,!0,!1)},Object.defineProperty(c.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(s){if(!(this.fromCache===s.fromCache&&this.syncStateChanged===s.syncStateChanged&&this.mutatedKeys.isEqual(s.mutatedKeys)&&Bd(this.query,s.query)&&this.docs.isEqual(s.docs)&&this.oldDocs.isEqual(s.oldDocs)))return!1;var l=this.docChanges,h=s.docChanges;if(l.length!==h.length)return!1;for(var m=0;m<l.length;m++)if(l[m].type!==h[m].type||!l[m].doc.isEqual(h[m].doc))return!1;return!0},c}(),ju=function(){this.Wr=void 0,this.listeners=[]},Kf=function(){this.queries=new Yr(function(c){return qv(c)},Bd),this.onlineState="Unknown",this.Gr=new Set};function yh(c,s){return(0,S.mG)(this,void 0,void 0,function(){var l,h,m,y,b,D,T;return(0,S.Jh)(this,function(O){switch(O.label){case 0:if(l=Pe(c),m=!1,(y=l.queries.get(h=s.query))||(m=!0,y=new ju),!m)return[3,4];O.label=1;case 1:return O.trys.push([1,3,,4]),b=y,[4,l.onListen(h)];case 2:return b.Wr=O.sent(),[3,4];case 3:return D=O.sent(),T=Lu(D,"Initialization of query '"+bl(s.query)+"' failed"),[2,void s.onError(T)];case 4:return l.queries.set(h,y),y.listeners.push(s),s.zr(l.onlineState),y.Wr&&s.Hr(y.Wr)&&vm(l),[2]}})})}function Cc(c,s){return(0,S.mG)(this,void 0,void 0,function(){var l,h,m,y,b;return(0,S.Jh)(this,function(D){return l=Pe(c),m=!1,(y=l.queries.get(h=s.query))&&(b=y.listeners.indexOf(s))>=0&&(y.listeners.splice(b,1),m=0===y.listeners.length),m?[2,(l.queries.delete(h),l.onUnlisten(h))]:[2]})})}function Yf(c,s){for(var l=Pe(c),h=!1,m=0,y=s;m<y.length;m++){var b=y[m],T=l.queries.get(b.query);if(T){for(var O=0,P=T.listeners;O<P.length;O++)P[O].Hr(b)&&(h=!0);T.Wr=b}}h&&vm(l)}function oy(c,s,l){var h=Pe(c),m=h.queries.get(s);if(m)for(var y=0,b=m.listeners;y<b.length;y++)b[y].onError(l);h.queries.delete(s)}function vm(c){c.Gr.forEach(function(s){s.next()})}var Zf=function(){function c(s,l,h){this.query=s,this.Jr=l,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=h||{}}return c.prototype.Hr=function(s){if(!this.options.includeMetadataChanges){for(var l=[],h=0,m=s.docChanges;h<m.length;h++){var y=m[h];3!==y.type&&l.push(y)}s=new Yl(s.query,s.docs,s.oldDocs,l,s.mutatedKeys,s.fromCache,s.syncStateChanged,!0)}var b=!1;return this.Yr?this.Zr(s)&&(this.Jr.next(s),b=!0):this.eo(s,this.onlineState)&&(this.no(s),b=!0),this.Xr=s,b},c.prototype.onError=function(s){this.Jr.error(s)},c.prototype.zr=function(s){this.onlineState=s;var l=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,s)&&(this.no(this.Xr),l=!0),l},c.prototype.eo=function(s,l){return!s.fromCache||!(this.options.so&&"Offline"!==l||s.docs.isEmpty()&&"Offline"!==l)},c.prototype.Zr=function(s){return s.docChanges.length>0||!!(s.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==s.hasPendingWrites)&&!0===this.options.includeMetadataChanges},c.prototype.no=function(s){s=Yl.fromInitialDocuments(s.query,s.docs,s.mutatedKeys,s.fromCache),this.Yr=!0,this.Jr.next(s)},c}(),zg=function(){function c(s,l){this.payload=s,this.byteLength=l}return c.prototype.io=function(){return"metadata"in this.payload},c}(),Xf=function(){function c(s){this.R=s}return c.prototype.qn=function(s){return $o(this.R,s)},c.prototype.Un=function(s){return s.metadata.exists?ms(this.R,s.document,!1):Gr.newNoDocument(this.qn(s.metadata.name),this.Kn(s.metadata.readTime))},c.prototype.Kn=function(s){return Vr(s)},c}();!function(){function c(s,l,h){this.ro=s,this.localStore=l,this.R=h,this.queries=[],this.documents=[],this.progress=function ym(c){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes}}(s)}c.prototype.oo=function(s){this.progress.bytesLoaded+=s.byteLength;var l=this.progress.documentsLoaded;return s.payload.namedQuery?this.queries.push(s.payload.namedQuery):s.payload.documentMetadata?(this.documents.push({metadata:s.payload.documentMetadata}),s.payload.documentMetadata.exists||++l):s.payload.document&&(this.documents[this.documents.length-1].document=s.payload.document,++l),l!==this.progress.documentsLoaded?(this.progress.documentsLoaded=l,Object.assign({},this.progress)):null},c.prototype.co=function(s){for(var l=new Map,h=new Xf(this.R),m=0,y=s;m<y.length;m++){var b=y[m];if(b.metadata.queries)for(var D=h.qn(b.metadata.name),T=0,O=b.metadata.queries;T<O.length;T++){var P=O[T],B=(l.get(P)||yn()).add(D);l.set(P,B)}}return l},c.prototype.complete=function(){return(0,S.mG)(this,void 0,void 0,function(){var s,l,h,m,y;return(0,S.Jh)(this,function(b){switch(b.label){case 0:return[4,Ag(this.localStore,new Xf(this.R),this.documents,this.ro.id)];case 1:s=b.sent(),l=this.co(this.documents),h=0,m=this.queries,b.label=2;case 2:return h<m.length?[4,lh(this.localStore,y=m[h],l.get(y.name))]:[3,5];case 3:b.sent(),b.label=4;case 4:return h++,[3,2];case 5:return[2,(this.progress.taskState="Success",new jt(Object.assign({},this.progress),s))]}})})}}();var Bu=function(c){this.key=c},Qf=function(c){this.key=c},Zl=function(){function c(s,l){this.query=s,this.uo=l,this.ao=null,this.current=!1,this.ho=yn(),this.mutatedKeys=yn(),this.lo=If(s),this.fo=new gh(this.lo)}return Object.defineProperty(c.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),c.prototype._o=function(s,l){var h=this,m=l?l.mo:new vh,y=l?l.fo:this.fo,b=l?l.mutatedKeys:this.mutatedKeys,D=y,T=!1,O=vl(this.query)&&y.size===this.query.limit?y.last():null,P=yl(this.query)&&y.size===this.query.limit?y.first():null;if(s.inorderTraversal(function(z,re){var te=y.get(z),he=uo(h.query,re)?re:null,Me=!!te&&h.mutatedKeys.has(te.key),Le=!!he&&(he.hasLocalMutations||h.mutatedKeys.has(he.key)&&he.hasCommittedMutations),ot=!1;te&&he?te.data.isEqual(he.data)?Me!==Le&&(m.track({type:3,doc:he}),ot=!0):h.yo(te,he)||(m.track({type:2,doc:he}),ot=!0,(O&&h.lo(he,O)>0||P&&h.lo(he,P)<0)&&(T=!0)):!te&&he?(m.track({type:0,doc:he}),ot=!0):te&&!he&&(m.track({type:1,doc:te}),ot=!0,(O||P)&&(T=!0)),ot&&(he?(D=D.add(he),b=Le?b.add(z):b.delete(z)):(D=D.delete(z),b=b.delete(z)))}),vl(this.query)||yl(this.query))for(;D.size>this.query.limit;){var B=vl(this.query)?D.last():D.first();D=D.delete(B.key),b=b.delete(B.key),m.track({type:1,doc:B})}return{fo:D,mo:m,Nn:T,mutatedKeys:b}},c.prototype.yo=function(s,l){return s.hasLocalMutations&&l.hasCommittedMutations&&!l.hasLocalMutations},c.prototype.applyChanges=function(s,l,h){var m=this,y=this.fo;this.fo=s.fo,this.mutatedKeys=s.mutatedKeys;var b=s.mo.jr();b.sort(function(P,B){return re=B.type,(te=function(he){switch(he){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He()}})(P.type)-te(re)||m.lo(P.doc,B.doc);var re,te}),this.po(h);var D=l?this.Eo():[],T=0===this.ho.size&&this.current?1:0,O=T!==this.ao;return this.ao=T,0!==b.length||O?{snapshot:new Yl(this.query,s.fo,y,b,s.mutatedKeys,0===T,O,!1),To:D}:{To:D}},c.prototype.zr=function(s){return this.current&&"Offline"===s?(this.current=!1,this.applyChanges({fo:this.fo,mo:new vh,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},c.prototype.Io=function(s){return!this.uo.has(s)&&!!this.fo.has(s)&&!this.fo.get(s).hasLocalMutations},c.prototype.po=function(s){var l=this;s&&(s.addedDocuments.forEach(function(h){return l.uo=l.uo.add(h)}),s.modifiedDocuments.forEach(function(h){}),s.removedDocuments.forEach(function(h){return l.uo=l.uo.delete(h)}),this.current=s.current)},c.prototype.Eo=function(){var s=this;if(!this.current)return[];var l=this.ho;this.ho=yn(),this.fo.forEach(function(m){s.Io(m.key)&&(s.ho=s.ho.add(m.key))});var h=[];return l.forEach(function(m){s.ho.has(m)||h.push(new Qf(m))}),this.ho.forEach(function(m){l.has(m)||h.push(new Bu(m))}),h},c.prototype.Ao=function(s){this.uo=s.Bn,this.ho=yn();var l=this._o(s.documents);return this.applyChanges(l,!0)},c.prototype.Ro=function(){return Yl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},c}(),ay=function(c,s,l){this.query=c,this.targetId=s,this.view=l},Jf=function(c){this.key=c,this.bo=!1},ep=function(){function c(s,l,h,m,y,b){this.localStore=s,this.remoteStore=l,this.eventManager=h,this.sharedClientState=m,this.currentUser=y,this.maxConcurrentLimboResolutions=b,this.vo={},this.Po=new Yr(function(D){return qv(D)},Bd),this.Vo=new Map,this.So=new Set,this.Do=new Bn(Ve.comparator),this.Co=new Map,this.No=new Vf,this.xo={},this.ko=new Map,this.Fo=Pf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(c.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),c}();function _m(c,s){return(0,S.mG)(this,void 0,void 0,function(){var l,m,y,b,D;return(0,S.Jh)(this,function(T){switch(T.label){case 0:return l=Jl(c),(y=l.Po.get(s))?(l.sharedClientState.addLocalQueryTarget(y.targetId),m=y.view.Ro(),[3,4]):[3,1];case 1:return[4,Mu(l.localStore,Oi(s))];case 2:return b=T.sent(),D=l.sharedClientState.addLocalQueryTarget(b.targetId),[4,Qs(l,s,b.targetId,"current"===D)];case 3:m=T.sent(),l.isPrimaryClient&&hh(l.remoteStore,b),T.label=4;case 4:return[2,m]}})})}function Qs(c,s,l,h){return(0,S.mG)(this,void 0,void 0,function(){var m,y,b,D,T,O;return(0,S.Jh)(this,function(P){switch(P.label){case 0:return c.Oo=function(B,z,re){return function(te,he,Me,Le){return(0,S.mG)(this,void 0,void 0,function(){var ot,lt,Qt;return(0,S.Jh)(this,function(vn){switch(vn.label){case 0:return(ot=he.view._o(Me)).Nn?[4,ku(te.localStore,he.query,!1).then(function(Hn){return he.view._o(Hn.documents,ot)})]:[3,2];case 1:ot=vn.sent(),vn.label=2;case 2:return lt=Le&&Le.targetChanges.get(he.targetId),Qt=he.view.applyChanges(ot,te.isPrimaryClient,lt),[2,(Sc(te,he.targetId,Qt.To),Qt.snapshot)]}})})}(c,B,z,re)},[4,ku(c.localStore,s,!0)];case 1:return m=P.sent(),y=new Zl(s,m.Bn),b=y._o(m.documents),D=Tr.createSynthesizedTargetChangeForCurrentChange(l,h&&"Offline"!==c.onlineState),T=y.applyChanges(b,c.isPrimaryClient,D),Sc(c,l,T.To),O=new ay(s,l,y),[2,(c.Po.set(s,O),c.Vo.has(l)?c.Vo.get(l).push(s):c.Vo.set(l,[s]),T.snapshot)]}})})}function _h(c,s){return(0,S.mG)(this,void 0,void 0,function(){var l,h,m;return(0,S.Jh)(this,function(y){switch(y.label){case 0:return l=Pe(c),h=l.Po.get(s),(m=l.Vo.get(h.targetId)).length>1?[2,(l.Vo.set(h.targetId,m.filter(function(b){return!Bd(b,s)})),void l.Po.delete(s))]:l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(h.targetId),l.sharedClientState.isActiveQueryTarget(h.targetId)?[3,2]:[4,Ru(l.localStore,h.targetId,!1).then(function(){l.sharedClientState.clearQueryState(h.targetId),fh(l.remoteStore,h.targetId),ka(l,h.targetId)}).catch(wc)]):[3,3];case 1:y.sent(),y.label=2;case 2:return[3,5];case 3:return ka(l,h.targetId),[4,Ru(l.localStore,h.targetId,!0)];case 4:y.sent(),y.label=5;case 5:return[2]}})})}function tp(c,s,l){return(0,S.mG)(this,void 0,void 0,function(){var h,m,y,b;return(0,S.Jh)(this,function(D){switch(D.label){case 0:h=Js(c),D.label=1;case 1:return D.trys.push([1,5,,6]),[4,(T=h.localStore,O=s,B=Pe(T),z=qr.now(),re=O.reduce(function(te,he){return te.add(he.key)},yn()),B.persistence.runTransaction("Locally write mutations","readwrite",function(te){return B.Mn.pn(te,re).next(function(he){P=he;for(var Me=[],Le=0,ot=O;Le<ot.length;Le++){var lt=ot[Le],Qt=Hp(lt,P.get(lt.key));null!=Qt&&Me.push(new Br(lt.key,Qt,jp(Qt.value.mapValue),Cr.exists(!0)))}return B._n.addMutationBatch(te,z,Me,O)})}).then(function(te){return te.applyToLocalDocumentSet(P),{batchId:te.batchId,changes:P}}))];case 2:return m=D.sent(),h.sharedClientState.addPendingMutation(m.batchId),function(T,O,P){var B=T.xo[T.currentUser.toKey()];B||(B=new Bn(Xe)),B=B.insert(O,P),T.xo[T.currentUser.toKey()]=B}(h,m.batchId,l),[4,qo(h,m.changes)];case 3:return D.sent(),[4,ql(h.remoteStore)];case 4:return D.sent(),[3,6];case 5:return y=D.sent(),b=Lu(y,"Failed to persist write"),l.reject(b),[3,6];case 6:return[2]}var T,O,P,B,z,re})})}function $g(c,s){return(0,S.mG)(this,void 0,void 0,function(){var l,h;return(0,S.Jh)(this,function(m){switch(m.label){case 0:l=Pe(c),m.label=1;case 1:return m.trys.push([1,4,,6]),[4,ty(l.localStore,s)];case 2:return h=m.sent(),s.targetChanges.forEach(function(y,b){var D=l.Co.get(b);D&&(nt(y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size<=1),y.addedDocuments.size>0?D.bo=!0:y.modifiedDocuments.size>0?nt(D.bo):y.removedDocuments.size>0&&(nt(D.bo),D.bo=!1))}),[4,qo(l,h,s)];case 3:return m.sent(),[3,6];case 4:return[4,wc(m.sent())];case 5:return m.sent(),[3,6];case 6:return[2]}})})}function cy(c,s,l){var h=Pe(c);if(h.isPrimaryClient&&0===l||!h.isPrimaryClient&&1===l){var m=[];h.Po.forEach(function(y,b){var D=b.view.zr(s);D.snapshot&&m.push(D.snapshot)}),function(y,b){var D=Pe(y);D.onlineState=b;var T=!1;D.queries.forEach(function(O,P){for(var B=0,z=P.listeners;B<z.length;B++)z[B].zr(b)&&(T=!0)}),T&&vm(D)}(h.eventManager,s),m.length&&h.vo._r(m),h.onlineState=s,h.isPrimaryClient&&h.sharedClientState.setOnlineState(s)}}function bh(c,s,l){return(0,S.mG)(this,void 0,void 0,function(){var h,m,y,b,D,T;return(0,S.Jh)(this,function(O){switch(O.label){case 0:return(h=Pe(c)).sharedClientState.updateQueryState(s,"rejected",l),m=h.Co.get(s),(y=m&&m.key)?(b=(b=new Bn(Ve.comparator)).insert(y,Gr.newNoDocument(y,mt.min())),D=yn().add(y),T=new Il(mt.min(),new Map,new de(Xe),b,D),[4,$g(h,T)]):[3,2];case 1:return O.sent(),h.Do=h.Do.remove(y),h.Co.delete(s),Eh(h),[3,4];case 2:return[4,Ru(h.localStore,s,!1).then(function(){return ka(h,s,l)}).catch(wc)];case 3:O.sent(),O.label=4;case 4:return[2]}})})}function bm(c,s){return(0,S.mG)(this,void 0,void 0,function(){var l,h,m;return(0,S.Jh)(this,function(y){switch(y.label){case 0:l=Pe(c),h=s.batch.batchId,y.label=1;case 1:return y.trys.push([1,4,,6]),[4,Ig(l.localStore,s)];case 2:return m=y.sent(),Ql(l,h,null),Xl(l,h),l.sharedClientState.updateMutationState(h,"acknowledged"),[4,qo(l,m)];case 3:return y.sent(),[3,6];case 4:return[4,wc(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}})})}function wm(c,s,l){return(0,S.mG)(this,void 0,void 0,function(){var h,m;return(0,S.Jh)(this,function(y){switch(y.label){case 0:h=Pe(c),y.label=1;case 1:return y.trys.push([1,4,,6]),[4,(b=h.localStore,D=s,T=Pe(b),T.persistence.runTransaction("Reject batch","readwrite-primary",function(O){var P;return T._n.lookupMutationBatch(O,D).next(function(B){return nt(null!==B),P=B.keys(),T._n.removeMutationBatch(O,B)}).next(function(){return T._n.performConsistencyCheck(O)}).next(function(){return T.Mn.pn(O,P)})}))];case 2:return m=y.sent(),Ql(h,s,l),Xl(h,s),h.sharedClientState.updateMutationState(s,"rejected",l),[4,qo(h,m)];case 3:return y.sent(),[3,6];case 4:return[4,wc(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}var b,D,T})})}function Em(c,s){return(0,S.mG)(this,void 0,void 0,function(){var l,h,m,y,b;return(0,S.Jh)(this,function(D){switch(D.label){case 0:ho((l=Pe(c)).remoteStore)||pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),D.label=1;case 1:return D.trys.push([1,3,,4]),[4,(T=l.localStore,O=Pe(T),O.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(P){return O._n.getHighestUnacknowledgedBatchId(P)}))];case 2:return-1===(h=D.sent())?[2,void s.resolve()]:((m=l.ko.get(h)||[]).push(s),l.ko.set(h,m),[3,4]);case 3:return y=D.sent(),b=Lu(y,"Initialization of waitForPendingWrites() operation failed"),s.reject(b),[3,4];case 4:return[2]}var T,O})})}function Xl(c,s){(c.ko.get(s)||[]).forEach(function(l){l.resolve()}),c.ko.delete(s)}function Ql(c,s,l){var h=Pe(c),m=h.xo[h.currentUser.toKey()];if(m){var y=m.get(s);y&&(l?y.reject(l):y.resolve(),m=m.remove(s)),h.xo[h.currentUser.toKey()]=m}}function ka(c,s,l){void 0===l&&(l=null),c.sharedClientState.removeLocalQueryTarget(s);for(var h=0,m=c.Vo.get(s);h<m.length;h++){var y=m[h];c.Po.delete(y),l&&c.vo.Mo(y,l)}c.Vo.delete(s),c.isPrimaryClient&&c.No.Zn(s).forEach(function(b){c.No.containsKey(b)||Ic(c,b)})}function Ic(c,s){c.So.delete(s.path.canonicalString());var l=c.Do.get(s);null!==l&&(fh(c.remoteStore,l),c.Do=c.Do.remove(s),c.Co.delete(l),Eh(c))}function Sc(c,s,l){for(var h=0,m=l;h<m.length;h++){var y=m[h];y instanceof Bu?(c.No.addReference(y.key,s),wh(c,y)):y instanceof Qf?(pe("SyncEngine","Document no longer in limbo: "+y.key),c.No.removeReference(y.key,s),c.No.containsKey(y.key)||Ic(c,y.key)):He()}}function wh(c,s){var l=s.key,h=l.path.canonicalString();c.Do.get(l)||c.So.has(h)||(pe("SyncEngine","New document in limbo: "+l),c.So.add(h),Eh(c))}function Eh(c){for(;c.So.size>0&&c.Do.size<c.maxConcurrentLimboResolutions;){var s=c.So.values().next().value;c.So.delete(s);var l=new Ve(Kt.fromString(s)),h=c.Fo.next();c.Co.set(h,new Jf(l)),c.Do=c.Do.insert(l,h),hh(c.remoteStore,new rh(Oi(gl(l.path)),h,2,_i.o))}}function qo(c,s,l){return(0,S.mG)(this,void 0,void 0,function(){var h,m,y,b;return(0,S.Jh)(this,function(D){switch(D.label){case 0:return h=Pe(c),m=[],y=[],b=[],h.Po.isEmpty()?[3,3]:(h.Po.forEach(function(T,O){b.push(h.Oo(O,s,l).then(function(P){if(P){h.isPrimaryClient&&h.sharedClientState.updateQueryState(O.targetId,P.fromCache?"not-current":"current"),m.push(P);var B=Au.Pn(O.targetId,P);y.push(B)}}))}),[4,Promise.all(b)]);case 1:return D.sent(),h.vo._r(m),[4,function(T,O){return(0,S.mG)(this,void 0,void 0,function(){var P,B,z,re,te,he,Me,ot;return(0,S.Jh)(this,function(lt){switch(lt.label){case 0:P=Pe(T),lt.label=1;case 1:return lt.trys.push([1,3,,4]),[4,P.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Qt){return Se.forEach(O,function(vn){return Se.forEach(vn.bn,function(Hn){return P.persistence.referenceDelegate.addReference(Qt,vn.targetId,Hn)}).next(function(){return Se.forEach(vn.vn,function(Hn){return P.persistence.referenceDelegate.removeReference(Qt,vn.targetId,Hn)})})})})];case 2:return lt.sent(),[3,4];case 3:if(!vc(B=lt.sent()))throw B;return pe("LocalStore","Failed to update sequence numbers: "+B),[3,4];case 4:for(z=0,re=O;z<re.length;z++)he=(te=re[z]).targetId,te.fromCache||(Me=P.kn.get(he),ot=Me.withLastLimboFreeSnapshotVersion(Me.snapshotVersion),P.kn=P.kn.insert(he,ot));return[2]}})})}(h.localStore,y)];case 2:D.sent(),D.label=3;case 3:return[2]}})})}function Dm(c,s){return(0,S.mG)(this,void 0,void 0,function(){var l,h;return(0,S.Jh)(this,function(m){switch(m.label){case 0:return(l=Pe(c)).currentUser.isEqual(s)?[3,3]:(pe("SyncEngine","User change. New user:",s.toKey()),[4,ch(l.localStore,s)]);case 1:return h=m.sent(),l.currentUser=s,(y=l).ko.forEach(function(D){D.forEach(function(T){T.reject(new we(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.ko.clear(),l.sharedClientState.handleUserChange(s,h.removedBatchIds,h.addedBatchIds),[4,qo(l,h.Ln)];case 2:m.sent(),m.label=3;case 3:return[2]}var y})})}function Oa(c,s){var l=Pe(c),h=l.Co.get(s);if(h&&h.bo)return yn().add(h.key);var m=yn(),y=l.Vo.get(s);if(!y)return m;for(var b=0,D=y;b<D.length;b++){var O=l.Po.get(D[b]);m=m.unionWith(O.view.wo)}return m}function Dh(c,s){return(0,S.mG)(this,void 0,void 0,function(){var l,h,m;return(0,S.Jh)(this,function(y){switch(y.label){case 0:return[4,ku((l=Pe(c)).localStore,s.query,!0)];case 1:return h=y.sent(),m=s.view.Ao(h),[2,(l.isPrimaryClient&&Sc(l,s.targetId,m.To),m)]}})})}function qg(c){return(0,S.mG)(this,void 0,void 0,function(){var s;return(0,S.Jh)(this,function(l){return[2,Tg((s=Pe(c)).localStore).then(function(h){return qo(s,h)})]})})}function Gg(c,s,l,h){return(0,S.mG)(this,void 0,void 0,function(){var m,y;return(0,S.Jh)(this,function(b){switch(b.label){case 0:return[4,(D=(m=Pe(c)).localStore,T=s,O=Pe(D),P=Pe(O._n),O.persistence.runTransaction("Lookup mutation documents","readonly",function(B){return P.jt(B,T).next(function(z){return z?O.Mn.pn(B,z):Se.resolve(null)})}))];case 1:return null===(y=b.sent())?[3,6]:"pending"!==l?[3,3]:[4,ql(m.remoteStore)];case 2:return b.sent(),[3,4];case 3:"acknowledged"===l||"rejected"===l?(Ql(m,s,h||null),Xl(m,s),function(D,T){Pe(Pe(D)._n).Gt(T)}(m.localStore,s)):He(),b.label=4;case 4:return[4,qo(m,y)];case 5:return b.sent(),[3,7];case 6:pe("SyncEngine","Cannot apply mutation batch with id: "+s),b.label=7;case 7:return[2]}var D,T,O,P})})}function Wg(c,s){return(0,S.mG)(this,void 0,void 0,function(){var l,h,m,y,b,T,O;return(0,S.Jh)(this,function(P){switch(P.label){case 0:return Jl(l=Pe(c)),Js(l),!0!==s||!0===l.$o?[3,3]:(h=l.sharedClientState.getAllActiveQueryTargets(),[4,np(l,h.toArray())]);case 1:return m=P.sent(),l.$o=!0,[4,Wl(l.remoteStore,!0)];case 2:for(P.sent(),y=0,b=m;y<b.length;y++)hh(l.remoteStore,b[y]);return[3,7];case 3:return!1!==s||!1===l.$o?[3,7]:(T=[],O=Promise.resolve(),l.Vo.forEach(function(B,z){l.sharedClientState.isLocalQueryTarget(z)?T.push(z):O=O.then(function(){return ka(l,z),Ru(l.localStore,z,!0)}),fh(l.remoteStore,z)}),[4,O]);case 4:return P.sent(),[4,np(l,T)];case 5:return P.sent(),(z=Pe(l)).Co.forEach(function(re,te){fh(z.remoteStore,te)}),z.No.ts(),z.Co=new Map,z.Do=new Bn(Ve.comparator),l.$o=!1,[4,Wl(l.remoteStore,!1)];case 6:P.sent(),P.label=7;case 7:return[2]}var z})})}function np(c,s,l){return(0,S.mG)(this,void 0,void 0,function(){var h,m,y,b,D,T,O,P,B,z,te,he,Me;return(0,S.Jh)(this,function(Le){switch(Le.label){case 0:h=Pe(c),m=[],y=[],b=0,D=s,Le.label=1;case 1:return b<D.length?(O=void 0,(P=h.Vo.get(T=D[b]))&&0!==P.length?[4,Mu(h.localStore,Oi(P[0]))]:[3,7]):[3,13];case 2:O=Le.sent(),B=0,z=P,Le.label=3;case 3:return B<z.length?(te=h.Po.get(z[B]),[4,Dh(h,te)]):[3,6];case 4:(he=Le.sent()).snapshot&&y.push(he.snapshot),Le.label=5;case 5:return B++,[3,3];case 6:return[3,11];case 7:return[4,um(h.localStore,T)];case 8:return Me=Le.sent(),[4,Mu(h.localStore,Me)];case 9:return O=Le.sent(),[4,Qs(h,rp(Me),T,!1)];case 10:Le.sent(),Le.label=11;case 11:m.push(O),Le.label=12;case 12:return b++,[3,1];case 13:return[2,(h.vo._r(y),m)]}})})}function rp(c){return gg(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function Kg(c){var s=Pe(c);return Pe(Pe(s.localStore).persistence).fn()}function ip(c,s,l,h){return(0,S.mG)(this,void 0,void 0,function(){var m,y,b;return(0,S.Jh)(this,function(D){switch(D.label){case 0:return(m=Pe(c)).$o?(pe("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!m.Vo.has(s))return[3,8];switch(l){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Tg(m.localStore)];case 3:return y=D.sent(),b=Il.createSynthesizedRemoteEventForCurrentChange(s,"current"===l),[4,qo(m,y,b)];case 4:return D.sent(),[3,8];case 5:return[4,Ru(m.localStore,s,!0)];case 6:return D.sent(),ka(m,s,h),[3,8];case 7:He(),D.label=8;case 8:return[2]}})})}function Ch(c,s,l){return(0,S.mG)(this,void 0,void 0,function(){var h,m,y,b,D,T,O,P,B;return(0,S.Jh)(this,function(re){switch(re.label){case 0:if(!(h=Jl(c)).$o)return[3,10];m=0,y=s,re.label=1;case 1:return m<y.length?h.Vo.has(b=y[m])?(pe("SyncEngine","Adding an already active target "+b),[3,5]):[4,um(h.localStore,b)]:[3,6];case 2:return D=re.sent(),[4,Mu(h.localStore,D)];case 3:return T=re.sent(),[4,Qs(h,rp(D),T.targetId,!1)];case 4:re.sent(),hh(h.remoteStore,T),re.label=5;case 5:return m++,[3,1];case 6:O=function(te){return(0,S.Jh)(this,function(he){switch(he.label){case 0:return h.Vo.has(te)?[4,Ru(h.localStore,te,!1).then(function(){fh(h.remoteStore,te),ka(h,te)}).catch(wc)]:[3,2];case 1:he.sent(),he.label=2;case 2:return[2]}})},P=0,B=l,re.label=7;case 7:return P<B.length?[5,O(B[P])]:[3,10];case 8:re.sent(),re.label=9;case 9:return P++,[3,7];case 10:return[2]}})})}function Jl(c){var s=Pe(c);return s.remoteStore.remoteSyncer.applyRemoteEvent=$g.bind(null,s),s.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oa.bind(null,s),s.remoteStore.remoteSyncer.rejectListen=bh.bind(null,s),s.vo._r=Yf.bind(null,s.eventManager),s.vo.Mo=oy.bind(null,s.eventManager),s}function Js(c){var s=Pe(c);return s.remoteStore.remoteSyncer.applySuccessfulWrite=bm.bind(null,s),s.remoteStore.remoteSyncer.rejectFailedWrite=wm.bind(null,s),s}var Cm=function(){function c(){this.synchronizeTabs=!1}return c.prototype.initialize=function(s){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(l){switch(l.label){case 0:return this.R=Ra(s.databaseInfo.databaseId),this.sharedClientState=this.Bo(s),this.persistence=this.qo(s),[4,this.persistence.start()];case 1:return l.sent(),this.gcScheduler=this.Uo(s),this.localStore=this.Ko(s),[2]}})})},c.prototype.Uo=function(s){return null},c.prototype.Ko=function(s){return jf(this.persistence,new Dg,s.initialUser,this.R)},c.prototype.qo=function(s){return new Rg(Uf.bs,this.R)},c.prototype.Bo=function(s){return new Ks},c.prototype.terminate=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(s){switch(s.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return s.sent(),[4,this.persistence.shutdown()];case 2:return s.sent(),[2]}})})},c}(),uy=function(c){function s(l,h,m){var y=this;return(y=c.call(this)||this).Qo=l,y.cacheSizeBytes=h,y.forceOwnership=m,y.synchronizeTabs=!1,y}return(0,S.ZT)(s,c),s.prototype.initialize=function(l){return(0,S.mG)(this,void 0,void 0,function(){var h=this;return(0,S.Jh)(this,function(m){switch(m.label){case 0:return[4,c.prototype.initialize.call(this,l)];case 1:return m.sent(),[4,xg(this.localStore)];case 2:return m.sent(),[4,this.Qo.initialize(this,l)];case 3:return m.sent(),[4,Js(this.Qo.syncEngine)];case 4:return m.sent(),[4,ql(this.Qo.remoteStore)];case 5:return m.sent(),[4,this.persistence.He(function(){return h.gcScheduler&&!h.gcScheduler.started&&h.gcScheduler.start(h.localStore),Promise.resolve()})];case 6:return m.sent(),[2]}})})},s.prototype.Ko=function(l){return jf(this.persistence,new Dg,l.initialUser,this.R)},s.prototype.Uo=function(l){return new Xv(this.persistence.referenceDelegate.garbageCollector,l.asyncQueue)},s.prototype.qo=function(l){var h=am(l.databaseInfo.databaseId,l.databaseInfo.persistenceKey),m=void 0!==this.cacheSizeBytes?vs.withCacheSize(this.cacheSizeBytes):vs.DEFAULT;return new ey(this.synchronizeTabs,h,l.clientId,m,l.asyncQueue,Pu(),Ys(),this.R,this.sharedClientState,!!this.forceOwnership)},s.prototype.Bo=function(l){return new Ks},s}(Cm),ly=function(c){function s(l,h){var m=this;return(m=c.call(this,l,h,!1)||this).Qo=l,m.cacheSizeBytes=h,m.synchronizeTabs=!0,m}return(0,S.ZT)(s,c),s.prototype.initialize=function(l){return(0,S.mG)(this,void 0,void 0,function(){var h,m=this;return(0,S.Jh)(this,function(y){switch(y.label){case 0:return[4,c.prototype.initialize.call(this,l)];case 1:return y.sent(),h=this.Qo.syncEngine,this.sharedClientState instanceof Ws?(this.sharedClientState.syncEngine={ui:Gg.bind(null,h),ai:ip.bind(null,h),hi:Ch.bind(null,h),fn:Kg.bind(null,h),ci:qg.bind(null,h)},[4,this.sharedClientState.start()]):[3,3];case 2:y.sent(),y.label=3;case 3:return[4,this.persistence.He(function(b){return(0,S.mG)(m,void 0,void 0,function(){return(0,S.Jh)(this,function(D){switch(D.label){case 0:return[4,Wg(this.Qo.syncEngine,b)];case 1:return D.sent(),this.gcScheduler&&(b&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):b||this.gcScheduler.stop()),[2]}})})})];case 4:return y.sent(),[2]}})})},s.prototype.Bo=function(l){var h=Pu();if(!Ws.yt(h))throw new we(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var m=am(l.databaseInfo.databaseId,l.databaseInfo.persistenceKey);return new Ws(h,l.asyncQueue,m,l.clientId,l.initialUser)},s}(uy),Vu=function(){function c(){}return c.prototype.initialize=function(s,l){return(0,S.mG)(this,void 0,void 0,function(){var h=this;return(0,S.Jh)(this,function(m){switch(m.label){case 0:return this.localStore?[3,2]:(this.localStore=s.localStore,this.sharedClientState=s.sharedClientState,this.datastore=this.createDatastore(l),this.remoteStore=this.createRemoteStore(l),this.eventManager=this.createEventManager(l),this.syncEngine=this.createSyncEngine(l,!s.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(y){return cy(h.syncEngine,y,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Dm.bind(null,this.syncEngine),[4,Wl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:m.sent(),m.label=2;case 2:return[2]}})})},c.prototype.createEventManager=function(s){return new Kf},c.prototype.createDatastore=function(s){var h=Ra(s.databaseInfo.databaseId),m=new hm(s.databaseInfo);return new Bg(s.credentials,m,h)},c.prototype.createRemoteStore=function(s){var l,h,m,y,b,D=this;return l=this.localStore,h=this.datastore,m=s.asyncQueue,y=function(T){return cy(D.syncEngine,T,0)},b=$f.yt()?new $f:new dm,new mm(l,h,m,y,b)},c.prototype.createSyncEngine=function(s,l){return O=l,P=new ep(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,s.initialUser,s.maxConcurrentLimboResolutions),O&&(P.$o=!0),P;var O,P},c.prototype.terminate=function(){return function(s){return(0,S.mG)(this,void 0,void 0,function(){var l;return(0,S.Jh)(this,function(h){switch(h.label){case 0:return l=Pe(s),pe("RemoteStore","RemoteStore shutting down."),l.Or.add(5),[4,Hl(l)];case 1:return h.sent(),l.Lr.shutdown(),l.Br.set("Unknown"),[2]}})})}(this.remoteStore)},c}(),fo=function(){function c(s){this.observer=s,this.muted=!1}return c.prototype.next=function(s){this.observer.next&&this.jo(this.observer.next,s)},c.prototype.error=function(s){this.observer.error?this.jo(this.observer.error,s):console.error("Uncaught Error in snapshot listener:",s)},c.prototype.Wo=function(){this.muted=!0},c.prototype.jo=function(s,l){var h=this;this.muted||setTimeout(function(){h.muted||s(l)},0)},c}(),Sm=(function(){function c(s,l){var h=this;this.Go=s,this.R=l,this.metadata=new wn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(m){m&&m.io()?h.metadata.resolve(m.payload.metadata):h.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(m?.payload)))},function(m){return h.metadata.reject(m)})}c.prototype.close=function(){return this.Go.cancel()},c.prototype.getMetadata=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(s){return[2,this.metadata.promise]})})},c.prototype.Lo=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(s){switch(s.label){case 0:return[4,this.getMetadata()];case 1:return[2,(s.sent(),this.Ho())]}})})},c.prototype.Ho=function(){return(0,S.mG)(this,void 0,void 0,function(){var s,l,h,m;return(0,S.Jh)(this,function(y){switch(y.label){case 0:return[4,this.Jo()];case 1:return null===(s=y.sent())?[2,null]:(l=this.zo.decode(s),h=Number(l),isNaN(h)&&this.Yo("length string ("+l+") is not valid number"),[4,this.Xo(h)]);case 2:return m=y.sent(),[2,new zg(JSON.parse(m),s.length+h)]}})})},c.prototype.Zo=function(){return this.buffer.findIndex(function(s){return s==="{".charCodeAt(0)})},c.prototype.Jo=function(){return(0,S.mG)(this,void 0,void 0,function(){var s,l;return(0,S.Jh)(this,function(h){switch(h.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(h.sent())return[3,3];h.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((s=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),l=this.buffer.slice(0,s),[2,(this.buffer=this.buffer.slice(s),l)])}})})},c.prototype.Xo=function(s){return(0,S.mG)(this,void 0,void 0,function(){var l;return(0,S.Jh)(this,function(h){switch(h.label){case 0:return this.buffer.length<s?[4,this.tc()]:[3,3];case 1:h.sent()&&this.Yo("Reached the end of bundle when more is expected."),h.label=2;case 2:return[3,0];case 3:return l=this.zo.decode(this.buffer.slice(0,s)),[2,(this.buffer=this.buffer.slice(s),l)]}})})},c.prototype.Yo=function(s){throw this.Go.cancel(),new Error("Invalid bundle format: "+s)},c.prototype.tc=function(){return(0,S.mG)(this,void 0,void 0,function(){var s,l;return(0,S.Jh)(this,function(h){switch(h.label){case 0:return[4,this.Go.read()];case 1:return(s=h.sent()).done||((l=new Uint8Array(this.buffer.length+s.value.length)).set(this.buffer),l.set(s.value,this.buffer.length),this.buffer=l),[2,s.done]}})})}}(),function(){function c(s){this.datastore=s,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return c.prototype.lookup=function(s){return(0,S.mG)(this,void 0,void 0,function(){var l,h=this;return(0,S.Jh)(this,function(m){switch(m.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new we(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(y,b){return(0,S.mG)(this,void 0,void 0,function(){var D,T,O,P,B,z;return(0,S.Jh)(this,function(re){switch(re.label){case 0:return D=Pe(y),T=wu(D.R)+"/documents",O={documents:b.map(function(te){return xl(D.R,te)})},[4,D.$i("BatchGetDocuments",T,O)];case 1:return P=re.sent(),B=new Map,P.forEach(function(te){var Me,Le,he=(Me=D.R,"found"in(Le=te)?function(ot,lt){nt(!!lt.found);var Qt=$o(ot,lt.found.name),vn=Vr(lt.found.updateTime),Hn=new oi({mapValue:{fields:lt.found.fields}});return Gr.newFoundDocument(Qt,vn,Hn)}(Me,Le):"missing"in Le?function(ot,lt){nt(!!lt.missing),nt(!!lt.readTime);var Qt=$o(ot,lt.missing),vn=Vr(lt.readTime);return Gr.newNoDocument(Qt,vn)}(Me,Le):He());B.set(he.key.toString(),he)}),z=[],[2,(b.forEach(function(te){var he=B.get(te.toString());nt(!!he),z.push(he)}),z)]}})})}(this.datastore,s)];case 1:return[2,((l=m.sent()).forEach(function(y){return h.recordVersion(y)}),l)]}})})},c.prototype.set=function(s,l){this.write(l.toMutation(s,this.precondition(s))),this.writtenDocs.add(s.toString())},c.prototype.update=function(s,l){try{this.write(l.toMutation(s,this.preconditionForUpdate(s)))}catch(h){this.lastWriteError=h}this.writtenDocs.add(s.toString())},c.prototype.delete=function(s){this.write(new Dl(s,this.precondition(s))),this.writtenDocs.add(s.toString())},c.prototype.commit=function(){return(0,S.mG)(this,void 0,void 0,function(){var s,l=this;return(0,S.Jh)(this,function(h){switch(h.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return s=this.readVersions,this.mutations.forEach(function(m){s.delete(m.key.toString())}),s.forEach(function(m,y){var b=Ve.fromPath(y);l.mutations.push(new Da(b,l.precondition(b)))}),[4,function(m,y){return(0,S.mG)(this,void 0,void 0,function(){var b,D,T;return(0,S.Jh)(this,function(O){switch(O.label){case 0:return b=Pe(m),D=wu(b.R)+"/documents",T={writes:y.map(function(P){return An(b.R,P)})},[4,b.Ni("Commit",D,T)];case 1:return O.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return h.sent(),this.committed=!0,[2]}})})},c.prototype.recordVersion=function(s){var l;if(s.isFoundDocument())l=s.version;else{if(!s.isNoDocument())throw He();l=mt.min()}var h=this.readVersions.get(s.key.toString());if(h){if(!l.isEqual(h))throw new we(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(s.key.toString(),l)},c.prototype.precondition=function(s){var l=this.readVersions.get(s.toString());return!this.writtenDocs.has(s.toString())&&l?Cr.updateTime(l):Cr.none()},c.prototype.preconditionForUpdate=function(s){var l=this.readVersions.get(s.toString());if(!this.writtenDocs.has(s.toString())&&l){if(l.isEqual(mt.min()))throw new we(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cr.updateTime(l)}return Cr.exists(!0)},c.prototype.write=function(s){this.ensureCommitNotCalled(),this.mutations.push(s)},c.prototype.ensureCommitNotCalled=function(){},c}()),Ih=function(){function c(s,l,h,m){this.asyncQueue=s,this.datastore=l,this.updateFunction=h,this.deferred=m,this.ec=5,this.Zi=new Zs(this.asyncQueue,"transaction_retry")}return c.prototype.run=function(){this.ec-=1,this.nc()},c.prototype.nc=function(){var s=this;this.Zi.ji(function(){return(0,S.mG)(s,void 0,void 0,function(){var l,h,m=this;return(0,S.Jh)(this,function(y){return l=new Sm(this.datastore),(h=this.sc(l))&&h.then(function(b){m.asyncQueue.enqueueAndForget(function(){return l.commit().then(function(){m.deferred.resolve(b)}).catch(function(D){m.ic(D)})})}).catch(function(b){m.ic(b)}),[2]})})})},c.prototype.sc=function(s){try{var l=this.updateFunction(s);return!uc(l)&&l.catch&&l.then?l:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(h){return this.deferred.reject(h),null}},c.prototype.ic=function(s){var l=this;this.ec>0&&this.rc(s)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return l.nc(),Promise.resolve()})):this.deferred.reject(s)},c.prototype.rc=function(s){if("FirebaseError"===s.name){var l=s.code;return"aborted"===l||"failed-precondition"===l||!Ca(l)}return!1},c}(),op=function(){function c(s,l,h){var m=this;this.credentials=s,this.asyncQueue=l,this.databaseInfo=h,this.user=li.UNAUTHENTICATED,this.clientId=ln.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(l,function(y){return(0,S.mG)(m,void 0,void 0,function(){return(0,S.Jh)(this,function(b){switch(b.label){case 0:return pe("FirestoreClient","Received user=",y.uid),[4,this.credentialListener(y)];case 1:return b.sent(),this.user=y,[2]}})})})}return c.prototype.getConfiguration=function(){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(s){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},c.prototype.setCredentialChangeListener=function(s){this.credentialListener=s},c.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new we(ue.FAILED_PRECONDITION,"The client has already been terminated.")},c.prototype.terminate=function(){var s=this;this.asyncQueue.enterRestrictedMode();var l=new wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,S.mG)(s,void 0,void 0,function(){var h,m;return(0,S.Jh)(this,function(y){switch(y.label){case 0:return y.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:y.sent(),y.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:y.sent(),y.label=4;case 4:return this.credentials.removeChangeListener(),l.resolve(),[3,6];case 5:return h=y.sent(),m=Lu(h,"Failed to shutdown persistence"),l.reject(m),[3,6];case 6:return[2]}})})}),l.promise},c}();function Tm(c,s){return(0,S.mG)(this,void 0,void 0,function(){var l,h,m=this;return(0,S.Jh)(this,function(y){switch(y.label){case 0:return c.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider"),[4,c.getConfiguration()];case 1:return l=y.sent(),[4,s.initialize(l)];case 2:return y.sent(),h=l.initialUser,c.setCredentialChangeListener(function(b){return(0,S.mG)(m,void 0,void 0,function(){return(0,S.Jh)(this,function(D){switch(D.label){case 0:return h.isEqual(b)?[3,2]:[4,ch(s.localStore,b)];case 1:D.sent(),h=b,D.label=2;case 2:return[2]}})})}),s.persistence.setDatabaseDeletedListener(function(){return c.terminate()}),c.offlineComponents=s,[2]}})})}function ea(c,s){return(0,S.mG)(this,void 0,void 0,function(){var l,h;return(0,S.Jh)(this,function(m){switch(m.label){case 0:return c.asyncQueue.verifyOperationInProgress(),[4,Sh(c)];case 1:return l=m.sent(),pe("FirestoreClient","Initializing OnlineComponentProvider"),[4,c.getConfiguration()];case 2:return h=m.sent(),[4,s.initialize(l,h)];case 3:return m.sent(),c.setCredentialChangeListener(function(y){return function(b,D){return(0,S.mG)(this,void 0,void 0,function(){var T,O;return(0,S.Jh)(this,function(P){switch(P.label){case 0:return(T=Pe(b)).asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials"),O=ho(T),T.Or.add(3),[4,Hl(T)];case 1:return P.sent(),O&&T.Br.set("Unknown"),[4,T.remoteSyncer.handleCredentialChange(D)];case 2:return P.sent(),T.Or.delete(3),[4,dh(T)];case 3:return P.sent(),[2]}})})}(s.remoteStore,y)}),c.onlineComponents=s,[2]}})})}function Sh(c){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(s){switch(s.label){case 0:return c.offlineComponents?[3,2]:(pe("FirestoreClient","Using default OfflineComponentProvider"),[4,Tm(c,new Cm)]);case 1:s.sent(),s.label=2;case 2:return[2,c.offlineComponents]}})})}function Th(c){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(s){switch(s.label){case 0:return c.onlineComponents?[3,2]:(pe("FirestoreClient","Using default OnlineComponentProvider"),[4,ea(c,new Vu)]);case 1:s.sent(),s.label=2;case 2:return[2,c.onlineComponents]}})})}function xm(c){return Sh(c).then(function(s){return s.persistence})}function Am(c){return Sh(c).then(function(s){return s.localStore})}function Zg(c){return Th(c).then(function(s){return s.remoteStore})}function di(c){return Th(c).then(function(s){return s.syncEngine})}function Zi(c){return(0,S.mG)(this,void 0,void 0,function(){var s,l;return(0,S.Jh)(this,function(h){switch(h.label){case 0:return[4,Th(c)];case 1:return s=h.sent(),[2,((l=s.eventManager).onListen=_m.bind(null,s.syncEngine),l.onUnlisten=_h.bind(null,s.syncEngine),l)]}})})}function Xg(c,s,l){var h=this;void 0===l&&(l={});var m=new wn;return c.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(h,void 0,void 0,function(){var y;return(0,S.Jh)(this,function(b){switch(b.label){case 0:return y=function(D,T,O,P,B){var z=new fo({next:function(te){T.enqueueAndForget(function(){return Cc(D,re)});var he=te.docs.has(O);!he&&te.fromCache?B.reject(new we(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):he&&te.fromCache&&P&&"server"===P.source?B.reject(new we(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(te)},error:function(te){return B.reject(te)}}),re=new Zf(gl(O.path),z,{includeMetadataChanges:!0,so:!0});return yh(D,re)},[4,Zi(c)];case 1:return[2,y.apply(void 0,[b.sent(),c.asyncQueue,s,l,m])]}})})}),m.promise}function po(c,s,l){var h=this;void 0===l&&(l={});var m=new wn;return c.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(h,void 0,void 0,function(){var y;return(0,S.Jh)(this,function(b){switch(b.label){case 0:return y=function(D,T,O,P,B){var z=new fo({next:function(te){T.enqueueAndForget(function(){return Cc(D,re)}),te.fromCache&&"server"===P.source?B.reject(new we(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(te)},error:function(te){return B.reject(te)}}),re=new Zf(O,z,{includeMetadataChanges:!0,so:!0});return yh(D,re)},[4,Zi(c)];case 1:return[2,y.apply(void 0,[b.sent(),c.asyncQueue,s,l,m])]}})})}),m.promise}var Mm=function(c,s,l,h,m,y,b,D){this.databaseId=c,this.appId=s,this.persistenceKey=l,this.host=h,this.ssl=m,this.forceLongPolling=y,this.autoDetectLongPolling=b,this.useFetchStreams=D},td=function(){function c(s,l){this.projectId=s,this.database=l||"(default)"}return Object.defineProperty(c.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(s){return s instanceof c&&s.projectId===this.projectId&&s.database===this.database},c}(),sp=new Map,nd=function(c,s){this.user=s,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+c},xh=function(){function c(){this.changeListener=null}return c.prototype.getToken=function(){return Promise.resolve(null)},c.prototype.invalidateToken=function(){},c.prototype.setChangeListener=function(s,l){this.changeListener=l,s.enqueueRetryable(function(){return l(li.UNAUTHENTICATED)})},c.prototype.removeChangeListener=function(){this.changeListener=null},c}(),Rm=function(){function c(s){this.token=s,this.changeListener=null}return c.prototype.getToken=function(){return Promise.resolve(this.token)},c.prototype.invalidateToken=function(){},c.prototype.setChangeListener=function(s,l){var h=this;this.changeListener=l,s.enqueueRetryable(function(){return l(h.token.user)})},c.prototype.removeChangeListener=function(){this.changeListener=null},c}(),dy=function(){function c(s){var l=this;this.currentUser=li.UNAUTHENTICATED,this.oc=new wn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){l.cc++,l.currentUser=l.ac(),l.oc.resolve(),l.changeListener&&l.asyncQueue.enqueueRetryable(function(){return l.changeListener(l.currentUser)})};var h=function(m){pe("FirebaseCredentialsProvider","Auth detected"),l.auth=m,l.auth.addAuthTokenListener(l.uc)};s.onInit(function(m){return h(m)}),setTimeout(function(){if(!l.auth){var m=s.getImmediate({optional:!0});m?h(m):(pe("FirebaseCredentialsProvider","Auth not yet detected"),l.oc.resolve())}},0)}return c.prototype.getToken=function(){var s=this,l=this.cc,h=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(h).then(function(m){return s.cc!==l?(pe("FirebaseCredentialsProvider","getToken aborted due to token change."),s.getToken()):m?(nt("string"==typeof m.accessToken),new nd(m.accessToken,s.currentUser)):null}):Promise.resolve(null)},c.prototype.invalidateToken=function(){this.forceRefresh=!0},c.prototype.setChangeListener=function(s,l){var h=this;this.asyncQueue=s,this.asyncQueue.enqueueRetryable(function(){return(0,S.mG)(h,void 0,void 0,function(){return(0,S.Jh)(this,function(m){switch(m.label){case 0:return[4,this.oc.promise];case 1:return m.sent(),[4,l(this.currentUser)];case 2:return m.sent(),this.changeListener=l,[2]}})})})},c.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},c.prototype.ac=function(){var s=this.auth&&this.auth.getUid();return nt(null===s||"string"==typeof s),new li(s)},c}(),Qg=function(){function c(s,l,h){this.hc=s,this.lc=l,this.fc=h,this.type="FirstParty",this.user=li.FIRST_PARTY}return Object.defineProperty(c.prototype,"authHeaders",{get:function(){var s={"X-Goog-AuthUser":this.lc},l=this.hc.auth.getAuthHeaderValueForFirstParty([]);return l&&(s.Authorization=l),this.fc&&(s["X-Goog-Iam-Authorization-Token"]=this.fc),s},enumerable:!1,configurable:!0}),c}(),km=function(){function c(s,l,h){this.hc=s,this.lc=l,this.fc=h}return c.prototype.getToken=function(){return Promise.resolve(new Qg(this.hc,this.lc,this.fc))},c.prototype.setChangeListener=function(s,l){s.enqueueRetryable(function(){return l(li.FIRST_PARTY)})},c.prototype.removeChangeListener=function(){},c.prototype.invalidateToken=function(){},c}();function Tc(c,s,l){if(!l)throw new we(ue.INVALID_ARGUMENT,"Function "+c+"() cannot be called with an empty "+s+".")}function ys(c,s){if(void 0===s)return{merge:!1};if(void 0!==s.mergeFields&&void 0!==s.merge)throw new we(ue.INVALID_ARGUMENT,"Invalid options passed to function "+c+'(): You cannot specify both "merge" and "mergeFields".');return s}function Go(c,s,l,h){if(!0===s&&!0===h)throw new we(ue.INVALID_ARGUMENT,c+" and "+l+" cannot be used together.")}function Uu(c){if(!Ve.isDocumentKey(c))throw new we(ue.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+c+" has "+c.length+".")}function ap(c){if(Ve.isDocumentKey(c))throw new we(ue.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+c+" has "+c.length+".")}function rd(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=c.substring(0,20)+"..."),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";var s=function(l){if(l.constructor){var h=/function\s+([^\s(]+)\s*\(/.exec(l.constructor.toString());if(h&&h.length>1)return h[1]}return null}(c);return s?"a custom "+s+" object":"an object"}return"function"==typeof c?"a function":He()}function fn(c,s){if("_delegate"in c&&(c=c._delegate),!(c instanceof s)){if(s.name===c.constructor.name)throw new we(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var l=rd(c);throw new we(ue.INVALID_ARGUMENT,"Expected type '"+s.name+"', but it was: "+l)}return c}function Om(c,s){if(s<=0)throw new we(ue.INVALID_ARGUMENT,"Function "+c+"() requires a positive number, but it was: "+s+".")}var Nm=function(){function c(s){var l;if(void 0===s.host){if(void 0!==s.ssl)throw new we(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=s.host,this.ssl=null===(l=s.ssl)||void 0===l||l;if(this.credentials=s.credentials,this.ignoreUndefinedProperties=!!s.ignoreUndefinedProperties,void 0===s.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==s.cacheSizeBytes&&s.cacheSizeBytes<1048576)throw new we(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=s.cacheSizeBytes}this.experimentalForceLongPolling=!!s.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!s.experimentalAutoDetectLongPolling,this.useFetchStreams=!!s.useFetchStreams,Go("experimentalForceLongPolling",s.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",s.experimentalAutoDetectLongPolling)}return c.prototype.isEqual=function(s){return this.host===s.host&&this.ssl===s.ssl&&this.credentials===s.credentials&&this.cacheSizeBytes===s.cacheSizeBytes&&this.experimentalForceLongPolling===s.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===s.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===s.ignoreUndefinedProperties&&this.useFetchStreams===s.useFetchStreams},c}(),xc=function(){function c(s,l){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nm({}),this._settingsFrozen=!1,s instanceof td?(this._databaseId=s,this._credentials=new xh):(this._app=s,this._databaseId=function(h){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new we(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new td(h.options.projectId)}(s),this._credentials=new dy(l))}return Object.defineProperty(c.prototype,"app",{get:function(){if(!this._app)throw new we(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),c.prototype._setSettings=function(s){if(this._settingsFrozen)throw new we(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nm(s),void 0!==s.credentials&&(this._credentials=function(l){if(!l)return new xh;switch(l.type){case"gapi":var h=l.client;return nt(!("object"!=typeof h||null===h||!h.auth||!h.auth.getAuthHeaderValueForFirstParty)),new km(h,l.sessionIndex||"0",l.iamToken||null);case"provider":return l.client;default:throw new we(ue.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(s.credentials))},c.prototype._getSettings=function(){return this._settings},c.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},c.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},c.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},c.prototype._terminate=function(){return(l=sp.get(this))&&(pe("ComponentProvider","Removing Datastore"),sp.delete(this),l.terminate()),Promise.resolve();var l},c}(),mn=function(){function c(s,l,h){this.converter=l,this._key=h,this.type="document",this.firestore=s}return Object.defineProperty(c.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"parent",{get:function(){return new Na(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),c.prototype.withConverter=function(s){return new c(this.firestore,s,this._key)},c}(),Pi=function(){function c(s,l,h){this.converter=l,this._query=h,this.type="query",this.firestore=s}return c.prototype.withConverter=function(s){return new c(this.firestore,s,this._query)},c}(),Na=function(c){function s(l,h,m){var y=this;return(y=c.call(this,l,h,gl(m))||this)._path=m,y.type="collection",y}return(0,S.ZT)(s,c),Object.defineProperty(s.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){var l=this._path.popLast();return l.isEmpty()?null:new mn(this.firestore,null,new Ve(l))},enumerable:!1,configurable:!0}),s.prototype.withConverter=function(l){return new s(this.firestore,l,this._path)},s}(Pi);function Wo(c,s){for(var l,h=[],m=2;m<arguments.length;m++)h[m-2]=arguments[m];if(c=(0,$e.m9)(c),Tc("collection","path",s),c instanceof xc)return ap(l=Kt.fromString.apply(Kt,(0,S.ev)([s],h))),new Na(c,null,l);if(!(c instanceof mn||c instanceof Na))throw new we(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ap(l=Kt.fromString.apply(Kt,(0,S.ev)([c.path],h)).child(Kt.fromString(s))),new Na(c.firestore,null,l)}function cp(c,s){for(var l,h=[],m=2;m<arguments.length;m++)h[m-2]=arguments[m];if(c=(0,$e.m9)(c),1===arguments.length&&(s=ln.u()),Tc("doc","path",s),c instanceof xc)return Uu(l=Kt.fromString.apply(Kt,(0,S.ev)([s],h))),new mn(c,null,new Ve(l));if(!(c instanceof mn||c instanceof Na))throw new we(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Uu(l=c._path.child(Kt.fromString.apply(Kt,(0,S.ev)([s],h)))),new mn(c.firestore,c instanceof Na?c.converter:null,new Ve(l))}function Jg(c,s){return c=(0,$e.m9)(c),s=(0,$e.m9)(s),(c instanceof mn||c instanceof Na)&&(s instanceof mn||s instanceof Na)&&c.firestore===s.firestore&&c.path===s.path&&c.converter===s.converter}function Ah(c,s){return c=(0,$e.m9)(c),s=(0,$e.m9)(s),c instanceof Pi&&s instanceof Pi&&c.firestore===s.firestore&&Bd(c._query,s._query)&&c.converter===s.converter}var Mh=function(){function c(){var s=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Zs(this,"async_queue_retry"),this.Ic=function(){var h=Ys();h&&pe("AsyncQueue","Visibility state changed to "+h.visibilityState),s.Zi.Gi()};var l=Ys();l&&"function"==typeof l.addEventListener&&l.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(c.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),c.prototype.enqueueAndForget=function(s){this.enqueue(s)},c.prototype.enqueueAndForgetEvenWhileRestricted=function(s){this.Ac(),this.Rc(s)},c.prototype.enterRestrictedMode=function(s){if(!this._c){this._c=!0,this.Ec=s||!1;var l=Ys();l&&"function"==typeof l.removeEventListener&&l.removeEventListener("visibilitychange",this.Ic)}},c.prototype.enqueue=function(s){var l=this;if(this.Ac(),this._c)return new Promise(function(){});var h=new wn;return this.Rc(function(){return l._c&&l.Ec?Promise.resolve():(s().then(h.resolve,h.reject),h.promise)}).then(function(){return h.promise})},c.prototype.enqueueRetryable=function(s){var l=this;this.enqueueAndForget(function(){return l.wc.push(s),l.bc()})},c.prototype.bc=function(){return(0,S.mG)(this,void 0,void 0,function(){var s,l=this;return(0,S.Jh)(this,function(h){switch(h.label){case 0:if(0===this.wc.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return h.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!vc(s=h.sent()))throw s;return pe("AsyncQueue","Operation failed with retryable error: "+s),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return l.bc()}),h.label=5;case 5:return[2]}})})},c.prototype.Rc=function(s){var l=this,h=this.dc.then(function(){return l.gc=!0,s().catch(function(m){throw l.yc=m,l.gc=!1,Fr("INTERNAL UNHANDLED ERROR: ",(b=(y=m).message||"",y.stack&&(b=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),b)),m;var y,b}).then(function(m){return l.gc=!1,m})});return this.dc=h,h},c.prototype.enqueueAfterDelay=function(s,l,h){var m=this;this.Ac(),this.Tc.indexOf(s)>-1&&(l=0);var y=gm.createAndSchedule(this,s,l,h,function(b){return m.vc(b)});return this.mc.push(y),y},c.prototype.Ac=function(){this.yc&&He()},c.prototype.verifyOperationInProgress=function(){},c.prototype.Pc=function(){return(0,S.mG)(this,void 0,void 0,function(){var s;return(0,S.Jh)(this,function(l){switch(l.label){case 0:return[4,s=this.dc];case 1:l.sent(),l.label=2;case 2:if(s!==this.dc)return[3,0];l.label=3;case 3:return[2]}})})},c.prototype.Vc=function(s){for(var l=0,h=this.mc;l<h.length;l++)if(h[l].timerId===s)return!0;return!1},c.prototype.Sc=function(s){var l=this;return this.Pc().then(function(){l.mc.sort(function(b,D){return b.targetTimeMs-D.targetTimeMs});for(var h=0,m=l.mc;h<m.length;h++){var y=m[h];if(y.skipDelay(),"all"!==s&&y.timerId===s)break}return l.Pc()})},c.prototype.Dc=function(s){this.Tc.push(s)},c.prototype.vc=function(s){var l=this.mc.indexOf(s);this.mc.splice(l,1)},c}();function Ac(c){return function(s,l){if("object"!=typeof s||null===s)return!1;for(var h=s,m=0,y=["next","error","complete"];m<y.length;m++){var b=y[m];if(b in h&&"function"==typeof h[b])return!0}return!1}(c)}!function(){function c(){this._progressObserver={},this._taskCompletionResolver=new wn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}c.prototype.onProgress=function(s,l,h){this._progressObserver={next:s,error:l,complete:h}},c.prototype.catch=function(s){return this._taskCompletionResolver.promise.catch(s)},c.prototype.then=function(s,l){return this._taskCompletionResolver.promise.then(s,l)},c.prototype._completeWith=function(s){this._updateProgress(s),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(s)},c.prototype._failWith=function(s){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(s),this._taskCompletionResolver.reject(s)},c.prototype._updateProgress=function(s){this._lastProgress=s,this._progressObserver.next&&this._progressObserver.next(s)}}();var er=function(c){function s(l,h){var m=this;return(m=c.call(this,l,h)||this).type="firestore",m._queue=new Mh,m._persistenceKey="name"in l?l.name:"[DEFAULT]",m}return(0,S.ZT)(s,c),s.prototype._terminate=function(){return this._firestoreClient||hi(this),this._firestoreClient.terminate()},s}(xc);function en(c){return c._firestoreClient||hi(c),c._firestoreClient.verifyNotTerminated(),c._firestoreClient}function hi(c){var s,y,D,l=c._freezeSettings(),h=(y=(null===(s=c._app)||void 0===s?void 0:s.options.appId)||"",new Mm(c._databaseId,y,c._persistenceKey,(D=l).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,D.useFetchStreams));c._firestoreClient=new op(c._credentials,c._queue,h)}function Fm(c,s,l){var h=this,m=new wn;return c.asyncQueue.enqueue(function(){return(0,S.mG)(h,void 0,void 0,function(){var y;return(0,S.Jh)(this,function(b){switch(b.label){case 0:return b.trys.push([0,3,,4]),[4,Tm(c,l)];case 1:return b.sent(),[4,ea(c,s)];case 2:return b.sent(),m.resolve(),[3,4];case 3:if(!("FirebaseError"===(D=y=b.sent()).name?D.code===ue.FAILED_PRECONDITION||D.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&D instanceof DOMException)||22===D.code||20===D.code||11===D.code))throw y;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+y),m.reject(y),[3,4];case 4:return[2]}var D})})}).then(function(){return m.promise})}function ev(c){if(c._initialized||c._terminated)throw new we(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ko=function(){function c(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];for(var h=0;h<s.length;++h)if(0===s[h].length)throw new we(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Uo(s)}return c.prototype.isEqual=function(s){return this._internalPath.isEqual(s._internalPath)},c}(),Mc=function(){function c(s){this._byteString=s}return c.fromBase64String=function(s){try{return new c(ki.fromBase64String(s))}catch(l){throw new we(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+l)}},c.fromUint8Array=function(s){return new c(ki.fromUint8Array(s))},c.prototype.toBase64=function(){return this._byteString.toBase64()},c.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},c.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},c.prototype.isEqual=function(s){return this._byteString.isEqual(s._byteString)},c}(),Pa=function(c){this._methodName=c},kh=function(){function c(s,l){if(!isFinite(s)||s<-90||s>90)throw new we(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+s);if(!isFinite(l)||l<-180||l>180)throw new we(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+l);this._lat=s,this._long=l}return Object.defineProperty(c.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(s){return this._lat===s._lat&&this._long===s._long},c.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},c.prototype._compareTo=function(s){return Xe(this._lat,s._lat)||Xe(this._long,s._long)},c}(),hy=/^__.*__$/,Lm=function(){function c(s,l,h){this.data=s,this.fieldMask=l,this.fieldTransforms=h}return c.prototype.toMutation=function(s,l){return null!==this.fieldMask?new Br(s,this.data,this.fieldMask,l,this.fieldTransforms):new pu(s,this.data,l,this.fieldTransforms)},c}(),Oh=function(){function c(s,l,h){this.data=s,this.fieldMask=l,this.fieldTransforms=h}return c.prototype.toMutation=function(s,l){return new Br(s,this.data,this.fieldMask,l,this.fieldTransforms)},c}();function fy(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He()}}var jm=function(){function c(s,l,h,m,y,b){this.settings=s,this.databaseId=l,this.R=h,this.ignoreUndefinedProperties=m,void 0===y&&this.Cc(),this.fieldTransforms=y||[],this.fieldMask=b||[]}return Object.defineProperty(c.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),c.prototype.xc=function(s){return new c(Object.assign(Object.assign({},this.settings),s),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},c.prototype.kc=function(s){var l,h=null===(l=this.path)||void 0===l?void 0:l.child(s),m=this.xc({path:h,Fc:!1});return m.$c(s),m},c.prototype.Oc=function(s){var l,h=null===(l=this.path)||void 0===l?void 0:l.child(s),m=this.xc({path:h,Fc:!1});return m.Cc(),m},c.prototype.Mc=function(s){return this.xc({path:void 0,Fc:!0})},c.prototype.Lc=function(s){return od(s,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},c.prototype.contains=function(s){return void 0!==this.fieldMask.find(function(l){return s.isPrefixOf(l)})||void 0!==this.fieldTransforms.find(function(l){return s.isPrefixOf(l.field)})},c.prototype.Cc=function(){if(this.path)for(var s=0;s<this.path.length;s++)this.$c(this.path.get(s))},c.prototype.$c=function(s){if(0===s.length)throw this.Lc("Document fields must not be empty");if(fy(this.Nc)&&hy.test(s))throw this.Lc('Document fields cannot begin and end with "__"')},c}(),mo=function(){function c(s,l,h){this.databaseId=s,this.ignoreUndefinedProperties=l,this.R=h||Ra(s)}return c.prototype.Uc=function(s,l,h,m){return void 0===m&&(m=!1),new jm({Nc:s,methodName:l,qc:h,path:Uo.emptyPath(),Fc:!1,Bc:m},this.databaseId,this.R,this.ignoreUndefinedProperties)},c}();function Te(c){var s=c._freezeSettings(),l=Ra(c._databaseId);return new mo(c._databaseId,!!s.ignoreUndefinedProperties,l)}function Fa(c,s,l,h,m,y){void 0===y&&(y={});var b=c.Uc(y.merge||y.mergeFields?2:0,s,l,m);lp("Data must be an object, but it was:",b,h);var D,T,O=nv(h,b);if(y.merge)D=new Do(b.fieldMask),T=b.fieldTransforms;else if(y.mergeFields){for(var P=[],B=0,z=y.mergeFields;B<z.length;B++){var re=La(s,z[B],l);if(!b.contains(re))throw new we(ue.INVALID_ARGUMENT,"Field '"+re+"' is specified in your field mask but missing from your input data.");bs(P,re)||P.push(re)}D=new Do(P),T=b.fieldTransforms.filter(function(te){return D.covers(te.field)})}else D=null,T=b.fieldTransforms;return new Lm(new oi(O),D,T)}var Nh=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,S.ZT)(s,c),s.prototype._toFieldTransform=function(l){if(2!==l.Nc)throw l.Lc(1===l.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return l.fieldMask.push(l.path),null},s.prototype.isEqual=function(l){return l instanceof s},s}(Pa);function up(c,s,l){return new jm({Nc:3,qc:s.settings.qc,methodName:c._methodName,Fc:l},s.databaseId,s.R,s.ignoreUndefinedProperties)}var Rc=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,S.ZT)(s,c),s.prototype._toFieldTransform=function(l){return new So(l.path,new Ni)},s.prototype.isEqual=function(l){return l instanceof s},s}(Pa),Yo=function(c){function s(l,h){var m=this;return(m=c.call(this,l)||this).Kc=h,m}return(0,S.ZT)(s,c),s.prototype._toFieldTransform=function(l){var h=up(this,l,!0),m=this.Kc.map(function(b){return _s(b,h)}),y=new wa(m);return new So(l.path,y)},s.prototype.isEqual=function(l){return this===l},s}(Pa),tv=function(c){function s(l,h){var m=this;return(m=c.call(this,l)||this).Kc=h,m}return(0,S.ZT)(s,c),s.prototype._toFieldTransform=function(l){var h=up(this,l,!0),m=this.Kc.map(function(b){return _s(b,h)}),y=new Bs(m);return new So(l.path,y)},s.prototype.isEqual=function(l){return this===l},s}(Pa),Bm=function(c){function s(l,h){var m=this;return(m=c.call(this,l)||this).Qc=h,m}return(0,S.ZT)(s,c),s.prototype._toFieldTransform=function(l){var h=new jr(l.R,Hd(l.R,this.Qc));return new So(l.path,h)},s.prototype.isEqual=function(l){return this===l},s}(Pa);function Ph(c,s,l,h){var m=c.Uc(1,s,l);lp("Data must be an object, but it was:",m,h);var y=[],b=oi.empty();Er(h,function(T,O){var P=Vm(s,T,l);O=(0,$e.m9)(O);var B=m.Oc(P);if(O instanceof Nh)y.push(P);else{var z=_s(O,B);null!=z&&(y.push(P),b.set(P,z))}});var D=new Do(y);return new Oh(b,D,m.fieldTransforms)}function id(c,s,l,h,m,y){var b=c.Uc(1,s,l),D=[La(s,h,l)],T=[m];if(y.length%2!=0)throw new we(ue.INVALID_ARGUMENT,"Function "+s+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var O=0;O<y.length;O+=2)D.push(La(s,y[O])),T.push(y[O+1]);for(var P=[],B=oi.empty(),z=D.length-1;z>=0;--z)if(!bs(P,D[z])){var re=D[z],te=T[z];te=(0,$e.m9)(te);var he=b.Oc(re);if(te instanceof Nh)P.push(re);else{var Me=_s(te,he);null!=Me&&(P.push(re),B.set(re,Me))}}var Le=new Do(P);return new Oh(B,Le,b.fieldTransforms)}function py(c,s,l,h){return void 0===h&&(h=!1),_s(l,c.Uc(h?4:3,s))}function _s(c,s){if(Fh(c=(0,$e.m9)(c)))return lp("Unsupported field value:",s,c),nv(c,s);if(c instanceof Pa)return function(l,h){if(!fy(h.Nc))throw h.Lc(l._methodName+"() can only be used with update() and set()");if(!h.path)throw h.Lc(l._methodName+"() is not currently supported inside arrays");var m=l._toFieldTransform(h);m&&h.fieldTransforms.push(m)}(c,s),null;if(void 0===c&&s.ignoreUndefinedProperties)return null;if(s.path&&s.fieldMask.push(s.path),c instanceof Array){if(s.settings.Fc&&4!==s.Nc)throw s.Lc("Nested arrays are not supported");return function(l,h){for(var m=[],y=0,b=0,D=l;b<D.length;b++){var T=_s(D[b],h.Mc(y));null==T&&(T={nullValue:"NULL_VALUE"}),m.push(T),y++}return{arrayValue:{values:m}}}(c,s)}return function(l,h){if(null===(l=(0,$e.m9)(l)))return{nullValue:"NULL_VALUE"};if("number"==typeof l)return Hd(h.R,l);if("boolean"==typeof l)return{booleanValue:l};if("string"==typeof l)return{stringValue:l};if(l instanceof Date){var m=qr.fromDate(l);return{timestampValue:Sl(h.R,m)}}if(l instanceof qr)return m=new qr(l.seconds,1e3*Math.floor(l.nanoseconds/1e3)),{timestampValue:Sl(h.R,m)};if(l instanceof kh)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof Mc)return{bytesValue:Tl(h.R,l._byteString)};if(l instanceof mn){var y=l.firestore._databaseId;if(!y.isEqual(m=h.databaseId))throw h.Lc("Document reference is for database "+y.projectId+"/"+y.database+" but should be for database "+m.projectId+"/"+m.database);return{referenceValue:_u(l.firestore._databaseId||h.databaseId,l._key.path)}}throw h.Lc("Unsupported field value: "+rd(l))}(c,s)}function nv(c,s){var l={};return Rd(c)?s.path&&s.path.length>0&&s.fieldMask.push(s.path):Er(c,function(h,m){var y=_s(m,s.kc(h));null!=y&&(l[h]=y)}),{mapValue:{fields:l}}}function Fh(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof qr||c instanceof kh||c instanceof Mc||c instanceof mn||c instanceof Pa)}function lp(c,s,l){if(!Fh(l)||"object"!=typeof(m=l)||null===m||Object.getPrototypeOf(m)!==Object.prototype&&null!==Object.getPrototypeOf(m)){var h=rd(l);throw s.Lc("an object"===h?c+" a custom object":c+" "+h)}var m}function La(c,s,l){if((s=(0,$e.m9)(s))instanceof Ko)return s._internalPath;if("string"==typeof s)return Vm(c,s);throw od("Field path arguments must be of type string or FieldPath.",c,!1,void 0,l)}var Hu=new RegExp("[~\\*/\\[\\]]");function Vm(c,s,l){if(s.search(Hu)>=0)throw od("Invalid field path ("+s+"). Paths must not contain '~', '*', '/', '[', or ']'",c,!1,void 0,l);try{return(new(Ko.bind.apply(Ko,(0,S.ev)([void 0],s.split(".")))))._internalPath}catch{throw od("Invalid field path ("+s+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",c,!1,void 0,l)}}function od(c,s,l,h,m){var y=h&&!h.isEmpty(),b=void 0!==m,D="Function "+s+"() called with invalid data";l&&(D+=" (via `toFirestore()`)");var T="";return(y||b)&&(T+=" (found",y&&(T+=" in field "+h),b&&(T+=" in document "+m),T+=")"),new we(ue.INVALID_ARGUMENT,(D+=". ")+c+T)}function bs(c,s){return c.some(function(l){return l.isEqual(s)})}var gn=function(){function c(s,l,h,m,y){this._firestore=s,this._userDataWriter=l,this._key=h,this._document=m,this._converter=y}return Object.defineProperty(c.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ref",{get:function(){return new mn(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),c.prototype.exists=function(){return null!==this._document},c.prototype.data=function(){if(this._document){if(this._converter){var s=new Pt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(s)}return this._userDataWriter.convertValue(this._document.data.value)}},c.prototype.get=function(s){if(this._document){var l=this._document.data.field(ta("DocumentSnapshot.get",s));if(null!==l)return this._userDataWriter.convertValue(l)}},c}(),Pt=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,S.ZT)(s,c),s.prototype.data=function(){return c.prototype.data.call(this)},s}(gn);function ta(c,s){return"string"==typeof s?Vm(c,s):s instanceof Ko?s._internalPath:s._delegate._internalPath}var hr=function(){function c(s,l){this.hasPendingWrites=s,this.fromCache=l}return c.prototype.isEqual=function(s){return this.hasPendingWrites===s.hasPendingWrites&&this.fromCache===s.fromCache},c}(),Zo=function(c){function s(l,h,m,y,b,D){var T=this;return(T=c.call(this,l,h,m,y,D)||this)._firestore=l,T._firestoreImpl=l,T.metadata=b,T}return(0,S.ZT)(s,c),s.prototype.exists=function(){return c.prototype.exists.call(this)},s.prototype.data=function(l){if(void 0===l&&(l={}),this._document){if(this._converter){var h=new Mn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(h,l)}return this._userDataWriter.convertValue(this._document.data.value,l.serverTimestamps)}},s.prototype.get=function(l,h){if(void 0===h&&(h={}),this._document){var m=this._document.data.field(ta("DocumentSnapshot.get",l));if(null!==m)return this._userDataWriter.convertValue(m,h.serverTimestamps)}},s}(gn),Mn=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,S.ZT)(s,c),s.prototype.data=function(l){return void 0===l&&(l={}),c.prototype.data.call(this,l)},s}(Zo),Xo=function(){function c(s,l,h,m){this._firestore=s,this._userDataWriter=l,this._snapshot=m,this.metadata=new hr(m.hasPendingWrites,m.fromCache),this.query=h}return Object.defineProperty(c.prototype,"docs",{get:function(){var s=[];return this.forEach(function(l){return s.push(l)}),s},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),c.prototype.forEach=function(s,l){var h=this;this._snapshot.docs.forEach(function(m){s.call(l,new Mn(h._firestore,h._userDataWriter,m.key,m,new hr(h._snapshot.mutatedKeys.has(m.key),h._snapshot.fromCache),h.query.converter))})},c.prototype.docChanges=function(s){void 0===s&&(s={});var l=!!s.includeMetadataChanges;if(l&&this._snapshot.excludesMetadataChanges)throw new we(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===l||(this._cachedChanges=function(h,m){if(h._snapshot.oldDocs.isEmpty()){var y=0;return h._snapshot.docChanges.map(function(D){return{type:"added",doc:new Mn(h._firestore,h._userDataWriter,D.doc.key,D.doc,new hr(h._snapshot.mutatedKeys.has(D.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:y++}})}var b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(function(D){return m||3!==D.type}).map(function(D){var T=new Mn(h._firestore,h._userDataWriter,D.doc.key,D.doc,new hr(h._snapshot.mutatedKeys.has(D.doc.key),h._snapshot.fromCache),h.query.converter),O=-1,P=-1;return 0!==D.type&&(O=b.indexOf(D.doc.key),b=b.delete(D.doc.key)),1!==D.type&&(P=(b=b.add(D.doc)).indexOf(D.doc.key)),{type:sd(D.type),doc:T,oldIndex:O,newIndex:P}})}(this,l),this._cachedChangesIncludeMetadataChanges=l),this._cachedChanges},c}();function sd(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He()}}function Lh(c,s){return c instanceof Zo&&s instanceof Zo?c._firestore===s._firestore&&c._key.isEqual(s._key)&&(null===c._document?null===s._document:c._document.isEqual(s._document))&&c._converter===s._converter:c instanceof Xo&&s instanceof Xo&&c._firestore===s._firestore&&Ah(c.query,s.query)&&c.metadata.isEqual(s.metadata)&&c._snapshot.isEqual(s._snapshot)}function ja(c){if(yl(c)&&0===c.explicitOrderBy.length)throw new we(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ad=function(){};function ws(c){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];for(var h=0,m=s;h<m.length;h++)c=m[h]._apply(c);return c}var Um=function(c){function s(l,h,m){var y=this;return(y=c.call(this)||this).jc=l,y.Wc=h,y.Gc=m,y.type="where",y}return(0,S.ZT)(s,c),s.prototype._apply=function(l){var y,D,h=Te(l.firestore),m=function(y,b,D,T,O,P,B){var z;if(O.isKeyField()){if("array-contains"===P||"array-contains-any"===P)throw new we(ue.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+P+"' queries on FieldPath.documentId().");if("in"===P||"not-in"===P){Qo(B,P);for(var re=[],te=0,he=B;te<he.length;te++)re.push(my(T,y,he[te]));z={arrayValue:{values:re}}}else z=my(T,y,B)}else"in"!==P&&"not-in"!==P&&"array-contains-any"!==P||Qo(B,P),z=py(D,"where",B,"in"===P||"not-in"===P);var Le=qi.create(O,P,z);return function(ot,lt){if(lt.g()){var Qt=Cf(ot);if(null!==Qt&&!Qt.isEqual(lt.field))throw new we(ue.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+Qt.toString()+"' and '"+lt.field.toString()+"'");var vn=Df(ot);null!==vn&&cd(0,lt.field,vn)}var Hn=function(go,rv){for(var gp=0,Xr=go.filters;gp<Xr.length;gp++){var yy=Xr[gp];if(rv.indexOf(yy.op)>=0)return yy.op}return null}(ot,function(go){switch(go){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(lt.op));if(null!==Hn)throw new we(ue.INVALID_ARGUMENT,Hn===lt.op?"Invalid query. You cannot use more than one '"+lt.op.toString()+"' filter.":"Invalid query. You cannot use '"+lt.op.toString()+"' filters with '"+Hn.toString()+"' filters.")}(y,Le),Le}(l._query,0,h,l.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Pi(l.firestore,l.converter,(D=(y=l._query).filters.concat([m]),new js(y.path,y.collectionGroup,y.explicitOrderBy.slice(),D,y.limit,y.limitType,y.startAt,y.endAt)))},s}(ad),jh=function(c){function s(l,h){var m=this;return(m=c.call(this)||this).jc=l,m.zc=h,m.type="orderBy",m}return(0,S.ZT)(s,c),s.prototype._apply=function(l){var m,b,h=function(m,y,b){if(null!==m.startAt)throw new we(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==m.endAt)throw new we(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var D=new hc(y,b);return function(T,O){if(null===Df(T)){var P=Cf(T);null!==P&&cd(0,P,O.field)}}(m,D),D}(l._query,this.jc,this.zc);return new Pi(l.firestore,l.converter,(b=(m=l._query).explicitOrderBy.concat([h]),new js(m.path,m.collectionGroup,b,m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)))},s}(ad),zu=function(c){function s(l,h,m){var y=this;return(y=c.call(this)||this).type=l,y.Hc=h,y.Jc=m,y}return(0,S.ZT)(s,c),s.prototype._apply=function(l){return new Pi(l.firestore,l.converter,Up(l._query,this.Hc,this.Jc))},s}(ad),dp=function(c){function s(l,h,m){var y=this;return(y=c.call(this)||this).type=l,y.Yc=h,y.Xc=m,y}return(0,S.ZT)(s,c),s.prototype._apply=function(l){var m,y,h=kc(l,this.type,this.Yc,this.Xc);return new Pi(l.firestore,l.converter,(y=h,new js((m=l._query).path,m.collectionGroup,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,y,m.endAt)))},s}(ad),Bh=function(c){function s(l,h,m){var y=this;return(y=c.call(this)||this).type=l,y.Yc=h,y.Xc=m,y}return(0,S.ZT)(s,c),s.prototype._apply=function(l){var m,y,h=kc(l,this.type,this.Yc,this.Xc);return new Pi(l.firestore,l.converter,(y=h,new js((m=l._query).path,m.collectionGroup,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,y)))},s}(ad);function kc(c,s,l,h){if(l[0]=(0,$e.m9)(l[0]),l[0]instanceof gn)return function(y,b,D,T,O){if(!T)throw new we(ue.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+D+"().");for(var P=[],B=0,z=hu(y);B<z.length;B++){var re=z[B];if(re.field.isKeyField())P.push(Nd(b,T.key));else{var te=T.data.field(re.field);if(hg(te))throw new we(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===te){var he=re.field.canonicalString();throw new we(ue.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+he+"' (used as the orderBy) does not exist.")}P.push(te)}}return new Ld(P,O)}(c._query,c.firestore._databaseId,s,l[0]._document,h);var m=Te(c.firestore);return function(y,b,D,T,O,P){var B=y.explicitOrderBy;if(O.length>B.length)throw new we(ue.INVALID_ARGUMENT,"Too many arguments provided to "+T+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var z=[],re=0;re<O.length;re++){var te=O[re];if(B[re].field.isKeyField()){if("string"!=typeof te)throw new we(ue.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+T+"(), but got a "+typeof te);if(!_l(y)&&-1!==te.indexOf("/"))throw new we(ue.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+T+"() must be a plain document ID, but '"+te+"' contains a slash.");var he=y.path.child(Kt.fromString(te));if(!Ve.isDocumentKey(he))throw new we(ue.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+T+"() must result in a valid document path, but '"+he+"' is not because it contains an odd number of segments.");var Me=new Ve(he);z.push(Nd(b,Me))}else{var Le=py(D,T,te);z.push(Le)}}return new Ld(z,P)}(c._query,c.firestore._databaseId,m,s,l,h)}function my(c,s,l){if("string"==typeof(l=(0,$e.m9)(l))){if(""===l)throw new we(ue.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_l(s)&&-1!==l.indexOf("/"))throw new we(ue.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+l+"' contains a '/' character.");var h=s.path.child(Kt.fromString(l));if(!Ve.isDocumentKey(h))throw new we(ue.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+h+"' is not because it has an odd number of segments ("+h.length+").");return Nd(c,new Ve(h))}if(l instanceof mn)return Nd(c,l._key);throw new we(ue.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+rd(l)+".")}function Qo(c,s){if(!Array.isArray(c)||0===c.length)throw new we(ue.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+s.toString()+"' filters.");if(c.length>10)throw new we(ue.INVALID_ARGUMENT,"Invalid Query. '"+s.toString()+"' filters support a maximum of 10 elements in the value array.")}function cd(c,s,l){if(!l.isEqual(s))throw new we(ue.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+s.toString()+"' and so you must also use '"+s.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+l.toString()+"' instead.")}var hp=function(){function c(){}return c.prototype.convertValue=function(s,l){switch(void 0===l&&(l="none"),Ei(s)){case 0:return null;case 1:return s.booleanValue;case 2:return Lr(s.integerValue||s.doubleValue);case 3:return this.convertTimestamp(s.timestampValue);case 4:return this.convertServerTimestamp(s,l);case 5:return s.stringValue;case 6:return this.convertBytes(kd(s.bytesValue));case 7:return this.convertReference(s.referenceValue);case 8:return this.convertGeoPoint(s.geoPointValue);case 9:return this.convertArray(s.arrayValue,l);case 10:return this.convertObject(s.mapValue,l);default:throw He()}},c.prototype.convertObject=function(s,l){var h=this,m={};return Er(s.fields,function(y,b){m[y]=h.convertValue(b,l)}),m},c.prototype.convertGeoPoint=function(s){return new kh(Lr(s.latitude),Lr(s.longitude))},c.prototype.convertArray=function(s,l){var h=this;return(s.values||[]).map(function(m){return h.convertValue(m,l)})},c.prototype.convertServerTimestamp=function(s,l){switch(l){case"previous":var h=fg(s);return null==h?null:this.convertValue(h,l);case"estimate":return this.convertTimestamp(fl(s));default:return null}},c.prototype.convertTimestamp=function(s){var l=ds(s);return new qr(l.seconds,l.nanos)},c.prototype.convertDocumentKey=function(s,l){var h=Kt.fromString(s);nt(kf(h));var m=new td(h.get(1),h.get(3)),y=new Ve(h.popFirst(5));return m.isEqual(l)||Fr("Document "+y+" contains a document reference within a different database ("+m.projectId+"/"+m.database+") which is not supported. It will be treated as a reference in the current database ("+l.projectId+"/"+l.database+") instead."),y},c}();function fp(c,s,l){return c?l&&(l.merge||l.mergeFields)?c.toFirestore(s,l):c.toFirestore(s):s}var gy=function(c){function s(l){var h=this;return(h=c.call(this)||this).firestore=l,h}return(0,S.ZT)(s,c),s.prototype.convertBytes=function(l){return new Mc(l)},s.prototype.convertReference=function(l){var h=this.convertDocumentKey(l,this.firestore._databaseId);return new mn(this.firestore,null,h)},s}(hp),pp=function(){function c(s,l){this._firestore=s,this._commitHandler=l,this._mutations=[],this._committed=!1,this._dataReader=Te(s)}return c.prototype.set=function(s,l,h){this._verifyNotCommitted();var m=Ba(s,this._firestore),y=fp(m.converter,l,h),b=Fa(this._dataReader,"WriteBatch.set",m._key,y,null!==m.converter,h);return this._mutations.push(b.toMutation(m._key,Cr.none())),this},c.prototype.update=function(s,l,h){for(var m=[],y=3;y<arguments.length;y++)m[y-3]=arguments[y];this._verifyNotCommitted();var b,D=Ba(s,this._firestore);return b="string"==typeof(l=(0,$e.m9)(l))||l instanceof Ko?id(this._dataReader,"WriteBatch.update",D._key,l,h,m):Ph(this._dataReader,"WriteBatch.update",D._key,l),this._mutations.push(b.toMutation(D._key,Cr.exists(!0))),this},c.prototype.delete=function(s){this._verifyNotCommitted();var l=Ba(s,this._firestore);return this._mutations=this._mutations.concat(new Dl(l._key,Cr.none())),this},c.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},c.prototype._verifyNotCommitted=function(){if(this._committed)throw new we(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},c}();function Ba(c,s){if((c=(0,$e.m9)(c)).firestore!==s)throw new we(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}var Va=function(c){function s(l){var h=this;return(h=c.call(this)||this).firestore=l,h}return(0,S.ZT)(s,c),s.prototype.convertBytes=function(l){return new Mc(l)},s.prototype.convertReference=function(l){var h=this.convertDocumentKey(l,this.firestore._databaseId);return new mn(this.firestore,null,h)},s}(hp);function ud(c,s,l){c=fn(c,mn);var h=fn(c.firestore,er),m=fp(c.converter,s,l);return Oc(h,[Fa(Te(h),"setDoc",c._key,m,null!==c.converter,l).toMutation(c._key,Cr.none())])}function na(c,s,l){for(var h=[],m=3;m<arguments.length;m++)h[m-3]=arguments[m];c=fn(c,mn);var y=fn(c.firestore,er),b=Te(y);return Oc(y,[("string"==typeof(s=(0,$e.m9)(s))||s instanceof Ko?id(b,"updateDoc",c._key,s,l,h):Ph(b,"updateDoc",c._key,s)).toMutation(c._key,Cr.exists(!0))])}function ld(c){for(var s,l,h,m=[],y=1;y<arguments.length;y++)m[y-1]=arguments[y];c=(0,$e.m9)(c);var b={includeMetadataChanges:!1},D=0;"object"!=typeof m[D]||Ac(m[D])||(b=m[D],D++);var T,O,P,B={includeMetadataChanges:b.includeMetadataChanges};if(Ac(m[D])){var z=m[D];m[D]=null===(s=z.next)||void 0===s?void 0:s.bind(z),m[D+1]=null===(l=z.error)||void 0===l?void 0:l.bind(z),m[D+2]=null===(h=z.complete)||void 0===h?void 0:h.bind(z)}if(c instanceof mn)O=fn(c.firestore,er),P=gl(c._key.path),T={next:function(he){m[D]&&m[D](Nc(O,c,he))},error:m[D+1],complete:m[D+2]};else{var re=fn(c,Pi);O=fn(re.firestore,er),P=re._query;var te=new Va(O);T={next:function(he){m[D]&&m[D](new Xo(O,te,re,he))},error:m[D+1],complete:m[D+2]},ja(c._query)}return function(he,Me,Le,ot){var lt=this,Qt=new fo(ot),vn=new Zf(Me,Qt,Le);return he.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(lt,void 0,void 0,function(){var Hn;return(0,S.Jh)(this,function(go){switch(go.label){case 0:return Hn=yh,[4,Zi(he)];case 1:return[2,Hn.apply(void 0,[go.sent(),vn])]}})})}),function(){Qt.Wo(),he.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(lt,void 0,void 0,function(){var Hn;return(0,S.Jh)(this,function(go){switch(go.label){case 0:return Hn=Cc,[4,Zi(he)];case 1:return[2,Hn.apply(void 0,[go.sent(),vn])]}})})})}}(en(O),P,B,T)}function Oc(c,s){return function(l,h){var m=this,y=new wn;return l.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(m,void 0,void 0,function(){var b;return(0,S.Jh)(this,function(D){switch(D.label){case 0:return b=tp,[4,di(l)];case 1:return[2,b.apply(void 0,[D.sent(),h,y])]}})})}),y.promise}(en(c),s)}function Nc(c,s,l){var h=l.docs.get(s._key),m=new Va(c);return new Zo(c,m,s._key,h,new hr(l.hasPendingWrites,l.fromCache),s.converter)}var ze=function(c){function s(l,h){var m=this;return(m=c.call(this,l,h)||this)._firestore=l,m}return(0,S.ZT)(s,c),s.prototype.get=function(l){var h=this,m=Ba(l,this._firestore),y=new Va(this._firestore);return c.prototype.get.call(this,l).then(function(b){return new Zo(h._firestore,y,m._key,b._document,new hr(!1,!1),m.converter)})},s}(function(){function c(s,l){this._firestore=s,this._transaction=l,this._dataReader=Te(s)}return c.prototype.get=function(s){var l=this,h=Ba(s,this._firestore),m=new gy(this._firestore);return this._transaction.lookup([h._key]).then(function(y){if(!y||1!==y.length)return He();var b=y[0];if(b.isFoundDocument())return new gn(l._firestore,m,b.key,b,h.converter);if(b.isNoDocument())return new gn(l._firestore,m,h._key,null,h.converter);throw He()})},c.prototype.set=function(s,l,h){var m=Ba(s,this._firestore),y=fp(m.converter,l,h),b=Fa(this._dataReader,"Transaction.set",m._key,y,null!==m.converter,h);return this._transaction.set(m._key,b),this},c.prototype.update=function(s,l,h){for(var m=[],y=3;y<arguments.length;y++)m[y-3]=arguments[y];var b,D=Ba(s,this._firestore);return b="string"==typeof(l=(0,$e.m9)(l))||l instanceof Ko?id(this._dataReader,"Transaction.update",D._key,l,h,m):Ph(this._dataReader,"Transaction.update",D._key,l),this._transaction.update(D._key,b),this},c.prototype.delete=function(s){var l=Ba(s,this._firestore);return this._transaction.delete(l._key),this},c}());function Ua(){if(typeof Uint8Array>"u")throw new we(ue.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ir(){if(typeof atob>"u")throw new we(ue.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ha=function(){function c(s){this._delegate=s}return c.fromBase64String=function(s){return ir(),new c(Mc.fromBase64String(s))},c.fromUint8Array=function(s){return Ua(),new c(Mc.fromUint8Array(s))},c.prototype.toBase64=function(){return ir(),this._delegate.toBase64()},c.prototype.toUint8Array=function(){return Ua(),this._delegate.toUint8Array()},c.prototype.isEqual=function(s){return this._delegate.isEqual(s._delegate)},c.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},c}(),Oo=function(){function c(){}return c.prototype.enableIndexedDbPersistence=function(s,l){return function(h,m){ev(h=fn(h,er));var y=en(h),b=h._freezeSettings(),D=new Vu;return Fm(y,D,new uy(D,b.cacheSizeBytes,m?.forceOwnership))}(s._delegate,{forceOwnership:l})},c.prototype.enableMultiTabIndexedDbPersistence=function(s){return function(l){ev(l=fn(l,er));var h=en(l),m=l._freezeSettings(),y=new Vu;return Fm(h,y,new ly(y,m.cacheSizeBytes))}(s._delegate)},c.prototype.clearIndexedDbPersistence=function(s){return function(l){var h=this;if(l._initialized&&!l._terminated)throw new we(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var m=new wn;return l._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,S.mG)(h,void 0,void 0,function(){var y;return(0,S.Jh)(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,function(D){return(0,S.mG)(this,void 0,void 0,function(){return(0,S.Jh)(this,function(O){switch(O.label){case 0:return Ta.yt()?[4,Ta.delete(D+"main")]:[2,Promise.resolve()];case 1:return O.sent(),[2]}})})}(am(l._databaseId,l._persistenceKey))];case 1:return b.sent(),m.resolve(),[3,3];case 2:return y=b.sent(),m.reject(y),[3,3];case 3:return[2]}})})}),m.promise}(s._delegate)},c}(),vy=function(){function c(s,l,h){var m=this;this._delegate=l,this.Zc=h,this.INTERNAL={delete:function(){return m.terminate()}},s instanceof td||(this.tu=s)}return Object.defineProperty(c.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),c.prototype.settings=function(s){var l=this._delegate._getSettings();s.merge||l.host===s.host||cu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),s.merge&&delete(s=Object.assign(Object.assign({},l),s)).merge,this._delegate._setSettings(s)},c.prototype.useEmulator=function(s,l,h){void 0===h&&(h={}),function(m,y,b,D){var T;void 0===D&&(D={});var O=(m=fn(m,xc))._getSettings();if("firestore.googleapis.com"!==O.host&&O.host!==y&&cu("Host has been set in both settings() and useEmulator(), emulator host will be used"),m._setSettings(Object.assign(Object.assign({},O),{host:y+":"+b,ssl:!1})),D.mockUserToken){var P,B;if("string"==typeof D.mockUserToken)P=D.mockUserToken,B=li.MOCK_USER;else{P=(0,$e.Sg)(D.mockUserToken,null===(T=m._app)||void 0===T?void 0:T.options.projectId);var z=D.mockUserToken.sub||D.mockUserToken.user_id;if(!z)throw new we(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");B=new li(z)}m._credentials=new Rm(new nd(P,B))}}(this._delegate,s,l,h)},c.prototype.enableNetwork=function(){return function(s){var l=this;return s.asyncQueue.enqueue(function(){return(0,S.mG)(l,void 0,void 0,function(){var h,m;return(0,S.Jh)(this,function(y){switch(y.label){case 0:return[4,xm(s)];case 1:return h=y.sent(),[4,Zg(s)];case 2:return m=y.sent(),[2,(h.setNetworkEnabled(!0),b=m,D=Pe(b),D.Or.delete(0),dh(D))]}var b,D})})})}(en(fn(this._delegate,er)))},c.prototype.disableNetwork=function(){return function(s){var l=this;return s.asyncQueue.enqueue(function(){return(0,S.mG)(l,void 0,void 0,function(){var h,m;return(0,S.Jh)(this,function(y){switch(y.label){case 0:return[4,xm(s)];case 1:return h=y.sent(),[4,Zg(s)];case 2:return m=y.sent(),[2,(h.setNetworkEnabled(!1),function(b){return(0,S.mG)(this,void 0,void 0,function(){var D;return(0,S.Jh)(this,function(T){switch(T.label){case 0:return(D=Pe(b)).Or.add(0),[4,Hl(D)];case 1:return T.sent(),D.Br.set("Offline"),[2]}})})}(m))]}})})})}(en(fn(this._delegate,er)))},c.prototype.enablePersistence=function(s){var l=!1,h=!1;return s&&Go("synchronizeTabs",l=!!s.synchronizeTabs,"experimentalForceOwningTab",h=!!s.experimentalForceOwningTab),l?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,h)},c.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},c.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},c.prototype.waitForPendingWrites=function(){return function(s){var l=this,h=new wn;return s.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(l,void 0,void 0,function(){var m;return(0,S.Jh)(this,function(y){switch(y.label){case 0:return m=Em,[4,di(s)];case 1:return[2,m.apply(void 0,[y.sent(),h])]}})})}),h.promise}(en(fn(this._delegate,er)))},c.prototype.onSnapshotsInSync=function(s){return h=s,function(m,y){var b=this,D=new fo(y);return m.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(b,void 0,void 0,function(){var T;return(0,S.Jh)(this,function(O){switch(O.label){case 0:return T=function(P,B){Pe(P).Gr.add(B),B.next()},[4,Zi(m)];case 1:return[2,T.apply(void 0,[O.sent(),D])]}})})}),function(){D.Wo(),m.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(b,void 0,void 0,function(){var T;return(0,S.Jh)(this,function(O){switch(O.label){case 0:return T=function(P,B){Pe(P).Gr.delete(B)},[4,Zi(m)];case 1:return[2,T.apply(void 0,[O.sent(),D])]}})})})}}(en(fn(this._delegate,er)),Ac(h)?h:{next:h});var h},Object.defineProperty(c.prototype,"app",{get:function(){if(!this.tu)throw new we(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),c.prototype.collection=function(s){try{return new u(this,Wo(this._delegate,s))}catch(l){throw fi(l,"collection()","Firestore.collection()")}},c.prototype.doc=function(s){try{return new qa(this,cp(this._delegate,s))}catch(l){throw fi(l,"doc()","Firestore.doc()")}},c.prototype.collectionGroup=function(s){try{return new Zn(this,function(l,h){if(l=fn(l,xc),Tc("collectionGroup","collection id",h),h.indexOf("/")>=0)throw new we(ue.INVALID_ARGUMENT,"Invalid collection ID '"+h+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Pi(l,null,(m=h,new js(Kt.emptyPath(),m)));var m}(this._delegate,s))}catch(l){throw fi(l,"collectionGroup()","Firestore.collectionGroup()")}},c.prototype.runTransaction=function(s){var h,l=this;return function(y,b){var D=this,T=new wn;return y.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(D,void 0,void 0,function(){var O;return(0,S.Jh)(this,function(P){switch(P.label){case 0:return[4,(B=y,Th(B).then(function(z){return z.datastore}))];case 1:return O=P.sent(),new Ih(y.asyncQueue,O,b,T).run(),[2]}var B})})}),T.promise}(en(h=this._delegate),function(y){return function(h){return s(new za(l,h))}(new ze(h,y))})},c.prototype.batch=function(){var s=this;return en(this._delegate),new mp(new pp(this._delegate,function(l){return Oc(s._delegate,l)}))},c.prototype.loadBundle=function(s){throw new we(ue.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},c.prototype.namedQuery=function(s){throw new we(ue.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},c}(),dd=function(c){function s(l){var h=this;return(h=c.call(this)||this).firestore=l,h}return(0,S.ZT)(s,c),s.prototype.convertBytes=function(l){return new Ha(new Mc(l))},s.prototype.convertReference=function(l){var h=this.convertDocumentKey(l,this.firestore._databaseId);return qa.eu(h,this.firestore,null)},s}(hp),za=function(){function c(s,l){this._firestore=s,this._delegate=l,this._userDataWriter=new dd(s)}return c.prototype.get=function(s){var l=this,h=f(s);return this._delegate.get(h).then(function(m){return new Un(l._firestore,new Zo(l._firestore._delegate,l._userDataWriter,m._key,m._document,m.metadata,h.converter))})},c.prototype.set=function(s,l,h){var m=f(s);return h?(ys("Transaction.set",h),this._delegate.set(m,l,h)):this._delegate.set(m,l),this},c.prototype.update=function(s,l,h){for(var m,y=[],b=3;b<arguments.length;b++)y[b-3]=arguments[b];var D=f(s);return 2===arguments.length?this._delegate.update(D,l):(m=this._delegate).update.apply(m,(0,S.ev)([D,l,h],y)),this},c.prototype.delete=function(s){var l=f(s);return this._delegate.delete(l),this},c}(),mp=function(){function c(s){this._delegate=s}return c.prototype.set=function(s,l,h){var m=f(s);return h?(ys("WriteBatch.set",h),this._delegate.set(m,l,h)):this._delegate.set(m,l),this},c.prototype.update=function(s,l,h){for(var m,y=[],b=3;b<arguments.length;b++)y[b-3]=arguments[b];var D=f(s);return 2===arguments.length?this._delegate.update(D,l):(m=this._delegate).update.apply(m,(0,S.ev)([D,l,h],y)),this},c.prototype.delete=function(s){var l=f(s);return this._delegate.delete(l),this},c.prototype.commit=function(){return this._delegate.commit()},c}(),$a=function(){function c(s,l,h){this._firestore=s,this._userDataWriter=l,this._delegate=h}return c.prototype.fromFirestore=function(s,l){var h=new Mn(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,null);return this._delegate.fromFirestore(new Uh(this._firestore,h),l??{})},c.prototype.toFirestore=function(s,l){return l?this._delegate.toFirestore(s,l):this._delegate.toFirestore(s)},c.nu=function(s,l){var h=c.su,m=h.get(s);m||h.set(s,m=new WeakMap);var y=m.get(l);return y||(y=new c(s,new dd(s),l),m.set(l,y)),y},c}();$a.su=new WeakMap;var qa=function(){function c(s,l){this.firestore=s,this._delegate=l,this._userDataWriter=new dd(s)}return c.iu=function(s,l,h){if(s.length%2!=0)throw new we(ue.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+s.canonicalString()+" has "+s.length);return new c(l,new mn(l._delegate,h,new Ve(s)))},c.eu=function(s,l,h){return new c(l,new mn(l._delegate,h,s))},Object.defineProperty(c.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"parent",{get:function(){return new u(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),c.prototype.collection=function(s){try{return new u(this.firestore,Wo(this._delegate,s))}catch(l){throw fi(l,"collection()","DocumentReference.collection()")}},c.prototype.isEqual=function(s){return(s=(0,$e.m9)(s))instanceof mn&&Jg(this._delegate,s)},c.prototype.set=function(s,l){l=ys("DocumentReference.set",l);try{return l?ud(this._delegate,s,l):ud(this._delegate,s)}catch(h){throw fi(h,"setDoc()","DocumentReference.set()")}},c.prototype.update=function(s,l){for(var h=[],m=2;m<arguments.length;m++)h[m-2]=arguments[m];try{return 1===arguments.length?na(this._delegate,s):na.apply(void 0,(0,S.ev)([this._delegate,s,l],h))}catch(y){throw fi(y,"updateDoc()","DocumentReference.update()")}},c.prototype.delete=function(){return Oc(fn((s=this._delegate).firestore,er),[new Dl(s._key,Cr.none())]);var s},c.prototype.onSnapshot=function(){for(var s=this,l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var m=hd(l),y=fr(l,function(b){return new Un(s.firestore,new Zo(s.firestore._delegate,s._userDataWriter,b._key,b._document,b.metadata,s._delegate.converter))});return ld(this._delegate,m,y)},c.prototype.get=function(s){var l=this;return("cache"===s?.source?function(h){h=fn(h,mn);var m=fn(h.firestore,er),y=en(m),b=new Va(m);return function(D,T){var O=this,P=new wn;return D.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(O,void 0,void 0,function(){var B;return(0,S.Jh)(this,function(z){switch(z.label){case 0:return B=function(re,te,he){return(0,S.mG)(this,void 0,void 0,function(){var Me,Le;return(0,S.Jh)(this,function(ot){switch(ot.label){case 0:return ot.trys.push([0,2,,3]),[4,(lt=re,Qt=te,vn=Pe(lt),vn.persistence.runTransaction("read document","readonly",function(Hn){return vn.Mn.mn(Hn,Qt)}))];case 1:return(Le=ot.sent()).isFoundDocument()?he.resolve(Le):Le.isNoDocument()?he.resolve(null):he.reject(new we(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Me=ot.sent(),Le=Lu(Me,"Failed to get document '"+te+" from cache"),he.reject(Le),[3,3];case 3:return[2]}var lt,Qt,vn})})},[4,Am(D)];case 1:return[2,B.apply(void 0,[z.sent(),T,P])]}})})}),P.promise}(y,h._key).then(function(D){return new Zo(m,b,h._key,D,new hr(null!==D&&D.hasLocalMutations,!0),h.converter)})}(this._delegate):"server"===s?.source?function(h){h=fn(h,mn);var m=fn(h.firestore,er);return Xg(en(m),h._key,{source:"server"}).then(function(y){return Nc(m,h,y)})}(this._delegate):function(h){h=fn(h,mn);var m=fn(h.firestore,er);return Xg(en(m),h._key).then(function(y){return Nc(m,h,y)})}(this._delegate)).then(function(h){return new Un(l.firestore,new Zo(l.firestore._delegate,l._userDataWriter,h._key,h._document,h.metadata,l._delegate.converter))})},c.prototype.withConverter=function(s){return new c(this.firestore,this._delegate.withConverter(s?$a.nu(this.firestore,s):null))},c}();function fi(c,s,l){return c.message=c.message.replace(s,l),c}function hd(c){for(var s=0,l=c;s<l.length;s++){var h=l[s];if("object"==typeof h&&!Ac(h))return h}return{}}function fr(c,s){var l,h,m;return{next:function(y){m.next&&m.next(s(y))},error:null===(l=(m=Ac(c[0])?c[0]:Ac(c[1])?c[1]:"function"==typeof c[0]?{next:c[0],error:c[1],complete:c[2]}:{next:c[1],error:c[2],complete:c[3]}).error)||void 0===l?void 0:l.bind(m),complete:null===(h=m.complete)||void 0===h?void 0:h.bind(m)}}var Un=function(){function c(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(c.prototype,"ref",{get:function(){return new qa(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),c.prototype.data=function(s){return this._delegate.data(s)},c.prototype.get=function(s,l){return this._delegate.get(s,l)},c.prototype.isEqual=function(s){return Lh(this._delegate,s._delegate)},c}(),Uh=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,S.ZT)(s,c),s.prototype.data=function(l){return this._delegate.data(l)},s}(Un),Zn=function(){function c(s,l){this.firestore=s,this._delegate=l,this._userDataWriter=new dd(s)}return c.prototype.where=function(s,l,h){try{return new c(this.firestore,ws(this._delegate,(b=h,D=l,T=ta("where",m=s),new Um(T,D,b))))}catch(m){throw fi(m,/(orderBy|where)\(\)/,"Query.$1()")}var m,b,D,T},c.prototype.orderBy=function(s,l){try{return new c(this.firestore,ws(this._delegate,function(h,m){void 0===m&&(m="asc");var y=m,b=ta("orderBy",h);return new jh(b,y)}(s,l)))}catch(h){throw fi(h,/(orderBy|where)\(\)/,"Query.$1()")}},c.prototype.limit=function(s){try{return new c(this.firestore,ws(this._delegate,(Om("limit",l=s),new zu("limit",l,"F"))))}catch(l){throw fi(l,"limit()","Query.limit()")}var l},c.prototype.limitToLast=function(s){try{return new c(this.firestore,ws(this._delegate,(Om("limitToLast",l=s),new zu("limitToLast",l,"L"))))}catch(l){throw fi(l,"limitToLast()","Query.limitToLast()")}var l},c.prototype.startAt=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new c(this.firestore,ws(this._delegate,function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];return new dp("startAt",h,!0)}.apply(void 0,s)))}catch(h){throw fi(h,"startAt()","Query.startAt()")}},c.prototype.startAfter=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new c(this.firestore,ws(this._delegate,function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];return new dp("startAfter",h,!1)}.apply(void 0,s)))}catch(h){throw fi(h,"startAfter()","Query.startAfter()")}},c.prototype.endBefore=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new c(this.firestore,ws(this._delegate,function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];return new Bh("endBefore",h,!0)}.apply(void 0,s)))}catch(h){throw fi(h,"endBefore()","Query.endBefore()")}},c.prototype.endAt=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new c(this.firestore,ws(this._delegate,function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];return new Bh("endAt",h,!1)}.apply(void 0,s)))}catch(h){throw fi(h,"endAt()","Query.endAt()")}},c.prototype.isEqual=function(s){return Ah(this._delegate,s._delegate)},c.prototype.get=function(s){var l=this;return("cache"===s?.source?function(h){h=fn(h,Pi);var m=fn(h.firestore,er),y=en(m),b=new Va(m);return function(D,T){var O=this,P=new wn;return D.asyncQueue.enqueueAndForget(function(){return(0,S.mG)(O,void 0,void 0,function(){var B;return(0,S.Jh)(this,function(z){switch(z.label){case 0:return B=function(re,te,he){return(0,S.mG)(this,void 0,void 0,function(){var Me,Le,ot,lt,Qt;return(0,S.Jh)(this,function(vn){switch(vn.label){case 0:return vn.trys.push([0,2,,3]),[4,ku(re,te,!0)];case 1:return Qt=vn.sent(),Me=new Zl(te,Qt.Bn),Le=Me._o(Qt.documents),ot=Me.applyChanges(Le,!1),he.resolve(ot.snapshot),[3,3];case 2:return lt=vn.sent(),Qt=Lu(lt,"Failed to execute query '"+te+" against cache"),he.reject(Qt),[3,3];case 3:return[2]}})})},[4,Am(D)];case 1:return[2,B.apply(void 0,[z.sent(),T,P])]}})})}),P.promise}(y,h._query).then(function(D){return new Xo(m,b,h,D)})}(this._delegate):"server"===s?.source?function(h){h=fn(h,Pi);var m=fn(h.firestore,er),y=en(m),b=new Va(m);return po(y,h._query,{source:"server"}).then(function(D){return new Xo(m,b,h,D)})}(this._delegate):function(h){h=fn(h,Pi);var m=fn(h.firestore,er),y=en(m),b=new Va(m);return ja(h._query),po(y,h._query).then(function(D){return new Xo(m,b,h,D)})}(this._delegate)).then(function(h){return new zh(l.firestore,new Xo(l.firestore._delegate,l._userDataWriter,l._delegate,h._snapshot))})},c.prototype.onSnapshot=function(){for(var s=this,l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var m=hd(l),y=fr(l,function(b){return new zh(s.firestore,new Xo(s.firestore._delegate,s._userDataWriter,s._delegate,b._snapshot))});return ld(this._delegate,m,y)},c.prototype.withConverter=function(s){return new c(this.firestore,this._delegate.withConverter(s?$a.nu(this.firestore,s):null))},c}(),Hh=function(){function c(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(c.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"doc",{get:function(){return new Uh(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),c}(),zh=function(){function c(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(c.prototype,"query",{get:function(){return new Zn(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"docs",{get:function(){var s=this;return this._delegate.docs.map(function(l){return new Uh(s._firestore,l)})},enumerable:!1,configurable:!0}),c.prototype.docChanges=function(s){var l=this;return this._delegate.docChanges(s).map(function(h){return new Hh(l._firestore,h)})},c.prototype.forEach=function(s,l){var h=this;this._delegate.forEach(function(m){s.call(l,new Uh(h._firestore,m))})},c.prototype.isEqual=function(s){return Lh(this._delegate,s._delegate)},c}(),u=function(c){function s(l,h){var m=this;return(m=c.call(this,l,h)||this).firestore=l,m._delegate=h,m}return(0,S.ZT)(s,c),Object.defineProperty(s.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){var l=this._delegate.parent;return l?new qa(this.firestore,l):null},enumerable:!1,configurable:!0}),s.prototype.doc=function(l){try{return new qa(this.firestore,void 0===l?cp(this._delegate):cp(this._delegate,l))}catch(h){throw fi(h,"doc()","CollectionReference.doc()")}},s.prototype.add=function(l){var m,y,b,D,T,h=this;return(m=this._delegate,y=l,b=fn(m.firestore,er),D=cp(m),T=fp(m.converter,y),Oc(b,[Fa(Te(m.firestore),"addDoc",D._key,T,null!==m.converter,{}).toMutation(D._key,Cr.exists(!1))]).then(function(){return D})).then(function(m){return new qa(h.firestore,m)})},s.prototype.isEqual=function(l){return Jg(this._delegate,l._delegate)},s.prototype.withConverter=function(l){return new s(this.firestore,this._delegate.withConverter(l?$a.nu(this.firestore,l):null))},s}(Zn);function f(c){return fn(c,mn)}var v=function(){function c(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this._delegate=new(Ko.bind.apply(Ko,(0,S.ev)([void 0],s)))}return c.documentId=function(){return new c(Uo.keyField().canonicalString())},c.prototype.isEqual=function(s){return(s=(0,$e.m9)(s))instanceof Ko&&this._delegate._internalPath.isEqual(s._internalPath)},c}(),w=function(){function c(s){this._delegate=s}return c.serverTimestamp=function(){var s=new Rc("serverTimestamp");return s._methodName="FieldValue.serverTimestamp",new c(s)},c.delete=function(){var s=new Nh("deleteField");return s._methodName="FieldValue.delete",new c(s)},c.arrayUnion=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var h=function(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];return new Yo("arrayUnion",m)}.apply(void 0,s);return h._methodName="FieldValue.arrayUnion",new c(h)},c.arrayRemove=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var h=function(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];return new tv("arrayRemove",m)}.apply(void 0,s);return h._methodName="FieldValue.arrayRemove",new c(h)},c.increment=function(s){var l=new Bm("increment",s);return l._methodName="FieldValue.increment",new c(l)},c.prototype.isEqual=function(s){return this._delegate.isEqual(s._delegate)},c}(),N=$t(75),V={Firestore:vy,GeoPoint:kh,Timestamp:qr,Blob:Ha,Transaction:za,WriteBatch:mp,DocumentReference:qa,DocumentSnapshot:Un,Query:Zn,QueryDocumentSnapshot:Uh,QuerySnapshot:zh,CollectionReference:u,FieldPath:v,FieldValue:w,setLogLevel:function Vh(c){bi.setLogLevel(c)},CACHE_SIZE_UNLIMITED:-1};!function ve(c){c.INTERNAL.registerComponent(new N.wA("firestore",function(h){return s=h.getProvider("app").getImmediate(),l=h.getProvider("auth-internal"),new vy(s,new er(s,l),new Oo);var s,l},"PUBLIC").setServiceProps(Object.assign({},V))),c.registerVersion("@firebase/firestore","2.4.1")}(be.Z)},669:(ec,mi,$t)=>{$t.r(mi);var be=$t(778),S=$t(582),$e=$t(157),rt=$t(75),kt="firebasestorage.googleapis.com",Bi="storageBucket",le=function(M){function x(L,U){var K=M.call(this,$(L),"Firebase Storage: "+U+" ("+$(L)+")")||this;return K.customData={serverResponse:null},K._baseMessage=K.message,Object.setPrototypeOf(K,x.prototype),K}return(0,S.ZT)(x,M),x.prototype._codeEquals=function(L){return $(L)===this.code},Object.defineProperty(x.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(L){this.customData.serverResponse=L,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),x}($e.ZR);function $(M){return"storage/"+M}function Ce(){return new le("unknown","An unknown error occurred, please check the error payload for server response.")}function dt(){return new le("canceled","User canceled the upload/download.")}function ht(){return new le("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Gt(M){return new le("invalid-argument",M)}function Ui(){return new le("app-deleted","The Firebase app was deleted.")}function st(M){return new le("invalid-root-operation","The operation '"+M+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function to(M,x){return new le("invalid-format","String does not match format '"+M+"': "+x)}function Q(M){throw new le("internal-error","Internal error: "+M)}var Rn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},no=function M(x,L){this.data=x,this.contentType=L||null};function ft(M,x){switch(M){case Rn.RAW:return new no(Jr(x));case Rn.BASE64:case Rn.BASE64URL:return new no(ce(M,x));case Rn.DATA_URL:return new no(function Y(M){var x=new se(M);return x.base64?ce(Rn.BASE64,x.rest):function Gn(M){var x;try{x=decodeURIComponent(M)}catch{throw to(Rn.DATA_URL,"Malformed data URL.")}return Jr(x)}(x.rest)}(x),function J(M){return new se(M).contentType}(x))}throw Ce()}function Jr(M){for(var x=[],L=0;L<M.length;L++){var U=M.charCodeAt(L);if(U<=127)x.push(U);else if(U<=2047)x.push(192|U>>6,128|63&U);else if(55296==(64512&U))if(L<M.length-1&&56320==(64512&M.charCodeAt(L+1))){var ie=U,De=M.charCodeAt(++L);x.push(240|(U=65536|(1023&ie)<<10|1023&De)>>18,128|U>>12&63,128|U>>6&63,128|63&U)}else x.push(239,191,189);else 56320==(64512&U)?x.push(239,191,189):x.push(224|U>>12,128|U>>6&63,128|63&U)}return new Uint8Array(x)}function ce(M,x){switch(M){case Rn.BASE64:var L=-1!==x.indexOf("-"),U=-1!==x.indexOf("_");if(L||U)throw to(M,"Invalid character '"+(L?"-":"_")+"' found: is it base64url encoded?");break;case Rn.BASE64URL:var ie=-1!==x.indexOf("+"),De=-1!==x.indexOf("/");if(ie||De)throw to(M,"Invalid character '"+(ie?"+":"/")+"' found: is it base64 encoded?");x=x.replace(/-/g,"+").replace(/_/g,"/")}var Be;try{Be=function Mr(M){return atob(M)}(x)}catch{throw to(M,"Invalid character found")}for(var Ne=new Uint8Array(Be.length),Ze=0;Ze<Be.length;Ze++)Ne[Ze]=Be.charCodeAt(Ze);return Ne}var se=function M(x){this.base64=!1,this.contentType=null;var L=x.match(/^data:([^,]+)?,/);if(null===L)throw to(Rn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var U=L[1]||null;null!=U&&(this.base64=function ye(M,x){return!!(M.length>=x.length)&&M.substring(M.length-x.length)===x}(U,";base64"),this.contentType=this.base64?U.substring(0,U.length-7):U),this.rest=x.substring(x.indexOf(",")+1)},me={STATE_CHANGED:"state_changed"},Ie={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Nt(M){switch(M){case"running":case"pausing":case"canceling":return Ie.RUNNING;case"paused":return Ie.PAUSED;case"success":return Ie.SUCCESS;case"canceled":return Ie.CANCELED;default:return Ie.ERROR}}var Ye=function(M){return M[M.NO_ERROR=0]="NO_ERROR",M[M.NETWORK_ERROR=1]="NETWORK_ERROR",M[M.ABORT=2]="ABORT",M}(Ye||{}),Ke=function(){function M(){var x=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ye.NO_ERROR,this.sendPromise_=new Promise(function(L){x.xhr_.addEventListener("abort",function(){x.errorCode_=Ye.ABORT,L()}),x.xhr_.addEventListener("error",function(){x.errorCode_=Ye.NETWORK_ERROR,L()}),x.xhr_.addEventListener("load",function(){L()})})}return M.prototype.send=function(x,L,U,K){if(this.sent_)throw Q("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(L,x,!0),void 0!==K)for(var ie in K)K.hasOwnProperty(ie)&&this.xhr_.setRequestHeader(ie,K[ie].toString());return void 0!==U?this.xhr_.send(U):this.xhr_.send(),this.sendPromise_},M.prototype.getErrorCode=function(){if(!this.sent_)throw Q("cannot .getErrorCode() before sending");return this.errorCode_},M.prototype.getStatus=function(){if(!this.sent_)throw Q("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},M.prototype.getResponseText=function(){if(!this.sent_)throw Q("cannot .getResponseText() before sending");return this.xhr_.responseText},M.prototype.abort=function(){this.xhr_.abort()},M.prototype.getResponseHeader=function(x){return this.xhr_.getResponseHeader(x)},M.prototype.addUploadProgressListener=function(x){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",x)},M.prototype.removeUploadProgressListener=function(x){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",x)},M}(),gt=function(){function M(){}return M.prototype.createConnection=function(){return function dn(){return new Ke}()},M}(),Vt=function(){function M(x,L){this.bucket=x,this.path_=L}return Object.defineProperty(M.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),M.prototype.fullServerUrl=function(){var x=encodeURIComponent;return"/b/"+x(this.bucket)+"/o/"+x(this.path)},M.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},M.makeFromBucketSpec=function(x,L){var U;try{U=M.makeFromUrl(x,L)}catch{return new M(x,"")}if(""===U.path)return U;throw function qt(M){return new le("invalid-default-bucket","Invalid default bucket '"+M+"'.")}(x)},M.makeFromUrl=function(x,L){var U=null,K="([A-Za-z0-9.\\-_]+)",Be=new RegExp("^gs://"+K+"(/(.*))?$","i");function Ze(Oe){Oe.path_=decodeURIComponent(Oe.path)}for(var _t=L.replace(/[.]/g,"\\."),zr=[{regex:Be,indices:{bucket:1,path:3},postModify:function ie(Oe){"/"===Oe.path.charAt(Oe.path.length-1)&&(Oe.path_=Oe.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+_t+"/v[A-Za-z0-9_]+/b/"+K+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:Ze},{regex:new RegExp("^https?://"+(L===kt?"(?:storage.googleapis.com|storage.cloud.google.com)":L)+"/"+K+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:Ze}],Bo=0;Bo<zr.length;Bo++){var zi=zr[Bo],sc=zi.regex.exec(x);if(sc){var _r=sc[zi.indices.path];_r||(_r=""),U=new M(sc[zi.indices.bucket],_r),zi.postModify(U);break}}if(null==U)throw function sr(M){return new le("invalid-url","Invalid URL '"+M+"'.")}(x);return U},M}(),ei=function(){function M(x){this.promise_=Promise.reject(x)}return M.prototype.getPromise=function(){return this.promise_},M.prototype.cancel=function(x){},M}();function kn(M){return"string"==typeof M||M instanceof String}function an(M){return On()&&M instanceof Blob}function On(){return typeof Blob<"u"}function Ts(M,x,L,U){if(U<x)throw Gt("Invalid value for '"+M+"'. Expected "+x+" or greater.");if(U>L)throw Gt("Invalid value for '"+M+"'. Expected "+L+" or less.")}function ro(M,x){var L=x.match(/^(\w+):\/\/.+/),U=L?.[1],K=x;return null==U&&(K="https://"+x),K+"/v0"+M}function Dd(M){var x=encodeURIComponent,L="?";for(var U in M)M.hasOwnProperty(U)&&(L=L+(x(U)+"=")+x(M[U])+"&");return L.slice(0,-1)}var Rr=function(){function M(x,L,U,K,ie,De,Be,Ne,Ze,yt,_t){var Sn=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=x,this.method_=L,this.headers_=U,this.body_=K,this.successCodes_=ie.slice(),this.additionalRetryCodes_=De.slice(),this.callback_=Be,this.errorCallback_=Ne,this.progressCallback_=yt,this.timeout_=Ze,this.pool_=_t,this.promise_=new Promise(function(yr,on){Sn.resolve_=yr,Sn.reject_=on,Sn.start_()})}return M.prototype.start_=function(){var x=this;function U(K,ie){var De=x.resolve_,Be=x.reject_,Ne=ie.connection;if(ie.wasSuccessCode)try{var Ze=x.callback_(Ne,Ne.getResponseText());!function Kn(M){return void 0!==M}(Ze)?De():De(Ze)}catch(_t){Be(_t)}else if(null!==Ne)(yt=Ce()).serverResponse=Ne.getResponseText(),Be(x.errorCallback_?x.errorCallback_(Ne,yt):yt);else if(ie.canceled)Be(yt=x.appDelete_?Ui():dt());else{var yt;Be(yt=function Lt(){return new le("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())}}this.canceled_?U(0,new ns(!1,null,!0)):this.backoffId_=function Et(M,x,L){var U=1,K=null,ie=!1,De=0;function Be(){return 2===De}var Ne=!1;function Ze(){for(var on=[],Pn=0;Pn<arguments.length;Pn++)on[Pn]=arguments[Pn];Ne||(Ne=!0,x.apply(null,on))}function yt(on){K=setTimeout(function(){K=null,M(_t,Be())},on)}function _t(on){for(var Pn=[],ur=1;ur<arguments.length;ur++)Pn[ur-1]=arguments[ur];if(!Ne){if(on)return void Ze.call.apply(Ze,(0,S.ev)([null,on],Pn));var ni;if(Be()||ie)return void Ze.call.apply(Ze,(0,S.ev)([null,on],Pn));U<64&&(U*=2),1===De?(De=2,ni=0):ni=1e3*(U+Math.random()),yt(ni)}}var Sn=!1;function yr(on){Sn||(Sn=!0,!Ne&&(null!==K?(on||(De=2),clearTimeout(K),yt(0)):on||(De=1)))}return yt(0),setTimeout(function(){ie=!0,yr(!0)},L),yr}(function L(K,ie){if(ie)K(!1,new ns(!1,null,!0));else{var De=x.pool_.createConnection();x.pendingConnection_=De,null!==x.progressCallback_&&De.addUploadProgressListener(Be),De.send(x.url_,x.method_,x.body_,x.headers_).then(function(){null!==x.progressCallback_&&De.removeUploadProgressListener(Be),x.pendingConnection_=null;var Ne=De.getErrorCode()===Ye.NO_ERROR,Ze=De.getStatus();if(Ne&&!x.isRetryStatusCode_(Ze)){var _t=-1!==x.successCodes_.indexOf(Ze);K(!0,new ns(_t,De))}else{var yt=De.getErrorCode()===Ye.ABORT;K(!1,new ns(!1,null,yt))}})}function Be(Ne){null!==x.progressCallback_&&x.progressCallback_(Ne.loaded,Ne.lengthComputable?Ne.total:-1)}},U,this.timeout_)},M.prototype.getPromise=function(){return this.promise_},M.prototype.cancel=function(x){this.canceled_=!0,this.appDelete_=x||!1,null!==this.backoffId_&&function St(M){M(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},M.prototype.isRetryStatusCode_=function(x){var L=x>=500&&x<600,K=-1!==[408,429].indexOf(x),ie=-1!==this.additionalRetryCodes_.indexOf(x);return L||K||ie},M}(),ns=function M(x,L,U){this.wasSuccessCode=x,this.connection=L,this.canceled=!!U};function el(){for(var M=[],x=0;x<arguments.length;x++)M[x]=arguments[x];var L=function cr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==L){for(var U=new L,K=0;K<M.length;K++)U.append(M[K]);return U.getBlob()}if(On())return new Blob(M);throw new le("unsupported-environment","This browser doesn't seem to support creating Blobs")}var In=function(){function M(x,L){var U=0,K="";an(x)?(this.data_=x,U=x.size,K=x.type):x instanceof ArrayBuffer?(L?this.data_=new Uint8Array(x):(this.data_=new Uint8Array(x.byteLength),this.data_.set(new Uint8Array(x))),U=this.data_.length):x instanceof Uint8Array&&(L?this.data_=x:(this.data_=new Uint8Array(x.length),this.data_.set(x)),U=x.length),this.size_=U,this.type_=K}return M.prototype.size=function(){return this.size_},M.prototype.type=function(){return this.type_},M.prototype.slice=function(x,L){if(an(this.data_)){var K=function $c(M,x,L){return M.webkitSlice?M.webkitSlice(x,L):M.mozSlice?M.mozSlice(x,L):M.slice?M.slice(x,L):null}(this.data_,x,L);return null===K?null:new M(K)}return new M(new Uint8Array(this.data_.buffer,x,L-x),!0)},M.getBlob=function(){for(var x=[],L=0;L<arguments.length;L++)x[L]=arguments[L];if(On()){var U=x.map(function(Ne){return Ne instanceof M?Ne.data_:Ne});return new M(el.apply(null,U))}var K=x.map(function(Ne){return kn(Ne)?ft(Rn.RAW,Ne).data:Ne.data_}),ie=0;K.forEach(function(Ne){ie+=Ne.byteLength});var De=new Uint8Array(ie),Be=0;return K.forEach(function(Ne){for(var Ze=0;Ze<Ne.length;Ze++)De[Be++]=Ne[Ze]}),new M(De,!0)},M.prototype.uploadData=function(){return this.data_},M}();function Po(M){var x;try{x=JSON.parse(M)}catch{return null}return function Cn(M){return"object"==typeof M&&!Array.isArray(M)}(x)?x:null}function ee(M){var x=M.lastIndexOf("/",M.length-2);return-1===x?M:M.slice(x+1)}function oe(M,x){return x}var X=function M(x,L,U,K){this.server=x,this.local=L||x,this.writable=!!U,this.xform=K||oe},Ae=null;function Zt(){if(Ae)return Ae;var M=[];M.push(new X("bucket")),M.push(new X("generation")),M.push(new X("metageneration")),M.push(new X("name","fullPath",!0));var L=new X("name");L.xform=function x(ie,De){return function at(M){return!kn(M)||M.length<2?M:ee(M)}(De)},M.push(L);var K=new X("size");return K.xform=function U(ie,De){return void 0!==De?Number(De):De},M.push(K),M.push(new X("timeCreated")),M.push(new X("updated")),M.push(new X("md5Hash",null,!0)),M.push(new X("cacheControl",null,!0)),M.push(new X("contentDisposition",null,!0)),M.push(new X("contentEncoding",null,!0)),M.push(new X("contentLanguage",null,!0)),M.push(new X("contentType",null,!0)),M.push(new X("metadata","customMetadata",!0)),Ae=M}function kr(M,x,L){var U=Po(x);return null===U?null:function Jt(M,x,L){for(var U={type:"file"},K=L.length,ie=0;ie<K;ie++){var De=L[ie];U[De.local]=De.xform(U,x[De.server])}return function cn(M,x){Object.defineProperty(M,"ref",{get:function L(){var ie=new Vt(M.bucket,M.fullPath);return x._makeStorageReference(ie)}})}(U,M),U}(M,U,L)}function vt(M,x){for(var L={},U=x.length,K=0;K<U;K++){var ie=x[K];ie.writable&&(L[ie.server]=M[ie.local])}return JSON.stringify(L)}var gi="prefixes",Or="items";var io=function M(x,L,U,K){this.url=x,this.method=L,this.handler=U,this.timeout=K,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function un(M){if(!M)throw Ce()}function xs(M,x){return function L(U,K){var ie=kr(M,K,x);return un(null!==ie),ie}}function Fo(M){return function x(L,U){var K;return K=401===L.getStatus()?L.getResponseText().includes("Firebase App Check token is invalid")?function Ft(){return new le("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Fe(){return new le("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===L.getStatus()?function xe(M){return new le("quota-exceeded","Quota for bucket '"+M+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(M.bucket):403===L.getStatus()?function Ot(M){return new le("unauthorized","User does not have permission to access '"+M+"'.")}(M.path):U,K.serverResponse=U.serverResponse,K}}function Nn(M){var x=Fo(M);return function L(U,K){var ie=x(U,K);return 404===U.getStatus()&&(ie=function ke(M){return new le("object-not-found","Object '"+M+"' does not exist.")}(M.path)),ie.serverResponse=K.serverResponse,ie}}function tc(M,x,L){var K=ro(x.fullServerUrl(),M.host),De=M.maxOperationRetryTime,Be=new io(K,"GET",xs(M,L),De);return Be.errorHandler=Nn(x),Be}function qc(M,x,L,U,K){var ie={};ie.prefix=x.isRoot?"":x.path+"/",L&&L.length>0&&(ie.delimiter=L),U&&(ie.pageToken=U),K&&(ie.maxResults=K);var Be=ro(x.bucketOnlyServerUrl(),M.host),Ze=M.maxOperationRetryTime,yt=new io(Be,"GET",function Id(M,x){return function L(U,K){var ie=function tl(M,x,L){var U=Po(L);return null===U?null:function Je(M,x,L){var U={prefixes:[],items:[],nextPageToken:L.nextPageToken};if(L[gi])for(var K=0,ie=L[gi];K<ie.length;K++){var Be=ie[K].replace(/\/$/,""),Ne=M._makeStorageReference(new Vt(x,Be));U.prefixes.push(Ne)}if(L[Or])for(var Ze=0,yt=L[Or];Ze<yt.length;Ze++)Ne=M._makeStorageReference(new Vt(x,yt[Ze].name)),U.items.push(Ne);return U}(M,x,U)}(M,x,K);return un(null!==ie),ie}}(M,x.bucket),Ze);return yt.urlParams=ie,yt.errorHandler=Fo(x),yt}function Rp(M,x,L){var U=Object.assign({},L);return U.fullPath=M.path,U.size=x.size(),U.contentType||(U.contentType=function Wc(M,x){return M&&M.contentType||x&&x.type()||"application/octet-stream"}(null,x)),U}var ge=function M(x,L,U,K){this.current=x,this.total=L,this.finalized=!!U,this.metadata=K||null};function rs(M,x){var L=null;try{L=M.getResponseHeader("X-Goog-Upload-Status")}catch{un(!1)}return un(!!L&&-1!==(x||["active"]).indexOf(L)),L}var ua=function M(x,L,U){var K=function nn(M){return"function"==typeof M}(x)||null!=L||null!=U;if(K)this.next=x,this.error=L,this.complete=U;else{var ie=x;this.next=ie.next,this.error=ie.error,this.complete=ie.complete}};function As(M){return function(){for(var x=[],L=0;L<arguments.length;L++)x[L]=arguments[L];Promise.resolve().then(function(){return M.apply(void 0,x)})}}var vi=function(){function M(x,L,U){var K=this;void 0===U&&(U=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=x,this._blob=L,this._metadata=U,this._mappings=Zt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(ie){K._request=void 0,K._chunkMultiplier=1,ie._codeEquals("canceled")?(K._needToFetchStatus=!0,K.completeTransitions_()):(K._error=ie,K._transition("error"))},this._metadataErrorHandler=function(ie){K._request=void 0,ie._codeEquals("canceled")?K.completeTransitions_():(K._error=ie,K._transition("error"))},this._promise=new Promise(function(ie,De){K._resolve=ie,K._reject=De,K._start()}),this._promise.then(null,function(){})}return M.prototype._makeProgressCallback=function(){var x=this,L=this._transferred;return function(U){return x._updateProgress(L+U)}},M.prototype._shouldDoResumable=function(x){return x.size()>262144},M.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},M.prototype._resolveToken=function(x){var L=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(U){var K=U[0],ie=U[1];switch(L._state){case"running":x(K,ie);break;case"canceling":L._transition("canceled");break;case"pausing":L._transition("paused")}})},M.prototype._createResumable=function(){var x=this;this._resolveToken(function(L,U){var K=function pt(M,x,L,U,K){var ie=x.bucketOnlyServerUrl(),De=Rp(x,U,K),Be={name:De.fullPath},Ne=ro(ie,M.host),yt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+U.size(),"X-Goog-Upload-Header-Content-Type":De.contentType,"Content-Type":"application/json; charset=utf-8"},_t=vt(De,L),on=new io(Ne,"POST",function yr(Pn){var ur;rs(Pn);try{ur=Pn.getResponseHeader("X-Goog-Upload-URL")}catch{un(!1)}return un(kn(ur)),ur},M.maxUploadRetryTime);return on.urlParams=Be,on.headers=yt,on.body=_t,on.errorHandler=Fo(x),on}(x._ref.storage,x._ref._location,x._mappings,x._blob,x._metadata),ie=x._ref.storage._makeRequest(K,L,U);x._request=ie,ie.getPromise().then(function(De){x._request=void 0,x._uploadUrl=De,x._needToFetchStatus=!1,x.completeTransitions_()},x._errorHandler)})},M.prototype._fetchStatus=function(){var x=this,L=this._uploadUrl;this._resolveToken(function(U,K){var ie=function rn(M,x,L,U){var Ne=new io(L,"POST",function ie(Ze){var yt=rs(Ze,["active","final"]),_t=null;try{_t=Ze.getResponseHeader("X-Goog-Upload-Size-Received")}catch{un(!1)}_t||un(!1);var Sn=Number(_t);return un(!isNaN(Sn)),new ge(Sn,U.size(),"final"===yt)},M.maxUploadRetryTime);return Ne.headers={"X-Goog-Upload-Command":"query"},Ne.errorHandler=Fo(x),Ne}(x._ref.storage,x._ref._location,L,x._blob),De=x._ref.storage._makeRequest(ie,U,K);x._request=De,De.getPromise().then(function(Be){x._request=void 0,x._updateProgress(Be.current),x._needToFetchStatus=!1,Be.finalized&&(x._needToFetchMetadata=!0),x.completeTransitions_()},x._errorHandler)})},M.prototype._continueUpload=function(){var x=this,L=262144*this._chunkMultiplier,U=new ge(this._transferred,this._blob.size()),K=this._uploadUrl;this._resolveToken(function(ie,De){var Be;try{Be=function Lo(M,x,L,U,K,ie,De,Be){var Ne=new ge(0,0);if(De?(Ne.current=De.current,Ne.total=De.total):(Ne.current=0,Ne.total=U.size()),U.size()!==Ne.total)throw function qn(){return new le("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var Ze=Ne.total-Ne.current,yt=Ze;K>0&&(yt=Math.min(yt,K));var _t=Ne.current,on={"X-Goog-Upload-Command":yt===Ze?"upload, finalize":"upload","X-Goog-Upload-Offset":""+Ne.current},Pn=U.slice(_t,_t+yt);if(null===Pn)throw ht();var zr=new io(L,"POST",function ur(Bo,zi){var Oe,sc=rs(Bo,["active","final"]),ne=Ne.current+yt,_r=U.size();return Oe="final"===sc?xs(x,ie)(Bo,zi):null,new ge(ne,_r,"final"===sc,Oe)},x.maxUploadRetryTime);return zr.headers=on,zr.body=Pn.uploadData(),zr.progressCallback=Be||null,zr.errorHandler=Fo(M),zr}(x._ref._location,x._ref.storage,K,x._blob,L,x._mappings,U,x._makeProgressCallback())}catch(Ze){return x._error=Ze,void x._transition("error")}var Ne=x._ref.storage._makeRequest(Be,ie,De);x._request=Ne,Ne.getPromise().then(function(Ze){x._increaseMultiplier(),x._request=void 0,x._updateProgress(Ze.current),Ze.finalized?(x._metadata=Ze.metadata,x._transition("success")):x.completeTransitions_()},x._errorHandler)})},M.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},M.prototype._fetchMetadata=function(){var x=this;this._resolveToken(function(L,U){var K=tc(x._ref.storage,x._ref._location,x._mappings),ie=x._ref.storage._makeRequest(K,L,U);x._request=ie,ie.getPromise().then(function(De){x._request=void 0,x._metadata=De,x._transition("success")},x._metadataErrorHandler)})},M.prototype._oneShotUpload=function(){var x=this;this._resolveToken(function(L,U){var K=function ca(M,x,L,U,K){var ie=x.bucketOnlyServerUrl(),De={"X-Goog-Upload-Protocol":"multipart"},Ne=function Be(){for(var zr="",Bo=0;Bo<2;Bo++)zr+=Math.random().toString().slice(2);return zr}();De["Content-Type"]="multipart/related; boundary="+Ne;var Ze=Rp(x,U,K),yt=vt(Ze,L),yr=In.getBlob("--"+Ne+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+yt+"\r\n--"+Ne+"\r\nContent-Type: "+Ze.contentType+"\r\n\r\n",U,"\r\n--"+Ne+"--");if(null===yr)throw ht();var on={name:Ze.fullPath},Pn=ro(ie,M.host),ss=M.maxUploadRetryTime,ni=new io(Pn,"POST",xs(M,L),ss);return ni.urlParams=on,ni.headers=De,ni.body=yr.uploadData(),ni.errorHandler=Fo(x),ni}(x._ref.storage,x._ref._location,x._mappings,x._blob,x._metadata),ie=x._ref.storage._makeRequest(K,L,U);x._request=ie,ie.getPromise().then(function(De){x._request=void 0,x._metadata=De,x._updateProgress(x._blob.size()),x._transition("success")},x._errorHandler)})},M.prototype._updateProgress=function(x){var L=this._transferred;this._transferred=x,this._transferred!==L&&this._notifyObservers()},M.prototype._transition=function(x){if(this._state!==x)switch(x){case"canceling":case"pausing":this._state=x,void 0!==this._request&&this._request.cancel();break;case"running":var L="paused"===this._state;this._state=x,L&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=x,this._notifyObservers();break;case"canceled":this._error=dt(),this._state=x,this._notifyObservers()}},M.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(M.prototype,"snapshot",{get:function(){var x=Nt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:x,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),M.prototype.on=function(x,L,U,K){var ie=this,De=new ua(L,U,K);return this._addObserver(De),function(){ie._removeObserver(De)}},M.prototype.then=function(x,L){return this._promise.then(x,L)},M.prototype.catch=function(x){return this.then(null,x)},M.prototype._addObserver=function(x){this._observers.push(x),this._notifyObserver(x)},M.prototype._removeObserver=function(x){var L=this._observers.indexOf(x);-1!==L&&this._observers.splice(L,1)},M.prototype._notifyObservers=function(){var x=this;this._finishPromise(),this._observers.slice().forEach(function(U){x._notifyObserver(U)})},M.prototype._finishPromise=function(){if(void 0!==this._resolve){var x=!0;switch(Nt(this._state)){case Ie.SUCCESS:As(this._resolve.bind(null,this.snapshot))();break;case Ie.CANCELED:case Ie.ERROR:As(this._reject.bind(null,this._error))();break;default:x=!1}x&&(this._resolve=void 0,this._reject=void 0)}},M.prototype._notifyObserver=function(x){switch(Nt(this._state)){case Ie.RUNNING:case Ie.PAUSED:x.next&&As(x.next.bind(x,this.snapshot))();break;case Ie.SUCCESS:x.complete&&As(x.complete.bind(x))();break;default:x.error&&As(x.error.bind(x,this._error))()}},M.prototype.resume=function(){var x="paused"===this._state||"pausing"===this._state;return x&&this._transition("running"),x},M.prototype.pause=function(){var x="running"===this._state;return x&&this._transition("pausing"),x},M.prototype.cancel=function(){var x="running"===this._state||"pausing"===this._state;return x&&this._transition("canceling"),x},M}(),is=function(){function M(x,L){this._service=x,this._location=L instanceof Vt?L:Vt.makeFromUrl(L,x.host)}return M.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},M.prototype._newRef=function(x,L){return new M(x,L)},Object.defineProperty(M.prototype,"root",{get:function(){var x=new Vt(this._location.bucket,"");return this._newRef(this._service,x)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"name",{get:function(){return ee(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"parent",{get:function(){var x=function G(M){if(0===M.length)return null;var x=M.lastIndexOf("/");return-1===x?"":M.slice(0,x)}(this._location.path);if(null===x)return null;var L=new Vt(this._location.bucket,x);return new M(this._service,L)},enumerable:!1,configurable:!0}),M.prototype._throwIfRoot=function(x){if(""===this._location.path)throw st(x)},M}();function nc(M){var x={prefixes:[],items:[]};return bo(M,x).then(function(){return x})}function bo(M,x,L){return(0,S.mG)(this,void 0,void 0,function(){var K,ie,De;return(0,S.Jh)(this,function(Be){switch(Be.label){case 0:return[4,la(M,{pageToken:L})];case 1:return K=Be.sent(),(ie=x.prefixes).push.apply(ie,K.prefixes),(De=x.items).push.apply(De,K.items),null==K.nextPageToken?[3,3]:[4,bo(M,x,K.nextPageToken)];case 2:Be.sent(),Be.label=3;case 3:return[2]}})})}function la(M,x){return(0,S.mG)(this,void 0,void 0,function(){var L,U;return(0,S.Jh)(this,function(K){switch(K.label){case 0:return null!=x&&"number"==typeof x.maxResults&&Ts("options.maxResults",1,1e3,x.maxResults),U=qc(M.storage,M._location,"/",(L=x||{}).pageToken,L.maxResults),[4,M.storage.makeRequestWithTokens(U)];case 1:return[2,K.sent().getPromise()]}})})}function af(M){return(0,S.mG)(this,void 0,void 0,function(){var x;return(0,S.Jh)(this,function(L){switch(L.label){case 0:return M._throwIfRoot("getDownloadURL"),x=function aa(M,x,L){var K=ro(x.fullServerUrl(),M.host),De=M.maxOperationRetryTime,Be=new io(K,"GET",function hn(M,x){return function L(U,K){var ie=kr(M,K,x);return un(null!==ie),function Xt(M,x,L){var U=Po(x);if(null===U||!kn(U.downloadTokens))return null;var K=U.downloadTokens;if(0===K.length)return null;var ie=encodeURIComponent;return K.split(",").map(function(Ne){var yt=M.fullPath;return ro("/b/"+ie(M.bucket)+"/o/"+ie(yt),L)+Dd({alt:"media",token:Ne})})[0]}(ie,K,M.host)}}(M,L),De);return Be.errorHandler=Nn(x),Be}(M.storage,M._location,Zt()),[4,M.storage.makeRequestWithTokens(x)];case 1:return[2,L.sent().getPromise().then(function(U){if(null===U)throw function Ge(){return new le("no-download-url","The given file does not have any download URLs.")}();return U})]}})})}function Kc(M,x){var L=function q(M,x){var L=x.split("/").filter(function(U){return U.length>0}).join("/");return 0===M.length?L:M+"/"+L}(M._location.path,x),U=new Vt(M._location.bucket,L);return new is(M.storage,U)}function wo(M){return/^[A-Za-z]+:\/\//.test(M)}function Nr(M,x){if(M instanceof Yc){var L=M;if(null==L._bucket)throw function ar(){return new le("no-default-bucket","No default bucket found. Did you set the '"+Bi+"' property when initializing the app?")}();var U=new is(L,L._bucket);return null!=x?Nr(U,x):U}return void 0!==x?Kc(M,x):M}function ct(M,x){if(x&&wo(x)){if(M instanceof Yc)return function cf(M,x){return new is(M,x)}(M,x);throw Gt("To use ref(service, url), the first argument must be a Storage instance.")}return Nr(M,x)}function rc(M,x){var L=x?.[Bi];return null==L?null:Vt.makeFromBucketSpec(L,M)}var Yc=function(){function M(x,L,U,K,ie,De){this.app=x,this._authProvider=L,this._appCheckProvider=U,this._pool=K,this._url=ie,this._firebaseVersion=De,this._bucket=null,this._host=kt,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ie?Vt.makeFromBucketSpec(ie,this._host):rc(this._host,this.app.options)}return Object.defineProperty(M.prototype,"host",{get:function(){return this._host},set:function(x){this._host=x,this._bucket=null!=this._url?Vt.makeFromBucketSpec(this._url,x):rc(x,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(x){Ts("time",0,Number.POSITIVE_INFINITY,x),this._maxUploadRetryTime=x},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(x){Ts("time",0,Number.POSITIVE_INFINITY,x),this._maxOperationRetryTime=x},enumerable:!1,configurable:!0}),M.prototype._getAuthToken=function(){return(0,S.mG)(this,void 0,void 0,function(){var x,L;return(0,S.Jh)(this,function(U){switch(U.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(x=this._authProvider.getImmediate({optional:!0}))?[4,x.getToken()]:[3,2];case 1:if(null!==(L=U.sent()))return[2,L.accessToken];U.label=2;case 2:return[2,null]}})})},M.prototype._getAppCheckToken=function(){return(0,S.mG)(this,void 0,void 0,function(){var x;return(0,S.Jh)(this,function(U){switch(U.label){case 0:return(x=this._appCheckProvider.getImmediate({optional:!0}))?[4,x.getToken()]:[3,2];case 1:return[2,U.sent().token];case 2:return[2,null]}})})},M.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(x){return x.cancel()}),this._requests.clear()),Promise.resolve()},M.prototype._makeStorageReference=function(x){return new is(this,x)},M.prototype._makeRequest=function(x,L,U){var K=this;if(this._deleted)return new ei(Ui());var ie=function Hi(M,x,L,U,K,ie){var De=Dd(M.urlParams),Be=M.url+De,Ne=Object.assign({},M.headers);return function Cd(M,x){x&&(M["X-Firebase-GMPID"]=x)}(Ne,x),function rf(M,x){null!==x&&x.length>0&&(M.Authorization="Firebase "+x)}(Ne,L),function xi(M,x){M["X-Firebase-Storage-Version"]="webjs/"+(x??"AppManager")}(Ne,ie),function Ct(M,x){null!==x&&(M["X-Firebase-AppCheck"]=x)}(Ne,U),new Rr(Be,M.method,Ne,M.body,M.successCodes,M.additionalRetryCodes,M.handler,M.errorHandler,M.timeout,M.progressCallback,K)}(x,this._appId,L,U,this._pool,this._firebaseVersion);return this._requests.add(ie),ie.getPromise().then(function(){return K._requests.delete(ie)},function(){return K._requests.delete(ie)}),ie},M.prototype.makeRequestWithTokens=function(x){return(0,S.mG)(this,void 0,void 0,function(){var L;return(0,S.Jh)(this,function(ie){switch(ie.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return L=ie.sent(),[2,this._makeRequest(x,L[0],L[1])]}})})},M}();function os(M,x){return ct(M=(0,$e.m9)(M),x)}var At=function(){function M(x,L,U){this._delegate=x,this.task=L,this.ref=U}return Object.defineProperty(M.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),M}(),Ms=function(){function M(x,L){this._delegate=x,this._ref=L,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(M.prototype,"snapshot",{get:function(){return new At(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),M.prototype.then=function(x,L){var U=this;return this._delegate.then(function(K){if(x)return x(new At(K,U,U._ref))},L)},M.prototype.on=function(x,L,U,K){var ie=this,De=void 0;return L&&(De="function"==typeof L?function(Be){return L(new At(Be,ie,ie._ref))}:{next:L.next?function(Be){return L.next(new At(Be,ie,ie._ref))}:void 0,complete:L.complete||void 0,error:L.error||void 0}),this._delegate.on(x,De,U||void 0,K||void 0)},M}(),Dt=function(){function M(x,L){this._delegate=x,this._service=L}return Object.defineProperty(M.prototype,"prefixes",{get:function(){var x=this;return this._delegate.prefixes.map(function(L){return new ti(L,x._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"items",{get:function(){var x=this;return this._delegate.items.map(function(L){return new ti(L,x._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),M}(),ti=function(){function M(x,L){this._delegate=x,this.storage=L}return Object.defineProperty(M.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),M.prototype.toString=function(){return this._delegate.toString()},M.prototype.child=function(x){var L=function ic(M,x){return Kc(M,x)}(this._delegate,x);return new M(L,this.storage)},Object.defineProperty(M.prototype,"root",{get:function(){return new M(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"parent",{get:function(){var x=this._delegate.parent;return null==x?null:new M(x,this.storage)},enumerable:!1,configurable:!0}),M.prototype.put=function(x,L){return this._throwIfRoot("put"),new Ms(function Re(M,x,L){return function Sd(M,x,L){return M._throwIfRoot("uploadBytesResumable"),new vi(M,new In(x),L)}(M=(0,$e.m9)(M),x,L)}(this._delegate,x,L),this)},M.prototype.putString=function(x,L,U){void 0===L&&(L=Rn.RAW),this._throwIfRoot("putString");var K=ft(L,x),ie=(0,S.pi)({},U);return null==ie.contentType&&null!=K.contentType&&(ie.contentType=K.contentType),new Ms(new vi(this._delegate,new In(K.data,!0),ie),this)},M.prototype.listAll=function(){var x=this;return function rl(M){return nc(M=(0,$e.m9)(M))}(this._delegate).then(function(L){return new Dt(L,x.storage)})},M.prototype.list=function(x){var L=this;return function Zc(M,x){return la(M=(0,$e.m9)(M),x)}(this._delegate,x||void 0).then(function(U){return new Dt(U,L.storage)})},M.prototype.getMetadata=function(){return function nl(M){return function Td(M){return(0,S.mG)(this,void 0,void 0,function(){var x;return(0,S.Jh)(this,function(L){switch(L.label){case 0:return M._throwIfRoot("getMetadata"),x=tc(M.storage,M._location,Zt()),[4,M.storage.makeRequestWithTokens(x)];case 1:return[2,L.sent().getPromise()]}})})}(M=(0,$e.m9)(M))}(this._delegate)},M.prototype.updateMetadata=function(x){return function pn(M,x){return function Ai(M,x){return(0,S.mG)(this,void 0,void 0,function(){var L;return(0,S.Jh)(this,function(U){switch(U.label){case 0:return M._throwIfRoot("updateMetadata"),L=function tt(M,x,L,U){var ie=ro(x.fullServerUrl(),M.host),Be=vt(L,U),Ze=M.maxOperationRetryTime,yt=new io(ie,"PATCH",xs(M,U),Ze);return yt.headers={"Content-Type":"application/json; charset=utf-8"},yt.body=Be,yt.errorHandler=Nn(x),yt}(M.storage,M._location,x,Zt()),[4,M.storage.makeRequestWithTokens(L)];case 1:return[2,U.sent().getPromise()]}})})}(M=(0,$e.m9)(M),x)}(this._delegate,x)},M.prototype.getDownloadURL=function(){return function ha(M){return af(M=(0,$e.m9)(M))}(this._delegate)},M.prototype.delete=function(){return this._throwIfRoot("delete"),function il(M){return function da(M){return(0,S.mG)(this,void 0,void 0,function(){var x;return(0,S.Jh)(this,function(L){switch(L.label){case 0:return M._throwIfRoot("deleteObject"),x=function Gc(M,x){var U=ro(x.fullServerUrl(),M.host),Be=new io(U,"DELETE",function De(Ne,Ze){},M.maxOperationRetryTime);return Be.successCodes=[200,204],Be.errorHandler=Nn(x),Be}(M.storage,M._location),[4,M.storage.makeRequestWithTokens(x)];case 1:return[2,L.sent().getPromise()]}})})}(M=(0,$e.m9)(M))}(this._delegate)},M.prototype._throwIfRoot=function(x){if(""===this._delegate._location.path)throw st(x)},M}(),oc=function(){function M(x,L){this.app=x,this._delegate=L}return Object.defineProperty(M.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),M.prototype.ref=function(x){if(wo(x))throw Gt("ref() expected a child path but got a URL, use refFromURL instead.");return new ti(os(this._delegate,x),this)},M.prototype.refFromURL=function(x){if(!wo(x))throw Gt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Vt.makeFromUrl(x,this._delegate.host)}catch{throw Gt("refFromUrl() expected a valid full URL but got an invalid one.")}return new ti(os(this._delegate,x),this)},M.prototype.setMaxUploadRetryTime=function(x){this._delegate.maxUploadRetryTime=x},M.prototype.setMaxOperationRetryTime=function(x){this._delegate.maxOperationRetryTime=x},M.prototype.useEmulator=function(x,L,U){void 0===U&&(U={}),function Xc(M,x,L,U){void 0===U&&(U={}),function uf(M,x,L,U){void 0===U&&(U={}),M.host="http://"+x+":"+L;var K=U.mockUserToken;K&&(M._overrideAuthToken="string"==typeof K?K:(0,$e.Sg)(K,M.app.options.projectId))}(M,x,L,U)}(this._delegate,x,L,U)},M}();function ut(M,x){var L=x.instanceIdentifier,U=M.getProvider("app").getImmediate(),K=M.getProvider("auth-internal"),ie=M.getProvider("app-check-internal");return new oc(U,new Yc(U,K,ie,new gt,L,be.Z.SDK_VERSION))}!function xd(M){var x={TaskState:Ie,TaskEvent:me,StringFormat:Rn,Storage:Yc,Reference:ti};M.INTERNAL.registerComponent(new rt.wA("storage",ut,"PUBLIC").setServiceProps(x).setMultipleInstances(!0)),M.registerVersion("@firebase/storage","0.7.1")}(be.Z)},582:(ec,mi,$t)=>{$t.d(mi,{CR:()=>Lt,FC:()=>ht,Jh:()=>xe,KL:()=>Ge,XA:()=>Ot,ZT:()=>S,ev:()=>qt,mG:()=>ke,pi:()=>$e,qq:()=>ar});var be=function(ce,se){return(be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,J){Y.__proto__=J}||function(Y,J){for(var ye in J)Object.prototype.hasOwnProperty.call(J,ye)&&(Y[ye]=J[ye])})(ce,se)};function S(ce,se){if("function"!=typeof se&&null!==se)throw new TypeError("Class extends value "+String(se)+" is not a constructor or null");function Y(){this.constructor=ce}be(ce,se),ce.prototype=null===se?Object.create(se):(Y.prototype=se.prototype,new Y)}var $e=function(){return $e=Object.assign||function(se){for(var Y,J=1,ye=arguments.length;J<ye;J++)for(var me in Y=arguments[J])Object.prototype.hasOwnProperty.call(Y,me)&&(se[me]=Y[me]);return se},$e.apply(this,arguments)};function ke(ce,se,Y,J){return new(Y||(Y=Promise))(function(me,Ie){function Nt(dn){try{Ke(J.next(dn))}catch(gt){Ie(gt)}}function Ye(dn){try{Ke(J.throw(dn))}catch(gt){Ie(gt)}}function Ke(dn){dn.done?me(dn.value):function ye(me){return me instanceof Y?me:new Y(function(Ie){Ie(me)})}(dn.value).then(Nt,Ye)}Ke((J=J.apply(ce,se||[])).next())})}function xe(ce,se){var J,ye,me,Ie,Y={label:0,sent:function(){if(1&me[0])throw me[1];return me[1]},trys:[],ops:[]};return Ie={next:Nt(0),throw:Nt(1),return:Nt(2)},"function"==typeof Symbol&&(Ie[Symbol.iterator]=function(){return this}),Ie;function Nt(Ke){return function(dn){return function Ye(Ke){if(J)throw new TypeError("Generator is already executing.");for(;Ie&&(Ie=0,Ke[0]&&(Y=0)),Y;)try{if(J=1,ye&&(me=2&Ke[0]?ye.return:Ke[0]?ye.throw||((me=ye.return)&&me.call(ye),0):ye.next)&&!(me=me.call(ye,Ke[1])).done)return me;switch(ye=0,me&&(Ke=[2&Ke[0],me.value]),Ke[0]){case 0:case 1:me=Ke;break;case 4:return Y.label++,{value:Ke[1],done:!1};case 5:Y.label++,ye=Ke[1],Ke=[0];continue;case 7:Ke=Y.ops.pop(),Y.trys.pop();continue;default:if(!(me=(me=Y.trys).length>0&&me[me.length-1])&&(6===Ke[0]||2===Ke[0])){Y=0;continue}if(3===Ke[0]&&(!me||Ke[1]>me[0]&&Ke[1]<me[3])){Y.label=Ke[1];break}if(6===Ke[0]&&Y.label<me[1]){Y.label=me[1],me=Ke;break}if(me&&Y.label<me[2]){Y.label=me[2],Y.ops.push(Ke);break}me[2]&&Y.ops.pop(),Y.trys.pop();continue}Ke=se.call(ce,Y)}catch(dn){Ke=[6,dn],ye=0}finally{J=me=0}if(5&Ke[0])throw Ke[1];return{value:Ke[0]?Ke[1]:void 0,done:!0}}([Ke,dn])}}}function Ot(ce){var se="function"==typeof Symbol&&Symbol.iterator,Y=se&&ce[se],J=0;if(Y)return Y.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&J>=ce.length&&(ce=void 0),{value:ce&&ce[J++],done:!ce}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lt(ce,se){var Y="function"==typeof Symbol&&ce[Symbol.iterator];if(!Y)return ce;var ye,Ie,J=Y.call(ce),me=[];try{for(;(void 0===se||se-- >0)&&!(ye=J.next()).done;)me.push(ye.value)}catch(Nt){Ie={error:Nt}}finally{try{ye&&!ye.done&&(Y=J.return)&&Y.call(J)}finally{if(Ie)throw Ie.error}}return me}function qt(ce,se,Y){if(Y||2===arguments.length)for(var me,J=0,ye=se.length;J<ye;J++)(me||!(J in se))&&(me||(me=Array.prototype.slice.call(se,0,J)),me[J]=se[J]);return ce.concat(me||Array.prototype.slice.call(se))}function ar(ce){return this instanceof ar?(this.v=ce,this):new ar(ce)}function ht(ce,se,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,J=Y.apply(ce,se||[]),me=[];return ye={},Ie("next"),Ie("throw"),Ie("return"),ye[Symbol.asyncIterator]=function(){return this},ye;function Ie(Vt){J[Vt]&&(ye[Vt]=function(ei){return new Promise(function(Et,St){me.push([Vt,ei,Et,St])>1||Nt(Vt,ei)})})}function Nt(Vt,ei){try{!function Ye(Vt){Vt.value instanceof ar?Promise.resolve(Vt.value.v).then(Ke,dn):gt(me[0][2],Vt)}(J[Vt](ei))}catch(Et){gt(me[0][3],Et)}}function Ke(Vt){Nt("next",Vt)}function dn(Vt){Nt("throw",Vt)}function gt(Vt,ei){Vt(ei),me.shift(),me.length&&Nt(me[0][0],me[0][1])}}function Ge(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y,se=ce[Symbol.asyncIterator];return se?se.call(ce):(ce=Ot(ce),Y={},J("next"),J("throw"),J("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function J(me){Y[me]=ce[me]&&function(Ie){return new Promise(function(Nt,Ye){!function ye(me,Ie,Nt,Ye){Promise.resolve(Ye).then(function(Ke){me({value:Ke,done:Nt})},Ie)}(Nt,Ye,(Ie=ce[me](Ie)).done,Ie.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},ec=>{ec(ec.s=386)}]);